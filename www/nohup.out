INFO:root:Found model: User (table: users)
INFO:root:  Found mapping: name ==> <StringField, varchar(100):None>
INFO:root:  Found mapping: id ==> <IntegerField, bigint:None>
INFO:root:Found model: User (table: users)
INFO:root:  Found mapping: image ==> <StringField, varchar(500):None>
INFO:root:  Found mapping: passwd ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: email ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: admin ==> <BooleanField, boolean:None>
INFO:root:  Found mapping: id ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: created_at ==> <FloatField, real:None>
INFO:root:  Found mapping: name ==> <StringField, varchar(50):None>
INFO:root:Found model: Blog (table: blogs)
INFO:root:  Found mapping: content ==> <TextField, text:None>
INFO:root:  Found mapping: id ==> <StringField, varchat(50):None>
INFO:root:  Found mapping: created_at ==> <FloatField, real:None>
INFO:root:  Found mapping: user_id ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: user_name ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: summary ==> <StringField, varchar(200):None>
INFO:root:  Found mapping: name ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: user_image ==> <StringField, varchar(500):None>
INFO:root:Found model: Comment (table: comments)
INFO:root:  Found mapping: content ==> <TextField, text:None>
INFO:root:  Found mapping: id ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: user_id ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: user_name ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: created_at ==> <FloatField, real:None>
INFO:root:  Found mapping: user_image ==> <StringField, varchar(500):None>
INFO:root:  Found mapping: blog_id ==> <StringField, varchar(50):None>
INFO:root:Create database connection pool...
INFO:root:Init jinja2...
INFO:root:Set jinja2 template path: /home/admin/webapp/www/templates
INFO:root:add route GET /api/blogs => api_blogs(page)
INFO:root:add route GET /api/comments => api_comments(page)
INFO:root:add route POST /api/blogs => api_create_blog(request, name, summary, content)
INFO:root:add route POST /api/blogs/{id}/comments => api_create_comment(id, request, content)
INFO:root:add route POST /api/blogs/{id}/delete => api_delete_blog(id, request)
INFO:root:add route POST /api/comments/{id}/delete => api_delete_comment(id, request)
INFO:root:add route GET /api/blogs/{id} => api_get_blog(id)
INFO:root:add route GET /api/users => api_get_users(page)
INFO:root:add route POST /api/users => api_register_user(email, name, passwd)
INFO:root:add route POST /api/blogs/{id} => api_update_blog(id, request, name, summary, content)
INFO:root:add route POST /api/authenticate => authenticate(email, passwd)
INFO:root:add route GET /blog/{id} => get_blog(id)
INFO:root:add route GET / => index(request, page)
INFO:root:add route GET /manage/ => manage()
INFO:root:add route GET /manage/blogs => manage_blogs(page)
INFO:root:add route GET /manage/comments => manage_comments(page)
INFO:root:add route GET /manage/blogs/create => manage_create_blogs()
INFO:root:add route GET /manage/blogs/edit => manage_edit_blog(id)
INFO:root:add route GET /manage/users => manage_users(page)
INFO:root:add route GET /register => register()
INFO:root:add route GET /signin => signin()
INFO:root:add route GET /signout => signout(request)
INFO:root:add static /static/ => /home/admin/webapp/www/static
INFO:root:Server started at http://60.205.221.43:80...
INFO:root:Request: GET /
INFO:root:Check user: GET /
INFO:root:Response handler...
INFO:root:Call with arg: {'request': <Request GET / >}
INFO:aiohttp.access:121.40.130.66 [18/May/2018:16:21:30 +0000] "GET / HTTP/1.1" 200 5402 "-" "-"
ERROR:aiohttp.server:Error handling request
Traceback (most recent call last):
  File "/usr/local/lib/python3.5/dist-packages/aiohttp/web_protocol.py", line 272, in data_received
    messages, upgraded, tail = self._request_parser.feed_data(data)
  File "aiohttp/_http_parser.pyx", line 295, in aiohttp._http_parser.HttpParser.feed_data
aiohttp.http_exceptions.BadStatusLine: invalid HTTP method
INFO:root:Request: GET /
INFO:root:Check user: GET /
INFO:root:Response handler...
INFO:root:Call with arg: {'request': <Request GET / >}
INFO:aiohttp.access:47.92.2.1 [18/May/2018:16:46:58 +0000] "GET / HTTP/1.1" 200 5402 "-" "-"
INFO:root:Request: GET /
INFO:root:Check user: GET /
INFO:root:Response handler...
INFO:root:Call with arg: {'request': <Request GET / >}
INFO:aiohttp.access:107.170.227.148 [18/May/2018:17:21:14 +0000] "GET / HTTP/1.1" 200 5383 "-" "Mozilla/5.0 zgrab/0.x"
INFO:root:Request: GET /
INFO:root:Check user: GET /
INFO:root:Response handler...
INFO:root:Call with arg: {'request': <Request GET / >}
INFO:aiohttp.access:139.196.148.101 [18/May/2018:18:21:04 +0000] "GET / HTTP/1.1" 200 5402 "-" "-"
INFO:root:Request: GET /
INFO:root:Check user: GET /
INFO:root:Response handler...
INFO:root:Call with arg: {'request': <Request GET / >}
INFO:aiohttp.access:43.226.53.168 [18/May/2018:18:52:03 +0000] "GET / HTTP/1.1" 200 5383 "-" "Mozilla/4.0 (compatible; MSIE 6.0; Windows NT 5.0)"
INFO:root:Request: GET /cache/global/img/gs.gif
INFO:root:Check user: GET /cache/global/img/gs.gif
INFO:root:Response handler...
INFO:aiohttp.access:80.82.78.50 [18/May/2018:20:48:51 +0000] "GET http://www.baidu.com/cache/global/img/gs.gif HTTP/1.1" 404 173 "-" "Mozilla"
INFO:root:Request: GET /cache/global/img/gs.gif
INFO:root:Check user: GET /cache/global/img/gs.gif
INFO:root:Response handler...
INFO:aiohttp.access:80.82.70.187 [18/May/2018:21:45:45 +0000] "GET http://www.baidu.com/cache/global/img/gs.gif HTTP/1.1" 404 173 "-" "Mozilla"
INFO:root:Request: GET /
INFO:root:Check user: GET /
INFO:root:Response handler...
INFO:root:Call with arg: {'request': <Request GET / >}
INFO:aiohttp.access:114.215.45.101 [19/May/2018:00:49:12 +0000] "GET / HTTP/1.1" 200 5402 "-" "-"
INFO:root:Request: GET /
INFO:root:Check user: GET /
INFO:root:Response handler...
INFO:root:Call with arg: {'request': <Request GET / >}
INFO:aiohttp.access:120.77.57.35 [19/May/2018:02:18:53 +0000] "GET / HTTP/1.1" 200 5402 "-" "-"
INFO:root:Request: GET /
INFO:root:Check user: GET /
INFO:root:Response handler...
INFO:root:Call with arg: {'request': <Request GET / >}
INFO:aiohttp.access:47.92.2.1 [19/May/2018:08:56:25 +0000] "GET / HTTP/1.1" 200 5402 "-" "-"
INFO:root:Request: GET /
INFO:root:Check user: GET /
INFO:root:Response handler...
INFO:root:Call with arg: {'request': <Request GET / >}
INFO:aiohttp.access:47.91.151.200 [19/May/2018:11:32:45 +0000] "GET / HTTP/1.1" 200 5402 "-" "-"
INFO:root:Request: GET /
INFO:root:Check user: GET /
INFO:root:Response handler...
INFO:root:Call with arg: {'request': <Request GET / >}
INFO:aiohttp.access:47.92.2.133 [19/May/2018:14:07:39 +0000] "GET / HTTP/1.1" 200 5402 "-" "-"
INFO:root:Request: GET /cache/global/img/gs.gif
INFO:root:Check user: GET /cache/global/img/gs.gif
INFO:root:Response handler...
INFO:aiohttp.access:80.82.78.50 [19/May/2018:18:19:40 +0000] "GET http://www.baidu.com/cache/global/img/gs.gif HTTP/1.1" 404 173 "-" "Mozilla"
INFO:root:Request: GET /
INFO:root:Check user: GET /
INFO:root:Response handler...
INFO:root:Call with arg: {'request': <Request GET / >}
INFO:aiohttp.access:182.92.180.13 [19/May/2018:18:21:49 +0000] "GET / HTTP/1.1" 200 5402 "-" "-"
INFO:root:Request: GET /
INFO:root:Check user: GET /
INFO:root:Response handler...
INFO:root:Call with arg: {'request': <Request GET / >}
INFO:aiohttp.access:114.215.45.101 [19/May/2018:19:01:51 +0000] "GET / HTTP/1.1" 200 5402 "-" "-"
INFO:root:Request: GET /
INFO:root:Check user: GET /
INFO:root:Response handler...
INFO:root:Call with arg: {'request': <Request GET / >}
INFO:aiohttp.access:120.77.57.35 [19/May/2018:21:49:25 +0000] "GET / HTTP/1.1" 200 5402 "-" "-"
ERROR:aiohttp.server:Error handling request
Traceback (most recent call last):
  File "/usr/local/lib/python3.5/dist-packages/aiohttp/web_protocol.py", line 272, in data_received
    messages, upgraded, tail = self._request_parser.feed_data(data)
  File "aiohttp/_http_parser.pyx", line 295, in aiohttp._http_parser.HttpParser.feed_data
aiohttp.http_exceptions.BadStatusLine: invalid HTTP method
INFO:root:Request: GET /
INFO:root:Check user: GET /
INFO:root:Response handler...
INFO:root:Call with arg: {'request': <Request GET / >}
INFO:aiohttp.access:47.93.90.175 [20/May/2018:00:04:17 +0000] "GET / HTTP/1.1" 200 5402 "-" "-"
INFO:root:Request: GET /cache/global/img/gs.gif
INFO:root:Check user: GET /cache/global/img/gs.gif
INFO:root:Response handler...
INFO:aiohttp.access:80.82.70.187 [20/May/2018:00:44:58 +0000] "GET http://www.baidu.com/cache/global/img/gs.gif HTTP/1.1" 404 173 "-" "Mozilla"
INFO:root:Request: GET /1qiWaz2wRsx3eXdc4rDfv5tgb6yhn7Uujm8Lik999
INFO:root:Check user: GET /1qiWaz2wRsx3eXdc4rDfv5tgb6yhn7Uujm8Lik999
INFO:root:Response handler...
INFO:aiohttp.access:139.219.98.156 [20/May/2018:03:22:23 +0000] "GET http://139.219.106.96:11000/1qiWaz2wRsx3eXdc4rDfv5tgb6yhn7Uujm8Lik999 HTTP/1.1" 404 173 "-" "bigsec-ipscan"
INFO:root:Request: GET /
INFO:root:Check user: GET /
INFO:root:Response handler...
INFO:root:Call with arg: {'request': <Request GET / >}
INFO:aiohttp.access:106.14.24.127 [20/May/2018:06:04:46 +0000] "GET / HTTP/1.1" 200 5402 "-" "-"
INFO:root:Request: GET /
INFO:root:Check user: GET /
INFO:root:Response handler...
INFO:root:Call with arg: {'request': <Request GET / >}
INFO:aiohttp.access:59.110.6.177 [20/May/2018:08:04:00 +0000] "GET / HTTP/1.1" 200 5402 "-" "-"
INFO:root:Request: GET /cache/global/img/gs.gif
INFO:root:Check user: GET /cache/global/img/gs.gif
INFO:root:Response handler...
INFO:aiohttp.access:80.82.70.187 [20/May/2018:09:49:47 +0000] "GET http://www.baidu.com/cache/global/img/gs.gif HTTP/1.1" 404 173 "-" "Mozilla"
INFO:root:Request: GET /
INFO:root:Check user: GET /
INFO:root:Response handler...
INFO:root:Call with arg: {'request': <Request GET / >}
INFO:aiohttp.access:139.162.79.87 [20/May/2018:10:14:52 +0000] "GET / HTTP/1.1" 200 5402 "-" "Mozilla/5.0"
ERROR:aiohttp.server:Error handling request
Traceback (most recent call last):
  File "/usr/local/lib/python3.5/dist-packages/aiohttp/web_protocol.py", line 272, in data_received
    messages, upgraded, tail = self._request_parser.feed_data(data)
  File "aiohttp/_http_parser.pyx", line 295, in aiohttp._http_parser.HttpParser.feed_data
aiohttp.http_exceptions.BadStatusLine: invalid HTTP method
INFO:root:Request: GET /
INFO:root:Check user: GET /
INFO:root:Response handler...
INFO:root:Call with arg: {'request': <Request GET / >}
INFO:aiohttp.access:120.55.81.217 [20/May/2018:14:20:45 +0000] "GET / HTTP/1.1" 200 5402 "-" "-"
INFO:root:Request: GET /cache/global/img/gs.gif
INFO:root:Check user: GET /cache/global/img/gs.gif
INFO:root:Response handler...
INFO:aiohttp.access:80.82.78.50 [20/May/2018:15:50:30 +0000] "GET http://www.baidu.com/cache/global/img/gs.gif HTTP/1.1" 404 173 "-" "Mozilla"
INFO:root:Request: GET /
INFO:root:Check user: GET /
INFO:root:Response handler...
INFO:root:Call with arg: {'request': <Request GET / >}
INFO:aiohttp.access:114.215.45.101 [20/May/2018:16:03:19 +0000] "GET / HTTP/1.1" 200 5402 "-" "-"
INFO:root:Request: GET /
INFO:root:Check user: GET /
INFO:root:Response handler...
INFO:root:Call with arg: {'request': <Request GET / >}
INFO:aiohttp.access:115.29.170.50 [20/May/2018:16:39:45 +0000] "GET / HTTP/1.1" 200 5402 "-" "-"
INFO:root:Request: GET /
INFO:root:Check user: GET /
INFO:root:Response handler...
INFO:root:Call with arg: {'request': <Request GET / >}
INFO:aiohttp.access:120.76.24.112 [20/May/2018:18:21:38 +0000] "GET / HTTP/1.1" 200 5402 "-" "-"
INFO:root:Request: GET /cache/global/img/gs.gif
INFO:root:Check user: GET /cache/global/img/gs.gif
INFO:root:Response handler...
INFO:aiohttp.access:80.82.70.187 [20/May/2018:19:14:36 +0000] "GET http://www.baidu.com/cache/global/img/gs.gif HTTP/1.1" 404 173 "-" "Mozilla"
INFO:root:Request: GET /
INFO:root:Check user: GET /
INFO:root:Response handler...
INFO:root:Call with arg: {'request': <Request GET / >}
INFO:aiohttp.access:47.88.7.179 [20/May/2018:23:15:38 +0000] "GET / HTTP/1.1" 200 5402 "-" "-"
INFO:root:Request: GET /
INFO:root:Check user: GET /
INFO:root:Response handler...
INFO:root:Call with arg: {'request': <Request GET / >}
INFO:aiohttp.access:47.93.112.232 [21/May/2018:00:41:31 +0000] "GET / HTTP/1.1" 200 5402 "-" "-"
INFO:root:Request: GET /
INFO:root:Check user: GET /
INFO:root:Response handler...
INFO:root:Call with arg: {'request': <Request GET / >}
INFO:aiohttp.access:106.120.206.141 [21/May/2018:01:45:12 +0000] "GET / HTTP/1.1" 200 5383 "-" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/66.0.3359.181 Safari/537.36"
INFO:root:Request: GET /api/blogs
INFO:root:Check user: GET /api/blogs
INFO:root:Response handler...
INFO:root:Call with arg: {'page': '1'}
INFO:root:SQL: select count(id) _num_ from `blogs`
INFO:root:Rows returned: 1
INFO:root:SQL: select `id`, `content`, `created_at`, `user_id`, `user_name`, `summary`, `name`, `user_image` from `blogs` order by created_at desc limit ?, ?
INFO:root:Rows returned: 5
INFO:aiohttp.access:106.120.206.141 [21/May/2018:01:45:13 +0000] "GET /api/blogs?page=1 HTTP/1.1" 200 29629 "http://www.lxiao.net:8000/" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/66.0.3359.181 Safari/537.36"
INFO:root:Request: GET /favicon.ico
INFO:root:Check user: GET /favicon.ico
INFO:root:Response handler...
INFO:aiohttp.access:106.120.206.141 [21/May/2018:01:45:13 +0000] "GET /favicon.ico HTTP/1.1" 404 173 "http://www.lxiao.net:8000/" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/66.0.3359.181 Safari/537.36"
INFO:root:Found model: User (table: users)
INFO:root:  Found mapping: id ==> <IntegerField, bigint:None>
INFO:root:  Found mapping: name ==> <StringField, varchar(100):None>
INFO:root:Found model: User (table: users)
INFO:root:  Found mapping: passwd ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: image ==> <StringField, varchar(500):None>
INFO:root:  Found mapping: email ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: name ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: id ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: created_at ==> <FloatField, real:None>
INFO:root:  Found mapping: admin ==> <BooleanField, boolean:None>
INFO:root:Found model: Blog (table: blogs)
INFO:root:  Found mapping: name ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: user_image ==> <StringField, varchar(500):None>
INFO:root:  Found mapping: user_id ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: user_name ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: private ==> <BooleanField, boolean:None>
INFO:root:  Found mapping: summary ==> <StringField, varchar(200):None>
INFO:root:  Found mapping: content ==> <TextField, text:None>
INFO:root:  Found mapping: id ==> <StringField, varchat(50):None>
INFO:root:  Found mapping: created_at ==> <FloatField, real:None>
INFO:root:Found model: Comment (table: comments)
INFO:root:  Found mapping: user_image ==> <StringField, varchar(500):None>
INFO:root:  Found mapping: user_name ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: user_id ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: blog_id ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: id ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: created_at ==> <FloatField, real:None>
INFO:root:  Found mapping: content ==> <TextField, text:None>
INFO:root:Create database connection pool...
INFO:root:Init jinja2...
INFO:root:Set jinja2 template path: /home/admin/webapp/www/templates
INFO:root:add route GET /api/blogs => api_blogs(page)
INFO:root:add route GET /api/comments => api_comments(page)
INFO:root:add route POST /api/blogs => api_create_blog(request, name, summary, content)
INFO:root:add route POST /api/blogs/{id}/comments => api_create_comment(id, request, content)
INFO:root:add route POST /api/blogs/{id}/delete => api_delete_blog(id, request)
INFO:root:add route POST /api/comments/{id}/delete => api_delete_comment(id, request)
INFO:root:add route GET /api/blogs/{id} => api_get_blog(id)
INFO:root:add route GET /api/users => api_get_users(page)
INFO:root:add route POST /api/users => api_register_user(email, name, passwd)
INFO:root:add route POST /api/blogs/{id} => api_update_blog(id, request, name, summary, content)
INFO:root:add route POST /api/authenticate => authenticate(email, passwd)
INFO:root:add route GET /blog/{id} => get_blog(id)
INFO:root:add route GET / => index(request, page)
INFO:root:add route GET /manage/ => manage()
INFO:root:add route GET /manage/blogs => manage_blogs(page)
INFO:root:add route GET /manage/comments => manage_comments(page)
INFO:root:add route GET /manage/blogs/create => manage_create_blogs()
INFO:root:add route GET /manage/blogs/edit => manage_edit_blog(id)
INFO:root:add route GET /manage/users => manage_users(page)
INFO:root:add route GET /register => register()
INFO:root:add route GET /signin => signin()
INFO:root:add route GET /signout => signout(request)
INFO:root:add static /static/ => /home/admin/webapp/www/static
INFO:root:Server started at http://60.205.221.43:80...
INFO:root:Request: GET /
INFO:root:Check user: GET /
INFO:root:Response handler...
INFO:root:Call with arg: {'request': <Request GET / >}
INFO:aiohttp.access:106.120.206.141 [21/May/2018:01:59:48 +0000] "GET / HTTP/1.1" 200 5383 "-" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/66.0.3359.181 Safari/537.36"
INFO:root:Request: GET /api/blogs
INFO:root:Check user: GET /api/blogs
INFO:root:Response handler...
INFO:root:Call with arg: {'page': '1'}
INFO:root:SQL: select count(id) _num_ from `blogs`
INFO:root:Rows returned: 1
INFO:root:SQL: select `id`, `name`, `user_image`, `user_id`, `user_name`, `private`, `summary`, `content`, `created_at` from `blogs` order by created_at desc limit ?, ?
INFO:root:Rows returned: 5
INFO:aiohttp.access:106.120.206.141 [21/May/2018:01:59:48 +0000] "GET /api/blogs?page=1 HTTP/1.1" 200 29714 "http://www.lxiao.net:8000/" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/66.0.3359.181 Safari/537.36"
INFO:root:Request: GET /blog/001526633743922ed51f806d7bc4231abdf715ea1b58f46000
INFO:root:Check user: GET /blog/001526633743922ed51f806d7bc4231abdf715ea1b58f46000
INFO:root:Response handler...
INFO:root:Call with arg: {'id': '001526633743922ed51f806d7bc4231abdf715ea1b58f46000'}
INFO:root:SQL: select `id`, `name`, `user_image`, `user_id`, `user_name`, `private`, `summary`, `content`, `created_at` from `blogs` where `id`=?
INFO:root:Rows returned: 1
INFO:root:SQL: select `id`, `user_image`, `user_name`, `user_id`, `blog_id`, `created_at`, `content` from `comments` where blog_id=? order by created_at desc
INFO:root:Rows returned: 0
INFO:aiohttp.access:106.120.206.141 [21/May/2018:01:59:49 +0000] "GET /blog/001526633743922ed51f806d7bc4231abdf715ea1b58f46000 HTTP/1.1" 200 9094 "http://www.lxiao.net:8000/" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/66.0.3359.181 Safari/537.36"
INFO:root:Found model: User (table: users)
INFO:root:  Found mapping: id ==> <IntegerField, bigint:None>
INFO:root:  Found mapping: name ==> <StringField, varchar(100):None>
Traceback (most recent call last):
  File "app.py", line 10, in <module>
    from handlers import cookie2user, COOKIE_NAME
  File "/home/admin/webapp/www/handlers.py", line 116
    private
     ^
SyntaxError: positional argument follows keyword argument
INFO:root:Found model: User (table: users)
INFO:root:  Found mapping: id ==> <IntegerField, bigint:None>
INFO:root:  Found mapping: name ==> <StringField, varchar(100):None>
Traceback (most recent call last):
  File "app.py", line 10, in <module>
    from handlers import cookie2user, COOKIE_NAME
  File "/home/admin/webapp/www/handlers.py", line 116
    private
     ^
SyntaxError: positional argument follows keyword argument
INFO:root:Found model: User (table: users)
INFO:root:  Found mapping: id ==> <IntegerField, bigint:None>
INFO:root:  Found mapping: name ==> <StringField, varchar(100):None>
INFO:root:Found model: User (table: users)
INFO:root:  Found mapping: passwd ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: created_at ==> <FloatField, real:None>
INFO:root:  Found mapping: id ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: image ==> <StringField, varchar(500):None>
INFO:root:  Found mapping: admin ==> <BooleanField, boolean:None>
INFO:root:  Found mapping: name ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: email ==> <StringField, varchar(50):None>
INFO:root:Found model: Blog (table: blogs)
INFO:root:  Found mapping: user_id ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: private ==> <BooleanField, boolean:None>
INFO:root:  Found mapping: user_image ==> <StringField, varchar(500):None>
INFO:root:  Found mapping: id ==> <StringField, varchat(50):None>
INFO:root:  Found mapping: created_at ==> <FloatField, real:None>
INFO:root:  Found mapping: user_name ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: summary ==> <StringField, varchar(200):None>
INFO:root:  Found mapping: content ==> <TextField, text:None>
INFO:root:  Found mapping: name ==> <StringField, varchar(50):None>
INFO:root:Found model: Comment (table: comments)
INFO:root:  Found mapping: user_image ==> <StringField, varchar(500):None>
INFO:root:  Found mapping: user_id ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: id ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: created_at ==> <FloatField, real:None>
INFO:root:  Found mapping: user_name ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: blog_id ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: content ==> <TextField, text:None>
INFO:root:Create database connection pool...
INFO:root:Init jinja2...
INFO:root:Set jinja2 template path: /home/admin/webapp/www/templates
INFO:root:add route GET /api/blogs => api_blogs(request, page)
INFO:root:add route GET /api/comments => api_comments(page)
INFO:root:add route POST /api/blogs => api_create_blog(request, name, summary, content, private)
INFO:root:add route POST /api/blogs/{id}/comments => api_create_comment(id, request, content)
INFO:root:add route POST /api/blogs/{id}/delete => api_delete_blog(id, request)
INFO:root:add route POST /api/comments/{id}/delete => api_delete_comment(id, request)
INFO:root:add route GET /api/blogs/{id} => api_get_blog(id)
INFO:root:add route GET /api/users => api_get_users(page)
INFO:root:add route POST /api/users => api_register_user(email, name, passwd)
INFO:root:add route POST /api/blogs/{id} => api_update_blog(id, request, name, summary, content, private)
INFO:root:add route POST /api/authenticate => authenticate(email, passwd)
INFO:root:add route GET /blog/{id} => get_blog(id)
INFO:root:add route GET / => index(request, page)
INFO:root:add route GET /manage/ => manage()
INFO:root:add route GET /manage/blogs => manage_blogs(page)
INFO:root:add route GET /manage/comments => manage_comments(page)
INFO:root:add route GET /manage/blogs/create => manage_create_blogs()
INFO:root:add route GET /manage/blogs/edit => manage_edit_blog(id)
INFO:root:add route GET /manage/users => manage_users(page)
INFO:root:add route GET /register => register()
INFO:root:add route GET /signin => signin()
INFO:root:add route GET /signout => signout(request)
INFO:root:add static /static/ => /home/admin/webapp/www/static
INFO:root:Server started at http://60.205.221.43:80...
INFO:root:Request: GET /
INFO:root:Check user: GET /
INFO:root:SQL: select `id`, `passwd`, `created_at`, `image`, `admin`, `name`, `email` from `users` where `id`=?
INFO:root:Rows returned: 1
INFO:root:Set current user: m15801021028@163.com
INFO:root:Response handler...
INFO:root:Call with arg: {'request': <Request GET / >}
INFO:aiohttp.access:106.120.206.141 [21/May/2018:03:33:05 +0000] "GET / HTTP/1.1" 200 5577 "-" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/66.0.3359.181 Safari/537.36"
INFO:root:Request: GET /api/blogs
INFO:root:Check user: GET /api/blogs
INFO:root:SQL: select `id`, `passwd`, `created_at`, `image`, `admin`, `name`, `email` from `users` where `id`=?
INFO:root:Rows returned: 1
INFO:root:Set current user: m15801021028@163.com
INFO:root:Response handler...
INFO:root:Call with arg: {'request': <Request GET /api/blogs >, 'page': '1'}
INFO:root:SQL: select count(id) _num_ from `blogs`
INFO:root:Rows returned: 1
INFO:root:SQL: select `id`, `user_id`, `private`, `user_image`, `created_at`, `user_name`, `summary`, `content`, `name` from `blogs` order by created_at desc limit ?, ?
INFO:root:Rows returned: 5
INFO:aiohttp.access:106.120.206.141 [21/May/2018:03:33:05 +0000] "GET /api/blogs?page=1 HTTP/1.1" 200 19730 "http://www.lxiao.net:8000/" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/66.0.3359.181 Safari/537.36"

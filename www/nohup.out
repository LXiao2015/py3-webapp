INFO:root:Found model: User (table: users)
INFO:root:  Found mapping: name ==> <StringField, varchar(100):None>
INFO:root:  Found mapping: id ==> <IntegerField, bigint:None>
INFO:root:Found model: User (table: users)
INFO:root:  Found mapping: image ==> <StringField, varchar(500):None>
INFO:root:  Found mapping: passwd ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: email ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: admin ==> <BooleanField, boolean:None>
INFO:root:  Found mapping: id ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: created_at ==> <FloatField, real:None>
INFO:root:  Found mapping: name ==> <StringField, varchar(50):None>
INFO:root:Found model: Blog (table: blogs)
INFO:root:  Found mapping: content ==> <TextField, text:None>
INFO:root:  Found mapping: id ==> <StringField, varchat(50):None>
INFO:root:  Found mapping: created_at ==> <FloatField, real:None>
INFO:root:  Found mapping: user_id ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: user_name ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: summary ==> <StringField, varchar(200):None>
INFO:root:  Found mapping: name ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: user_image ==> <StringField, varchar(500):None>
INFO:root:Found model: Comment (table: comments)
INFO:root:  Found mapping: content ==> <TextField, text:None>
INFO:root:  Found mapping: id ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: user_id ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: user_name ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: created_at ==> <FloatField, real:None>
INFO:root:  Found mapping: user_image ==> <StringField, varchar(500):None>
INFO:root:  Found mapping: blog_id ==> <StringField, varchar(50):None>
INFO:root:Create database connection pool...
INFO:root:Init jinja2...
INFO:root:Set jinja2 template path: /home/admin/webapp/www/templates
INFO:root:add route GET /api/blogs => api_blogs(page)
INFO:root:add route GET /api/comments => api_comments(page)
INFO:root:add route POST /api/blogs => api_create_blog(request, name, summary, content)
INFO:root:add route POST /api/blogs/{id}/comments => api_create_comment(id, request, content)
INFO:root:add route POST /api/blogs/{id}/delete => api_delete_blog(id, request)
INFO:root:add route POST /api/comments/{id}/delete => api_delete_comment(id, request)
INFO:root:add route GET /api/blogs/{id} => api_get_blog(id)
INFO:root:add route GET /api/users => api_get_users(page)
INFO:root:add route POST /api/users => api_register_user(email, name, passwd)
INFO:root:add route POST /api/blogs/{id} => api_update_blog(id, request, name, summary, content)
INFO:root:add route POST /api/authenticate => authenticate(email, passwd)
INFO:root:add route GET /blog/{id} => get_blog(id)
INFO:root:add route GET / => index(request, page)
INFO:root:add route GET /manage/ => manage()
INFO:root:add route GET /manage/blogs => manage_blogs(page)
INFO:root:add route GET /manage/comments => manage_comments(page)
INFO:root:add route GET /manage/blogs/create => manage_create_blogs()
INFO:root:add route GET /manage/blogs/edit => manage_edit_blog(id)
INFO:root:add route GET /manage/users => manage_users(page)
INFO:root:add route GET /register => register()
INFO:root:add route GET /signin => signin()
INFO:root:add route GET /signout => signout(request)
INFO:root:add static /static/ => /home/admin/webapp/www/static
INFO:root:Server started at http://60.205.221.43:80...
INFO:root:Request: GET /
INFO:root:Check user: GET /
INFO:root:Response handler...
INFO:root:Call with arg: {'request': <Request GET / >}
INFO:aiohttp.access:121.40.130.66 [18/May/2018:16:21:30 +0000] "GET / HTTP/1.1" 200 5402 "-" "-"
ERROR:aiohttp.server:Error handling request
Traceback (most recent call last):
  File "/usr/local/lib/python3.5/dist-packages/aiohttp/web_protocol.py", line 272, in data_received
    messages, upgraded, tail = self._request_parser.feed_data(data)
  File "aiohttp/_http_parser.pyx", line 295, in aiohttp._http_parser.HttpParser.feed_data
aiohttp.http_exceptions.BadStatusLine: invalid HTTP method
INFO:root:Request: GET /
INFO:root:Check user: GET /
INFO:root:Response handler...
INFO:root:Call with arg: {'request': <Request GET / >}
INFO:aiohttp.access:47.92.2.1 [18/May/2018:16:46:58 +0000] "GET / HTTP/1.1" 200 5402 "-" "-"
INFO:root:Request: GET /
INFO:root:Check user: GET /
INFO:root:Response handler...
INFO:root:Call with arg: {'request': <Request GET / >}
INFO:aiohttp.access:107.170.227.148 [18/May/2018:17:21:14 +0000] "GET / HTTP/1.1" 200 5383 "-" "Mozilla/5.0 zgrab/0.x"
INFO:root:Request: GET /
INFO:root:Check user: GET /
INFO:root:Response handler...
INFO:root:Call with arg: {'request': <Request GET / >}
INFO:aiohttp.access:139.196.148.101 [18/May/2018:18:21:04 +0000] "GET / HTTP/1.1" 200 5402 "-" "-"
INFO:root:Request: GET /
INFO:root:Check user: GET /
INFO:root:Response handler...
INFO:root:Call with arg: {'request': <Request GET / >}
INFO:aiohttp.access:43.226.53.168 [18/May/2018:18:52:03 +0000] "GET / HTTP/1.1" 200 5383 "-" "Mozilla/4.0 (compatible; MSIE 6.0; Windows NT 5.0)"
INFO:root:Request: GET /cache/global/img/gs.gif
INFO:root:Check user: GET /cache/global/img/gs.gif
INFO:root:Response handler...
INFO:aiohttp.access:80.82.78.50 [18/May/2018:20:48:51 +0000] "GET http://www.baidu.com/cache/global/img/gs.gif HTTP/1.1" 404 173 "-" "Mozilla"
INFO:root:Request: GET /cache/global/img/gs.gif
INFO:root:Check user: GET /cache/global/img/gs.gif
INFO:root:Response handler...
INFO:aiohttp.access:80.82.70.187 [18/May/2018:21:45:45 +0000] "GET http://www.baidu.com/cache/global/img/gs.gif HTTP/1.1" 404 173 "-" "Mozilla"
INFO:root:Request: GET /
INFO:root:Check user: GET /
INFO:root:Response handler...
INFO:root:Call with arg: {'request': <Request GET / >}
INFO:aiohttp.access:114.215.45.101 [19/May/2018:00:49:12 +0000] "GET / HTTP/1.1" 200 5402 "-" "-"
INFO:root:Request: GET /
INFO:root:Check user: GET /
INFO:root:Response handler...
INFO:root:Call with arg: {'request': <Request GET / >}
INFO:aiohttp.access:120.77.57.35 [19/May/2018:02:18:53 +0000] "GET / HTTP/1.1" 200 5402 "-" "-"
INFO:root:Request: GET /
INFO:root:Check user: GET /
INFO:root:Response handler...
INFO:root:Call with arg: {'request': <Request GET / >}
INFO:aiohttp.access:47.92.2.1 [19/May/2018:08:56:25 +0000] "GET / HTTP/1.1" 200 5402 "-" "-"
INFO:root:Request: GET /
INFO:root:Check user: GET /
INFO:root:Response handler...
INFO:root:Call with arg: {'request': <Request GET / >}
INFO:aiohttp.access:47.91.151.200 [19/May/2018:11:32:45 +0000] "GET / HTTP/1.1" 200 5402 "-" "-"
INFO:root:Request: GET /
INFO:root:Check user: GET /
INFO:root:Response handler...
INFO:root:Call with arg: {'request': <Request GET / >}
INFO:aiohttp.access:47.92.2.133 [19/May/2018:14:07:39 +0000] "GET / HTTP/1.1" 200 5402 "-" "-"
INFO:root:Request: GET /cache/global/img/gs.gif
INFO:root:Check user: GET /cache/global/img/gs.gif
INFO:root:Response handler...
INFO:aiohttp.access:80.82.78.50 [19/May/2018:18:19:40 +0000] "GET http://www.baidu.com/cache/global/img/gs.gif HTTP/1.1" 404 173 "-" "Mozilla"
INFO:root:Request: GET /
INFO:root:Check user: GET /
INFO:root:Response handler...
INFO:root:Call with arg: {'request': <Request GET / >}
INFO:aiohttp.access:182.92.180.13 [19/May/2018:18:21:49 +0000] "GET / HTTP/1.1" 200 5402 "-" "-"
INFO:root:Request: GET /
INFO:root:Check user: GET /
INFO:root:Response handler...
INFO:root:Call with arg: {'request': <Request GET / >}
INFO:aiohttp.access:114.215.45.101 [19/May/2018:19:01:51 +0000] "GET / HTTP/1.1" 200 5402 "-" "-"
INFO:root:Request: GET /
INFO:root:Check user: GET /
INFO:root:Response handler...
INFO:root:Call with arg: {'request': <Request GET / >}
INFO:aiohttp.access:120.77.57.35 [19/May/2018:21:49:25 +0000] "GET / HTTP/1.1" 200 5402 "-" "-"
ERROR:aiohttp.server:Error handling request
Traceback (most recent call last):
  File "/usr/local/lib/python3.5/dist-packages/aiohttp/web_protocol.py", line 272, in data_received
    messages, upgraded, tail = self._request_parser.feed_data(data)
  File "aiohttp/_http_parser.pyx", line 295, in aiohttp._http_parser.HttpParser.feed_data
aiohttp.http_exceptions.BadStatusLine: invalid HTTP method
INFO:root:Request: GET /
INFO:root:Check user: GET /
INFO:root:Response handler...
INFO:root:Call with arg: {'request': <Request GET / >}
INFO:aiohttp.access:47.93.90.175 [20/May/2018:00:04:17 +0000] "GET / HTTP/1.1" 200 5402 "-" "-"
INFO:root:Request: GET /cache/global/img/gs.gif
INFO:root:Check user: GET /cache/global/img/gs.gif
INFO:root:Response handler...
INFO:aiohttp.access:80.82.70.187 [20/May/2018:00:44:58 +0000] "GET http://www.baidu.com/cache/global/img/gs.gif HTTP/1.1" 404 173 "-" "Mozilla"
INFO:root:Request: GET /1qiWaz2wRsx3eXdc4rDfv5tgb6yhn7Uujm8Lik999
INFO:root:Check user: GET /1qiWaz2wRsx3eXdc4rDfv5tgb6yhn7Uujm8Lik999
INFO:root:Response handler...
INFO:aiohttp.access:139.219.98.156 [20/May/2018:03:22:23 +0000] "GET http://139.219.106.96:11000/1qiWaz2wRsx3eXdc4rDfv5tgb6yhn7Uujm8Lik999 HTTP/1.1" 404 173 "-" "bigsec-ipscan"
INFO:root:Request: GET /
INFO:root:Check user: GET /
INFO:root:Response handler...
INFO:root:Call with arg: {'request': <Request GET / >}
INFO:aiohttp.access:106.14.24.127 [20/May/2018:06:04:46 +0000] "GET / HTTP/1.1" 200 5402 "-" "-"
INFO:root:Request: GET /
INFO:root:Check user: GET /
INFO:root:Response handler...
INFO:root:Call with arg: {'request': <Request GET / >}
INFO:aiohttp.access:59.110.6.177 [20/May/2018:08:04:00 +0000] "GET / HTTP/1.1" 200 5402 "-" "-"
INFO:root:Request: GET /cache/global/img/gs.gif
INFO:root:Check user: GET /cache/global/img/gs.gif
INFO:root:Response handler...
INFO:aiohttp.access:80.82.70.187 [20/May/2018:09:49:47 +0000] "GET http://www.baidu.com/cache/global/img/gs.gif HTTP/1.1" 404 173 "-" "Mozilla"
INFO:root:Request: GET /
INFO:root:Check user: GET /
INFO:root:Response handler...
INFO:root:Call with arg: {'request': <Request GET / >}
INFO:aiohttp.access:139.162.79.87 [20/May/2018:10:14:52 +0000] "GET / HTTP/1.1" 200 5402 "-" "Mozilla/5.0"
ERROR:aiohttp.server:Error handling request
Traceback (most recent call last):
  File "/usr/local/lib/python3.5/dist-packages/aiohttp/web_protocol.py", line 272, in data_received
    messages, upgraded, tail = self._request_parser.feed_data(data)
  File "aiohttp/_http_parser.pyx", line 295, in aiohttp._http_parser.HttpParser.feed_data
aiohttp.http_exceptions.BadStatusLine: invalid HTTP method
INFO:root:Request: GET /
INFO:root:Check user: GET /
INFO:root:Response handler...
INFO:root:Call with arg: {'request': <Request GET / >}
INFO:aiohttp.access:120.55.81.217 [20/May/2018:14:20:45 +0000] "GET / HTTP/1.1" 200 5402 "-" "-"
INFO:root:Request: GET /cache/global/img/gs.gif
INFO:root:Check user: GET /cache/global/img/gs.gif
INFO:root:Response handler...
INFO:aiohttp.access:80.82.78.50 [20/May/2018:15:50:30 +0000] "GET http://www.baidu.com/cache/global/img/gs.gif HTTP/1.1" 404 173 "-" "Mozilla"
INFO:root:Request: GET /
INFO:root:Check user: GET /
INFO:root:Response handler...
INFO:root:Call with arg: {'request': <Request GET / >}
INFO:aiohttp.access:114.215.45.101 [20/May/2018:16:03:19 +0000] "GET / HTTP/1.1" 200 5402 "-" "-"
INFO:root:Request: GET /
INFO:root:Check user: GET /
INFO:root:Response handler...
INFO:root:Call with arg: {'request': <Request GET / >}
INFO:aiohttp.access:115.29.170.50 [20/May/2018:16:39:45 +0000] "GET / HTTP/1.1" 200 5402 "-" "-"
INFO:root:Request: GET /
INFO:root:Check user: GET /
INFO:root:Response handler...
INFO:root:Call with arg: {'request': <Request GET / >}
INFO:aiohttp.access:120.76.24.112 [20/May/2018:18:21:38 +0000] "GET / HTTP/1.1" 200 5402 "-" "-"
INFO:root:Request: GET /cache/global/img/gs.gif
INFO:root:Check user: GET /cache/global/img/gs.gif
INFO:root:Response handler...
INFO:aiohttp.access:80.82.70.187 [20/May/2018:19:14:36 +0000] "GET http://www.baidu.com/cache/global/img/gs.gif HTTP/1.1" 404 173 "-" "Mozilla"
INFO:root:Request: GET /
INFO:root:Check user: GET /
INFO:root:Response handler...
INFO:root:Call with arg: {'request': <Request GET / >}
INFO:aiohttp.access:47.88.7.179 [20/May/2018:23:15:38 +0000] "GET / HTTP/1.1" 200 5402 "-" "-"
INFO:root:Request: GET /
INFO:root:Check user: GET /
INFO:root:Response handler...
INFO:root:Call with arg: {'request': <Request GET / >}
INFO:aiohttp.access:47.93.112.232 [21/May/2018:00:41:31 +0000] "GET / HTTP/1.1" 200 5402 "-" "-"
INFO:root:Request: GET /
INFO:root:Check user: GET /
INFO:root:Response handler...
INFO:root:Call with arg: {'request': <Request GET / >}
INFO:aiohttp.access:106.120.206.141 [21/May/2018:01:45:12 +0000] "GET / HTTP/1.1" 200 5383 "-" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/66.0.3359.181 Safari/537.36"
INFO:root:Request: GET /api/blogs
INFO:root:Check user: GET /api/blogs
INFO:root:Response handler...
INFO:root:Call with arg: {'page': '1'}
INFO:root:SQL: select count(id) _num_ from `blogs`
INFO:root:Rows returned: 1
INFO:root:SQL: select `id`, `content`, `created_at`, `user_id`, `user_name`, `summary`, `name`, `user_image` from `blogs` order by created_at desc limit ?, ?
INFO:root:Rows returned: 5
INFO:aiohttp.access:106.120.206.141 [21/May/2018:01:45:13 +0000] "GET /api/blogs?page=1 HTTP/1.1" 200 29629 "http://www.lxiao.net:8000/" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/66.0.3359.181 Safari/537.36"
INFO:root:Request: GET /favicon.ico
INFO:root:Check user: GET /favicon.ico
INFO:root:Response handler...
INFO:aiohttp.access:106.120.206.141 [21/May/2018:01:45:13 +0000] "GET /favicon.ico HTTP/1.1" 404 173 "http://www.lxiao.net:8000/" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/66.0.3359.181 Safari/537.36"
INFO:root:Found model: User (table: users)
INFO:root:  Found mapping: id ==> <IntegerField, bigint:None>
INFO:root:  Found mapping: name ==> <StringField, varchar(100):None>
INFO:root:Found model: User (table: users)
INFO:root:  Found mapping: passwd ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: image ==> <StringField, varchar(500):None>
INFO:root:  Found mapping: email ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: name ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: id ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: created_at ==> <FloatField, real:None>
INFO:root:  Found mapping: admin ==> <BooleanField, boolean:None>
INFO:root:Found model: Blog (table: blogs)
INFO:root:  Found mapping: name ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: user_image ==> <StringField, varchar(500):None>
INFO:root:  Found mapping: user_id ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: user_name ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: private ==> <BooleanField, boolean:None>
INFO:root:  Found mapping: summary ==> <StringField, varchar(200):None>
INFO:root:  Found mapping: content ==> <TextField, text:None>
INFO:root:  Found mapping: id ==> <StringField, varchat(50):None>
INFO:root:  Found mapping: created_at ==> <FloatField, real:None>
INFO:root:Found model: Comment (table: comments)
INFO:root:  Found mapping: user_image ==> <StringField, varchar(500):None>
INFO:root:  Found mapping: user_name ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: user_id ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: blog_id ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: id ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: created_at ==> <FloatField, real:None>
INFO:root:  Found mapping: content ==> <TextField, text:None>
INFO:root:Create database connection pool...
INFO:root:Init jinja2...
INFO:root:Set jinja2 template path: /home/admin/webapp/www/templates
INFO:root:add route GET /api/blogs => api_blogs(page)
INFO:root:add route GET /api/comments => api_comments(page)
INFO:root:add route POST /api/blogs => api_create_blog(request, name, summary, content)
INFO:root:add route POST /api/blogs/{id}/comments => api_create_comment(id, request, content)
INFO:root:add route POST /api/blogs/{id}/delete => api_delete_blog(id, request)
INFO:root:add route POST /api/comments/{id}/delete => api_delete_comment(id, request)
INFO:root:add route GET /api/blogs/{id} => api_get_blog(id)
INFO:root:add route GET /api/users => api_get_users(page)
INFO:root:add route POST /api/users => api_register_user(email, name, passwd)
INFO:root:add route POST /api/blogs/{id} => api_update_blog(id, request, name, summary, content)
INFO:root:add route POST /api/authenticate => authenticate(email, passwd)
INFO:root:add route GET /blog/{id} => get_blog(id)
INFO:root:add route GET / => index(request, page)
INFO:root:add route GET /manage/ => manage()
INFO:root:add route GET /manage/blogs => manage_blogs(page)
INFO:root:add route GET /manage/comments => manage_comments(page)
INFO:root:add route GET /manage/blogs/create => manage_create_blogs()
INFO:root:add route GET /manage/blogs/edit => manage_edit_blog(id)
INFO:root:add route GET /manage/users => manage_users(page)
INFO:root:add route GET /register => register()
INFO:root:add route GET /signin => signin()
INFO:root:add route GET /signout => signout(request)
INFO:root:add static /static/ => /home/admin/webapp/www/static
INFO:root:Server started at http://60.205.221.43:80...
INFO:root:Request: GET /
INFO:root:Check user: GET /
INFO:root:Response handler...
INFO:root:Call with arg: {'request': <Request GET / >}
INFO:aiohttp.access:106.120.206.141 [21/May/2018:01:59:48 +0000] "GET / HTTP/1.1" 200 5383 "-" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/66.0.3359.181 Safari/537.36"
INFO:root:Request: GET /api/blogs
INFO:root:Check user: GET /api/blogs
INFO:root:Response handler...
INFO:root:Call with arg: {'page': '1'}
INFO:root:SQL: select count(id) _num_ from `blogs`
INFO:root:Rows returned: 1
INFO:root:SQL: select `id`, `name`, `user_image`, `user_id`, `user_name`, `private`, `summary`, `content`, `created_at` from `blogs` order by created_at desc limit ?, ?
INFO:root:Rows returned: 5
INFO:aiohttp.access:106.120.206.141 [21/May/2018:01:59:48 +0000] "GET /api/blogs?page=1 HTTP/1.1" 200 29714 "http://www.lxiao.net:8000/" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/66.0.3359.181 Safari/537.36"
INFO:root:Request: GET /blog/001526633743922ed51f806d7bc4231abdf715ea1b58f46000
INFO:root:Check user: GET /blog/001526633743922ed51f806d7bc4231abdf715ea1b58f46000
INFO:root:Response handler...
INFO:root:Call with arg: {'id': '001526633743922ed51f806d7bc4231abdf715ea1b58f46000'}
INFO:root:SQL: select `id`, `name`, `user_image`, `user_id`, `user_name`, `private`, `summary`, `content`, `created_at` from `blogs` where `id`=?
INFO:root:Rows returned: 1
INFO:root:SQL: select `id`, `user_image`, `user_name`, `user_id`, `blog_id`, `created_at`, `content` from `comments` where blog_id=? order by created_at desc
INFO:root:Rows returned: 0
INFO:aiohttp.access:106.120.206.141 [21/May/2018:01:59:49 +0000] "GET /blog/001526633743922ed51f806d7bc4231abdf715ea1b58f46000 HTTP/1.1" 200 9094 "http://www.lxiao.net:8000/" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/66.0.3359.181 Safari/537.36"
INFO:root:Found model: User (table: users)
INFO:root:  Found mapping: id ==> <IntegerField, bigint:None>
INFO:root:  Found mapping: name ==> <StringField, varchar(100):None>
Traceback (most recent call last):
  File "app.py", line 10, in <module>
    from handlers import cookie2user, COOKIE_NAME
  File "/home/admin/webapp/www/handlers.py", line 116
    private
     ^
SyntaxError: positional argument follows keyword argument
INFO:root:Found model: User (table: users)
INFO:root:  Found mapping: id ==> <IntegerField, bigint:None>
INFO:root:  Found mapping: name ==> <StringField, varchar(100):None>
Traceback (most recent call last):
  File "app.py", line 10, in <module>
    from handlers import cookie2user, COOKIE_NAME
  File "/home/admin/webapp/www/handlers.py", line 116
    private
     ^
SyntaxError: positional argument follows keyword argument
INFO:root:Found model: User (table: users)
INFO:root:  Found mapping: id ==> <IntegerField, bigint:None>
INFO:root:  Found mapping: name ==> <StringField, varchar(100):None>
INFO:root:Found model: User (table: users)
INFO:root:  Found mapping: passwd ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: created_at ==> <FloatField, real:None>
INFO:root:  Found mapping: id ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: image ==> <StringField, varchar(500):None>
INFO:root:  Found mapping: admin ==> <BooleanField, boolean:None>
INFO:root:  Found mapping: name ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: email ==> <StringField, varchar(50):None>
INFO:root:Found model: Blog (table: blogs)
INFO:root:  Found mapping: user_id ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: private ==> <BooleanField, boolean:None>
INFO:root:  Found mapping: user_image ==> <StringField, varchar(500):None>
INFO:root:  Found mapping: id ==> <StringField, varchat(50):None>
INFO:root:  Found mapping: created_at ==> <FloatField, real:None>
INFO:root:  Found mapping: user_name ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: summary ==> <StringField, varchar(200):None>
INFO:root:  Found mapping: content ==> <TextField, text:None>
INFO:root:  Found mapping: name ==> <StringField, varchar(50):None>
INFO:root:Found model: Comment (table: comments)
INFO:root:  Found mapping: user_image ==> <StringField, varchar(500):None>
INFO:root:  Found mapping: user_id ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: id ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: created_at ==> <FloatField, real:None>
INFO:root:  Found mapping: user_name ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: blog_id ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: content ==> <TextField, text:None>
INFO:root:Create database connection pool...
INFO:root:Init jinja2...
INFO:root:Set jinja2 template path: /home/admin/webapp/www/templates
INFO:root:add route GET /api/blogs => api_blogs(request, page)
INFO:root:add route GET /api/comments => api_comments(page)
INFO:root:add route POST /api/blogs => api_create_blog(request, name, summary, content, private)
INFO:root:add route POST /api/blogs/{id}/comments => api_create_comment(id, request, content)
INFO:root:add route POST /api/blogs/{id}/delete => api_delete_blog(id, request)
INFO:root:add route POST /api/comments/{id}/delete => api_delete_comment(id, request)
INFO:root:add route GET /api/blogs/{id} => api_get_blog(id)
INFO:root:add route GET /api/users => api_get_users(page)
INFO:root:add route POST /api/users => api_register_user(email, name, passwd)
INFO:root:add route POST /api/blogs/{id} => api_update_blog(id, request, name, summary, content, private)
INFO:root:add route POST /api/authenticate => authenticate(email, passwd)
INFO:root:add route GET /blog/{id} => get_blog(id)
INFO:root:add route GET / => index(request, page)
INFO:root:add route GET /manage/ => manage()
INFO:root:add route GET /manage/blogs => manage_blogs(page)
INFO:root:add route GET /manage/comments => manage_comments(page)
INFO:root:add route GET /manage/blogs/create => manage_create_blogs()
INFO:root:add route GET /manage/blogs/edit => manage_edit_blog(id)
INFO:root:add route GET /manage/users => manage_users(page)
INFO:root:add route GET /register => register()
INFO:root:add route GET /signin => signin()
INFO:root:add route GET /signout => signout(request)
INFO:root:add static /static/ => /home/admin/webapp/www/static
INFO:root:Server started at http://60.205.221.43:80...
INFO:root:Request: GET /
INFO:root:Check user: GET /
INFO:root:SQL: select `id`, `passwd`, `created_at`, `image`, `admin`, `name`, `email` from `users` where `id`=?
INFO:root:Rows returned: 1
INFO:root:Set current user: m15801021028@163.com
INFO:root:Response handler...
INFO:root:Call with arg: {'request': <Request GET / >}
INFO:aiohttp.access:106.120.206.141 [21/May/2018:03:33:05 +0000] "GET / HTTP/1.1" 200 5577 "-" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/66.0.3359.181 Safari/537.36"
INFO:root:Request: GET /api/blogs
INFO:root:Check user: GET /api/blogs
INFO:root:SQL: select `id`, `passwd`, `created_at`, `image`, `admin`, `name`, `email` from `users` where `id`=?
INFO:root:Rows returned: 1
INFO:root:Set current user: m15801021028@163.com
INFO:root:Response handler...
INFO:root:Call with arg: {'request': <Request GET /api/blogs >, 'page': '1'}
INFO:root:SQL: select count(id) _num_ from `blogs`
INFO:root:Rows returned: 1
INFO:root:SQL: select `id`, `user_id`, `private`, `user_image`, `created_at`, `user_name`, `summary`, `content`, `name` from `blogs` order by created_at desc limit ?, ?
INFO:root:Rows returned: 5
INFO:aiohttp.access:106.120.206.141 [21/May/2018:03:33:05 +0000] "GET /api/blogs?page=1 HTTP/1.1" 200 19730 "http://www.lxiao.net:8000/" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/66.0.3359.181 Safari/537.36"
ERROR:aiohttp.server:Error handling request
Traceback (most recent call last):
  File "/usr/local/lib/python3.5/dist-packages/aiohttp/web_protocol.py", line 272, in data_received
    messages, upgraded, tail = self._request_parser.feed_data(data)
  File "aiohttp/_http_parser.pyx", line 295, in aiohttp._http_parser.HttpParser.feed_data
aiohttp.http_exceptions.BadStatusLine: invalid HTTP method
INFO:root:Request: GET /
INFO:root:Check user: GET /
INFO:root:Response handler...
INFO:root:Call with arg: {'request': <Request GET / >}
INFO:aiohttp.access:101.200.194.132 [21/May/2018:08:20:42 +0000] "GET / HTTP/1.1" 200 5402 "-" "-"
INFO:root:Request: GET /
INFO:root:Check user: GET /
INFO:root:Response handler...
INFO:root:Call with arg: {'request': <Request GET / >}
INFO:aiohttp.access:114.215.45.101 [21/May/2018:08:55:21 +0000] "GET / HTTP/1.1" 200 5402 "-" "-"
ERROR:aiohttp.server:Error handling request
Traceback (most recent call last):
  File "/usr/local/lib/python3.5/dist-packages/aiohttp/web_protocol.py", line 272, in data_received
    messages, upgraded, tail = self._request_parser.feed_data(data)
  File "aiohttp/_http_parser.pyx", line 295, in aiohttp._http_parser.HttpParser.feed_data
aiohttp.http_exceptions.BadStatusLine: invalid HTTP method
INFO:root:Request: GET /cache/global/img/gs.gif
INFO:root:Check user: GET /cache/global/img/gs.gif
INFO:root:Response handler...
INFO:aiohttp.access:172.82.166.210 [21/May/2018:13:40:43 +0000] "GET http://www.baidu.com/cache/global/img/gs.gif HTTP/1.1" 404 173 "-" "Mozilla"
INFO:root:Request: GET /
INFO:root:Check user: GET /
INFO:root:Response handler...
INFO:root:Call with arg: {'request': <Request GET / >}
INFO:aiohttp.access:47.93.112.232 [21/May/2018:16:46:05 +0000] "GET / HTTP/1.1" 200 5402 "-" "-"
INFO:root:Request: GET /
INFO:root:Check user: GET /
INFO:root:Response handler...
INFO:root:Call with arg: {'request': <Request GET / >}
INFO:aiohttp.access:47.88.7.179 [21/May/2018:17:16:05 +0000] "GET / HTTP/1.1" 200 5402 "-" "-"
INFO:root:Request: GET /
INFO:root:Check user: GET /
INFO:root:Response handler...
INFO:root:Call with arg: {'request': <Request GET / >}
INFO:aiohttp.access:182.92.148.169 [21/May/2018:18:21:04 +0000] "GET / HTTP/1.1" 200 5402 "-" "-"
ERROR:aiohttp.server:Error handling request
Traceback (most recent call last):
  File "/usr/local/lib/python3.5/dist-packages/aiohttp/web_protocol.py", line 272, in data_received
    messages, upgraded, tail = self._request_parser.feed_data(data)
  File "aiohttp/_http_parser.pyx", line 295, in aiohttp._http_parser.HttpParser.feed_data
aiohttp.http_exceptions.BadStatusLine: invalid HTTP method
INFO:root:Request: GET /
INFO:root:Check user: GET /
INFO:root:Response handler...
INFO:root:Call with arg: {'request': <Request GET / >}
INFO:aiohttp.access:120.76.23.202 [21/May/2018:20:13:14 +0000] "GET / HTTP/1.1" 200 5402 "-" "-"
INFO:root:Request: GET /webservice/proxy/validate
INFO:root:Check user: GET /webservice/proxy/validate
INFO:root:Response handler...
INFO:aiohttp.access:101.200.72.63 [21/May/2018:21:59:04 +0000] "GET http://101.200.72.63:8080/webservice/proxy/validate HTTP/1.0" 404 173 "-" "-"
ERROR:aiohttp.server:Error handling request
Traceback (most recent call last):
  File "/usr/local/lib/python3.5/dist-packages/aiohttp/web_protocol.py", line 272, in data_received
    messages, upgraded, tail = self._request_parser.feed_data(data)
  File "aiohttp/_http_parser.pyx", line 295, in aiohttp._http_parser.HttpParser.feed_data
aiohttp.http_exceptions.BadStatusLine: invalid HTTP method
ERROR:aiohttp.server:Error handling request
Traceback (most recent call last):
  File "/usr/local/lib/python3.5/dist-packages/aiohttp/web_protocol.py", line 272, in data_received
    messages, upgraded, tail = self._request_parser.feed_data(data)
  File "aiohttp/_http_parser.pyx", line 295, in aiohttp._http_parser.HttpParser.feed_data
aiohttp.http_exceptions.BadStatusLine: invalid HTTP method
INFO:root:Request: GET /404/search_children.js
INFO:root:Check user: GET /404/search_children.js
INFO:root:Response handler...
INFO:aiohttp.access:120.132.3.65 [21/May/2018:23:59:36 +0000] "GET http://www.qq.com/404/search_children.js HTTP/1.1" 404 173 "-" "Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/35.0.1916.114 Safari/537.36"
INFO:root:Request: GET /
INFO:root:Check user: GET /
INFO:root:Response handler...
INFO:root:Call with arg: {'request': <Request GET / >}
INFO:aiohttp.access:116.62.176.205 [22/May/2018:00:45:08 +0000] "GET / HTTP/1.1" 200 5402 "-" "-"
INFO:root:Request: GET /
INFO:root:Check user: GET /
INFO:root:SQL: select `id`, `passwd`, `created_at`, `image`, `admin`, `name`, `email` from `users` where `id`=?
INFO:root:Rows returned: 1
INFO:root:Set current user: m15801021028@163.com
INFO:root:Response handler...
INFO:root:Call with arg: {'request': <Request GET / >}
INFO:aiohttp.access:106.120.206.159 [22/May/2018:00:48:16 +0000] "GET / HTTP/1.1" 200 5577 "-" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/66.0.3359.181 Safari/537.36"
INFO:root:Request: GET /api/blogs
INFO:root:Check user: GET /api/blogs
INFO:root:SQL: select `id`, `passwd`, `created_at`, `image`, `admin`, `name`, `email` from `users` where `id`=?
INFO:root:Rows returned: 1
INFO:root:Set current user: m15801021028@163.com
INFO:root:Response handler...
INFO:root:Call with arg: {'request': <Request GET /api/blogs >, 'page': '1'}
INFO:root:SQL: select count(id) _num_ from `blogs`
INFO:root:Rows returned: 1
INFO:root:SQL: select `id`, `user_id`, `private`, `user_image`, `created_at`, `user_name`, `summary`, `content`, `name` from `blogs` order by created_at desc limit ?, ?
INFO:root:Rows returned: 5
INFO:aiohttp.access:106.120.206.159 [22/May/2018:00:48:17 +0000] "GET /api/blogs?page=1 HTTP/1.1" 200 19730 "http://www.lxiao.net:8000/" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/66.0.3359.181 Safari/537.36"
INFO:root:Request: GET /manage/
INFO:root:Check user: GET /manage/
INFO:root:SQL: select `id`, `passwd`, `created_at`, `image`, `admin`, `name`, `email` from `users` where `id`=?
INFO:root:Rows returned: 1
INFO:root:Set current user: m15801021028@163.com
INFO:root:Response handler...
INFO:root:Call with arg: {}
INFO:aiohttp.access:106.120.206.159 [22/May/2018:00:48:21 +0000] "GET /manage/ HTTP/1.1" 302 190 "http://www.lxiao.net:8000/" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/66.0.3359.181 Safari/537.36"
INFO:root:Request: GET /manage/blogs
INFO:root:Check user: GET /manage/blogs
INFO:root:SQL: select `id`, `passwd`, `created_at`, `image`, `admin`, `name`, `email` from `users` where `id`=?
INFO:root:Rows returned: 1
INFO:root:Set current user: m15801021028@163.com
INFO:root:Response handler...
INFO:root:Call with arg: {}
INFO:aiohttp.access:106.120.206.159 [22/May/2018:00:48:21 +0000] "GET /manage/blogs HTTP/1.1" 200 6422 "http://www.lxiao.net:8000/" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/66.0.3359.181 Safari/537.36"
INFO:root:Request: GET /api/blogs
INFO:root:Check user: GET /api/blogs
INFO:root:SQL: select `id`, `passwd`, `created_at`, `image`, `admin`, `name`, `email` from `users` where `id`=?
INFO:root:Rows returned: 1
INFO:root:Set current user: m15801021028@163.com
INFO:root:Response handler...
INFO:root:Call with arg: {'request': <Request GET /api/blogs >, 'page': '1'}
INFO:root:SQL: select count(id) _num_ from `blogs`
INFO:root:Rows returned: 1
INFO:root:SQL: select `id`, `user_id`, `private`, `user_image`, `created_at`, `user_name`, `summary`, `content`, `name` from `blogs` order by created_at desc limit ?, ?
INFO:root:Rows returned: 5
INFO:aiohttp.access:106.120.206.159 [22/May/2018:00:48:21 +0000] "GET /api/blogs?page=1 HTTP/1.1" 200 19730 "http://www.lxiao.net:8000/manage/blogs" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/66.0.3359.181 Safari/537.36"
INFO:root:Request: POST /api/blogs/001526872593382d1c367e99e04447cb120049dd49ae466000/delete
INFO:root:Check user: POST /api/blogs/001526872593382d1c367e99e04447cb120049dd49ae466000/delete
INFO:root:SQL: select `id`, `passwd`, `created_at`, `image`, `admin`, `name`, `email` from `users` where `id`=?
INFO:root:Rows returned: 1
INFO:root:Set current user: m15801021028@163.com
INFO:root:Response handler...
INFO:root:Call with arg: {'id': '001526872593382d1c367e99e04447cb120049dd49ae466000', 'request': <Request POST /api/blogs/001526872593382d1c367e99e04447cb120049dd49ae466000/delete >}
INFO:root:SQL: select `id`, `user_id`, `private`, `user_image`, `created_at`, `user_name`, `summary`, `content`, `name` from `blogs` where `id`=?
INFO:root:Rows returned: 1
INFO:root:SQL: delete from `blogs` where `id`=?
INFO:aiohttp.access:106.120.206.159 [22/May/2018:00:48:27 +0000] "POST /api/blogs/001526872593382d1c367e99e04447cb120049dd49ae466000/delete HTTP/1.1" 200 217 "http://www.lxiao.net:8000/manage/blogs" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/66.0.3359.181 Safari/537.36"
INFO:root:Request: GET /manage/blogs
INFO:root:Check user: GET /manage/blogs
INFO:root:SQL: select `id`, `passwd`, `created_at`, `image`, `admin`, `name`, `email` from `users` where `id`=?
INFO:root:Rows returned: 1
INFO:root:Set current user: m15801021028@163.com
INFO:root:Response handler...
INFO:root:Call with arg: {}
INFO:aiohttp.access:106.120.206.159 [22/May/2018:00:48:27 +0000] "GET /manage/blogs?t=1526950108350 HTTP/1.1" 200 6422 "http://www.lxiao.net:8000/manage/blogs" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/66.0.3359.181 Safari/537.36"
INFO:root:Request: GET /api/blogs
INFO:root:Check user: GET /api/blogs
INFO:root:SQL: select `id`, `passwd`, `created_at`, `image`, `admin`, `name`, `email` from `users` where `id`=?
INFO:root:Rows returned: 1
INFO:root:Set current user: m15801021028@163.com
INFO:root:Response handler...
INFO:root:Call with arg: {'request': <Request GET /api/blogs >, 'page': '1'}
INFO:root:SQL: select count(id) _num_ from `blogs`
INFO:root:Rows returned: 1
INFO:root:SQL: select `id`, `user_id`, `private`, `user_image`, `created_at`, `user_name`, `summary`, `content`, `name` from `blogs` order by created_at desc limit ?, ?
INFO:root:Rows returned: 5
INFO:aiohttp.access:106.120.206.159 [22/May/2018:00:48:27 +0000] "GET /api/blogs?page=1 HTTP/1.1" 200 26161 "http://www.lxiao.net:8000/manage/blogs?t=1526950108350" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/66.0.3359.181 Safari/537.36"
INFO:root:Request: POST /api/blogs/0015268708815411a73c6733fa74b58a1b5d900ec45147a000/delete
INFO:root:Check user: POST /api/blogs/0015268708815411a73c6733fa74b58a1b5d900ec45147a000/delete
INFO:root:SQL: select `id`, `passwd`, `created_at`, `image`, `admin`, `name`, `email` from `users` where `id`=?
INFO:root:Rows returned: 1
INFO:root:Set current user: m15801021028@163.com
INFO:root:Response handler...
INFO:root:Call with arg: {'id': '0015268708815411a73c6733fa74b58a1b5d900ec45147a000', 'request': <Request POST /api/blogs/0015268708815411a73c6733fa74b58a1b5d900ec45147a000/delete >}
INFO:root:SQL: select `id`, `user_id`, `private`, `user_image`, `created_at`, `user_name`, `summary`, `content`, `name` from `blogs` where `id`=?
INFO:root:Rows returned: 1
INFO:root:SQL: delete from `blogs` where `id`=?
INFO:aiohttp.access:106.120.206.159 [22/May/2018:00:48:29 +0000] "POST /api/blogs/0015268708815411a73c6733fa74b58a1b5d900ec45147a000/delete HTTP/1.1" 200 217 "http://www.lxiao.net:8000/manage/blogs?t=1526950108350" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/66.0.3359.181 Safari/537.36"
INFO:root:Request: GET /manage/blogs
INFO:root:Check user: GET /manage/blogs
INFO:root:SQL: select `id`, `passwd`, `created_at`, `image`, `admin`, `name`, `email` from `users` where `id`=?
INFO:root:Rows returned: 1
INFO:root:Set current user: m15801021028@163.com
INFO:root:Response handler...
INFO:root:Call with arg: {}
INFO:aiohttp.access:106.120.206.159 [22/May/2018:00:48:29 +0000] "GET /manage/blogs?t=1526950108350&t=1526950110706 HTTP/1.1" 200 6422 "http://www.lxiao.net:8000/manage/blogs?t=1526950108350" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/66.0.3359.181 Safari/537.36"
INFO:root:Request: GET /api/blogs
INFO:root:Check user: GET /api/blogs
INFO:root:SQL: select `id`, `passwd`, `created_at`, `image`, `admin`, `name`, `email` from `users` where `id`=?
INFO:root:Rows returned: 1
INFO:root:Set current user: m15801021028@163.com
INFO:root:Response handler...
INFO:root:Call with arg: {'request': <Request GET /api/blogs >, 'page': '1'}
INFO:root:SQL: select count(id) _num_ from `blogs`
INFO:root:Rows returned: 1
INFO:root:SQL: select `id`, `user_id`, `private`, `user_image`, `created_at`, `user_name`, `summary`, `content`, `name` from `blogs` order by created_at desc limit ?, ?
INFO:root:Rows returned: 5
INFO:aiohttp.access:106.120.206.159 [22/May/2018:00:48:29 +0000] "GET /api/blogs?page=1 HTTP/1.1" 200 29714 "http://www.lxiao.net:8000/manage/blogs?t=1526950108350&t=1526950110706" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/66.0.3359.181 Safari/537.36"
INFO:root:Request: GET /manage/blogs/edit
INFO:root:Check user: GET /manage/blogs/edit
INFO:root:SQL: select `id`, `passwd`, `created_at`, `image`, `admin`, `name`, `email` from `users` where `id`=?
INFO:root:Rows returned: 1
INFO:root:Set current user: m15801021028@163.com
INFO:root:Response handler...
INFO:root:Call with arg: {'id': '001525919711164b6d2cea4fb824990b5da4573c830c651000'}
INFO:aiohttp.access:106.120.206.159 [22/May/2018:00:48:34 +0000] "GET /manage/blogs/edit?id=001525919711164b6d2cea4fb824990b5da4573c830c651000 HTTP/1.1" 200 6889 "http://www.lxiao.net:8000/manage/blogs?t=1526950108350&t=1526950110706" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/66.0.3359.181 Safari/537.36"
INFO:root:Request: GET /api/blogs/001525919711164b6d2cea4fb824990b5da4573c830c651000
INFO:root:Check user: GET /api/blogs/001525919711164b6d2cea4fb824990b5da4573c830c651000
INFO:root:SQL: select `id`, `passwd`, `created_at`, `image`, `admin`, `name`, `email` from `users` where `id`=?
INFO:root:Rows returned: 1
INFO:root:Set current user: m15801021028@163.com
INFO:root:Response handler...
INFO:root:Call with arg: {'id': '001525919711164b6d2cea4fb824990b5da4573c830c651000'}
INFO:root:SQL: select `id`, `user_id`, `private`, `user_image`, `created_at`, `user_name`, `summary`, `content`, `name` from `blogs` where `id`=?
INFO:root:Rows returned: 1
INFO:aiohttp.access:106.120.206.159 [22/May/2018:00:48:34 +0000] "GET /api/blogs/001525919711164b6d2cea4fb824990b5da4573c830c651000 HTTP/1.1" 200 4060 "http://www.lxiao.net:8000/manage/blogs/edit?id=001525919711164b6d2cea4fb824990b5da4573c830c651000" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/66.0.3359.181 Safari/537.36"
INFO:root:Request: POST /api/blogs/001525919711164b6d2cea4fb824990b5da4573c830c651000
INFO:root:Check user: POST /api/blogs/001525919711164b6d2cea4fb824990b5da4573c830c651000
INFO:root:SQL: select `id`, `passwd`, `created_at`, `image`, `admin`, `name`, `email` from `users` where `id`=?
INFO:root:Rows returned: 1
INFO:root:Set current user: m15801021028@163.com
INFO:root:Response handler...
INFO:root:Call with arg: {'private': True, 'request': <Request POST /api/blogs/001525919711164b6d2cea4fb824990b5da4573c830c651000 >, 'id': '001525919711164b6d2cea4fb824990b5da4573c830c651000', 'summary': '很多命令都可能出现冲突，但从根本上来讲，都是 merge 和 patch（应用补丁）时产生冲突。', 'content': '先推荐一个学习 git 的平台，不用担心把自己的工作目录搞坏了：[https://learngitbranching.js.org/](https://learngitbranching.js.org/)。\n\n###冲突的产生\n很多命令都可能出现冲突，但从**根本上来讲，都是 merge 和 patch（应用补丁）时产生冲突**。\n而 rebase 就是重新设置基准，然后应用补丁的过程，所以也会冲突。\ngit pull 会自动 merge，repo sync 会自动 rebase，所以这两个也会产生冲突。\n\n###解决 merge/patch 冲突\n```git merge <branch>``` 命令用于合并指定分支到当前分支。\n\n假设某一时刻 master 和 feature1 分支是同步的，文件 a.txt 内容如下：\n```\nGit is a distributed version control system.\nCreating a new branch is quick.\n```\n然后在 feature1 上修改了最后一行并提交了：\n```\nCreating a new branch is quick AND simple.\n```\n切换到 master 分支，也修改了最后一行并提交了：\n```\nCreating a new branch is quick & simple.\n```\n现在，master 分支和 feature1 分支各自都分别有新的提交，变成了这样：\n\n![](https://upload-images.jianshu.io/upload_images/5418798-48fdaa9bd6fe5fc8.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)\n\n这种情况下，Git无法执行“快速合并”（快速合并，就是当 Git 发现某一个分支的修改是基于另一个分支的最后一次提交时，会直接指向当前提交），只能试图把各自的修改合并起来，但这种合并就可能会有冲突：\n```Shell\n$ git merge feature1\nAuto-merging a.txt\nCONFLICT (content): Merge conflict in a.txt\nAutomatic merge failed; fix conflicts and then commit the result.\n```\n```git status``` 可以告诉我们冲突的文件：\n```Shell\n# On branch master\n# Your branch is ahead of \'origin/master\' by 2 commits.\n#\n# Unmerged paths:\n#   (use "git add/rm <file>..." as appropriate to mark resolution)\n#\n#       both modified:      a.txt\n#\nno changes added to commit (use "git add" and/or "git commit -a")\n```\n直接查看 a.txt 的内容会发现，Git 已经用 <<<<<<<，=======，>>>>>>> 标记出了不同分支的内容：\n```\nGit is a distributed version control system.\n<<<<<<< HEAD\nCreating a new branch is quick & simple.\n=======\nCreating a new branch is quick AND simple.\n>>>>>>> feature1\n```\n这时就需要我们手动修改并提交了，例如保留 master 的修改：\n```\nGit is a distributed version control system.\nCreating a new branch is quick & simple.\n```\n再提交：\n```\n$ git add a.txt \n$ git commit -m "conflict fixed"\n[master 59bc1cb] conflict fixed\n```\n冲突解决。现在，master 分支和 feature1 分支变成了下图所示：\n\n![](https://upload-images.jianshu.io/upload_images/5418798-1398f667f85aec51.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)\n\n同理，使用 ```git am <patch>``` 应用补丁产生冲突时，手动解决然后提交。\n\n###rebase 的冲突解决\n```git rebase``` 的冲突解决过程，就是解决每个应用补丁冲突的过程。解决完一个补丁应用的冲突后，执行 ```git add -u``` 命令标记冲突已解决（也就是把修改内容加入缓存）：\n>-u 表示把所有已 track 的文件的新的修改加入缓存，但不加入新的文件。\n \n然后执行 ```git rebase --continue``` 继续 rebase。有冲突继续就重复这这些步骤，直到 rebase 完成。', 'name': 'git 解冲突'}
INFO:root:SQL: select `id`, `user_id`, `private`, `user_image`, `created_at`, `user_name`, `summary`, `content`, `name` from `blogs` where `id`=?
INFO:root:Rows returned: 1
INFO:root:SQL: update `blogs` set `user_id`=?, `private`=?, `user_image`=?, `created_at`=?, `user_name`=?, `summary`=?, `content`=?, `name`=? where `id`=?
INFO:aiohttp.access:106.120.206.159 [22/May/2018:00:48:37 +0000] "POST /api/blogs/001525919711164b6d2cea4fb824990b5da4573c830c651000 HTTP/1.1" 200 4060 "http://www.lxiao.net:8000/manage/blogs/edit?id=001525919711164b6d2cea4fb824990b5da4573c830c651000" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/66.0.3359.181 Safari/537.36"
INFO:root:Request: GET /blog/001525919711164b6d2cea4fb824990b5da4573c830c651000
INFO:root:Check user: GET /blog/001525919711164b6d2cea4fb824990b5da4573c830c651000
INFO:root:SQL: select `id`, `passwd`, `created_at`, `image`, `admin`, `name`, `email` from `users` where `id`=?
INFO:root:Rows returned: 1
INFO:root:Set current user: m15801021028@163.com
INFO:root:Response handler...
INFO:root:Call with arg: {'id': '001525919711164b6d2cea4fb824990b5da4573c830c651000'}
INFO:root:SQL: select `id`, `user_id`, `private`, `user_image`, `created_at`, `user_name`, `summary`, `content`, `name` from `blogs` where `id`=?
INFO:root:Rows returned: 1
INFO:root:SQL: select `id`, `user_image`, `user_id`, `created_at`, `user_name`, `blog_id`, `content` from `comments` where blog_id=? order by created_at desc
INFO:root:Rows returned: 0
INFO:aiohttp.access:106.120.206.159 [22/May/2018:00:48:37 +0000] "GET /blog/001525919711164b6d2cea4fb824990b5da4573c830c651000 HTTP/1.1" 200 10704 "http://www.lxiao.net:8000/manage/blogs/edit?id=001525919711164b6d2cea4fb824990b5da4573c830c651000" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/66.0.3359.181 Safari/537.36"
INFO:root:Request: GET /signout
INFO:root:Check user: GET /signout
INFO:root:SQL: select `id`, `passwd`, `created_at`, `image`, `admin`, `name`, `email` from `users` where `id`=?
INFO:root:Rows returned: 1
INFO:root:Set current user: m15801021028@163.com
INFO:root:Response handler...
INFO:root:Call with arg: {'request': <Request GET /signout >}
INFO:root:User signed out.
INFO:aiohttp.access:106.120.206.159 [22/May/2018:00:48:42 +0000] "GET /signout HTTP/1.1" 302 265 "http://www.lxiao.net:8000/" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/66.0.3359.181 Safari/537.36"
INFO:root:Request: GET /
INFO:root:Check user: GET /
INFO:root:Response handler...
INFO:root:Call with arg: {'request': <Request GET / >}
INFO:aiohttp.access:106.120.206.159 [22/May/2018:00:48:42 +0000] "GET / HTTP/1.1" 200 5383 "http://www.lxiao.net:8000/" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/66.0.3359.181 Safari/537.36"
INFO:root:Request: GET /api/blogs
INFO:root:Check user: GET /api/blogs
INFO:root:Response handler...
INFO:root:Call with arg: {'request': <Request GET /api/blogs >, 'page': '1'}
INFO:root:SQL: select count(id) _num_ from `blogs` where private is null or private is false
INFO:root:Rows returned: 1
INFO:root:SQL: select `id`, `user_id`, `private`, `user_image`, `created_at`, `user_name`, `summary`, `content`, `name` from `blogs` where private is null or private is false order by created_at desc limit ?, ?
INFO:root:Rows returned: 5
INFO:aiohttp.access:106.120.206.159 [22/May/2018:00:48:43 +0000] "GET /api/blogs?page=1 HTTP/1.1" 200 33764 "http://www.lxiao.net:8000/" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/66.0.3359.181 Safari/537.36"
INFO:root:Found model: User (table: users)
INFO:root:  Found mapping: name ==> <StringField, varchar(100):None>
INFO:root:  Found mapping: id ==> <IntegerField, bigint:None>
INFO:root:Found model: User (table: users)
INFO:root:  Found mapping: admin ==> <BooleanField, boolean:None>
INFO:root:  Found mapping: id ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: passwd ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: name ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: created_at ==> <FloatField, real:None>
INFO:root:  Found mapping: image ==> <StringField, varchar(500):None>
INFO:root:  Found mapping: email ==> <StringField, varchar(50):None>
INFO:root:Found model: Blog (table: blogs)
INFO:root:  Found mapping: created_at ==> <FloatField, real:None>
INFO:root:  Found mapping: user_name ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: name ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: user_id ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: content ==> <TextField, text:None>
INFO:root:  Found mapping: id ==> <StringField, varchat(50):None>
INFO:root:  Found mapping: private ==> <BooleanField, boolean:None>
INFO:root:  Found mapping: user_image ==> <StringField, varchar(500):None>
INFO:root:  Found mapping: summary ==> <StringField, varchar(200):None>
INFO:root:Found model: Comment (table: comments)
INFO:root:  Found mapping: user_image ==> <StringField, varchar(500):None>
INFO:root:  Found mapping: created_at ==> <FloatField, real:None>
INFO:root:  Found mapping: id ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: blog_id ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: user_name ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: user_id ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: content ==> <TextField, text:None>
INFO:root:Create database connection pool...
INFO:root:Init jinja2...
INFO:root:Set jinja2 template path: /home/admin/webapp/www/templates
INFO:root:add route GET /api/blogs => api_blogs(request, page)
INFO:root:add route GET /api/comments => api_comments(page)
INFO:root:add route POST /api/blogs => api_create_blog(request, name, summary, content, private)
INFO:root:add route POST /api/blogs/{id}/comments => api_create_comment(id, request, content)
INFO:root:add route POST /api/blogs/{id}/delete => api_delete_blog(id, request)
INFO:root:add route POST /api/comments/{id}/delete => api_delete_comment(id, request)
INFO:root:add route GET /api/blogs/{id} => api_get_blog(id)
INFO:root:add route GET /api/users => api_get_users(page)
INFO:root:add route POST /api/users => api_register_user(email, name, passwd)
INFO:root:add route POST /api/blogs/{id} => api_update_blog(id, request, name, summary, content, private)
INFO:root:add route POST /api/authenticate => authenticate(email, passwd)
INFO:root:add route GET /blog/{id} => get_blog(id)
INFO:root:add route GET / => index(request, page)
INFO:root:add route GET /manage/ => manage()
INFO:root:add route GET /manage/blogs => manage_blogs(page)
INFO:root:add route GET /manage/comments => manage_comments(page)
INFO:root:add route GET /manage/blogs/create => manage_create_blogs()
INFO:root:add route GET /manage/blogs/edit => manage_edit_blog(id)
INFO:root:add route GET /manage/users => manage_users(page)
INFO:root:add route GET /register => register()
INFO:root:add route GET /signin => signin()
INFO:root:add route GET /signout => signout(request)
INFO:root:add static /static/ => /home/admin/webapp/www/static
INFO:root:Server started at http://60.205.221.43:80...
INFO:root:Found model: User (table: users)
INFO:root:  Found mapping: id ==> <IntegerField, bigint:None>
INFO:root:  Found mapping: name ==> <StringField, varchar(100):None>
INFO:root:Found model: User (table: users)
INFO:root:  Found mapping: id ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: image ==> <StringField, varchar(500):None>
INFO:root:  Found mapping: created_at ==> <FloatField, real:None>
INFO:root:  Found mapping: admin ==> <BooleanField, boolean:None>
INFO:root:  Found mapping: email ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: name ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: passwd ==> <StringField, varchar(50):None>
INFO:root:Found model: Blog (table: blogs)
INFO:root:  Found mapping: summary ==> <StringField, varchar(200):None>
INFO:root:  Found mapping: name ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: user_name ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: user_image ==> <StringField, varchar(500):None>
INFO:root:  Found mapping: id ==> <StringField, varchat(50):None>
INFO:root:  Found mapping: content ==> <TextField, text:None>
INFO:root:  Found mapping: user_id ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: private ==> <BooleanField, boolean:None>
INFO:root:  Found mapping: created_at ==> <FloatField, real:None>
INFO:root:Found model: Comment (table: comments)
INFO:root:  Found mapping: id ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: user_name ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: user_image ==> <StringField, varchar(500):None>
INFO:root:  Found mapping: content ==> <TextField, text:None>
INFO:root:  Found mapping: created_at ==> <FloatField, real:None>
INFO:root:  Found mapping: user_id ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: blog_id ==> <StringField, varchar(50):None>
INFO:root:Create database connection pool...
INFO:root:Init jinja2...
INFO:root:Set jinja2 template path: /home/admin/webapp/www/templates
INFO:root:add route GET /api/blogs => api_blogs(request, page)
INFO:root:add route GET /api/comments => api_comments(page)
INFO:root:add route POST /api/blogs => api_create_blog(request, name, summary, content, private)
INFO:root:add route POST /api/blogs/{id}/comments => api_create_comment(id, request, content)
INFO:root:add route POST /api/blogs/{id}/delete => api_delete_blog(id, request)
INFO:root:add route POST /api/comments/{id}/delete => api_delete_comment(id, request)
INFO:root:add route GET /api/blogs/{id} => api_get_blog(id)
INFO:root:add route GET /api/users => api_get_users(page)
INFO:root:add route POST /api/users => api_register_user(email, name, passwd)
INFO:root:add route POST /api/blogs/{id} => api_update_blog(id, request, name, summary, content, private)
INFO:root:add route POST /api/authenticate => authenticate(email, passwd)
INFO:root:add route GET /blog/{id} => get_blog(id)
INFO:root:add route GET / => index(request, page)
INFO:root:add route GET /manage/ => manage()
INFO:root:add route GET /manage/blogs => manage_blogs(page)
INFO:root:add route GET /manage/comments => manage_comments(page)
INFO:root:add route GET /manage/blogs/create => manage_create_blogs()
INFO:root:add route GET /manage/blogs/edit => manage_edit_blog(id)
INFO:root:add route GET /manage/users => manage_users(page)
INFO:root:add route GET /register => register()
INFO:root:add route GET /signin => signin()
INFO:root:add route GET /signout => signout(request)
INFO:root:add static /static/ => /home/admin/webapp/www/static
INFO:root:Server started at http://60.205.221.43:80...
INFO:root:Found model: User (table: users)
INFO:root:  Found mapping: name ==> <StringField, varchar(100):None>
INFO:root:  Found mapping: id ==> <IntegerField, bigint:None>
INFO:root:Found model: User (table: users)
INFO:root:  Found mapping: admin ==> <BooleanField, boolean:None>
INFO:root:  Found mapping: created_at ==> <FloatField, real:None>
INFO:root:  Found mapping: id ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: email ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: image ==> <StringField, varchar(500):None>
INFO:root:  Found mapping: name ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: passwd ==> <StringField, varchar(50):None>
INFO:root:Found model: Blog (table: blogs)
INFO:root:  Found mapping: private ==> <BooleanField, boolean:None>
INFO:root:  Found mapping: user_name ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: name ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: user_image ==> <StringField, varchar(500):None>
INFO:root:  Found mapping: summary ==> <StringField, varchar(200):None>
INFO:root:  Found mapping: created_at ==> <FloatField, real:None>
INFO:root:  Found mapping: user_id ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: id ==> <StringField, varchat(50):None>
INFO:root:  Found mapping: content ==> <TextField, text:None>
INFO:root:Found model: Comment (table: comments)
INFO:root:  Found mapping: created_at ==> <FloatField, real:None>
INFO:root:  Found mapping: user_id ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: id ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: user_name ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: blog_id ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: content ==> <TextField, text:None>
INFO:root:  Found mapping: user_image ==> <StringField, varchar(500):None>
INFO:root:Create database connection pool...
INFO:root:Init jinja2...
INFO:root:Set jinja2 template path: /home/admin/webapp/www/templates
INFO:root:add route GET /api/blogs => api_blogs(request, page)
INFO:root:add route GET /api/comments => api_comments(page)
INFO:root:add route POST /api/blogs => api_create_blog(request, name, summary, content, private)
INFO:root:add route POST /api/blogs/{id}/comments => api_create_comment(id, request, content)
INFO:root:add route POST /api/blogs/{id}/delete => api_delete_blog(id, request)
INFO:root:add route POST /api/comments/{id}/delete => api_delete_comment(id, request)
INFO:root:add route GET /api/blogs/{id} => api_get_blog(id)
INFO:root:add route GET /api/users => api_get_users(page)
INFO:root:add route POST /api/users => api_register_user(email, name, passwd)
INFO:root:add route POST /api/blogs/{id} => api_update_blog(id, request, name, summary, content, private)
INFO:root:add route POST /api/authenticate => authenticate(email, passwd)
INFO:root:add route GET /blog/{id} => get_blog(id)
INFO:root:add route GET / => index(request, page)
INFO:root:add route GET /manage/ => manage()
INFO:root:add route GET /manage/blogs => manage_blogs(page)
INFO:root:add route GET /manage/comments => manage_comments(page)
INFO:root:add route GET /manage/blogs/create => manage_create_blogs()
INFO:root:add route GET /manage/blogs/edit => manage_edit_blog(id)
INFO:root:add route GET /manage/users => manage_users(page)
INFO:root:add route GET /register => register()
INFO:root:add route GET /signin => signin()
INFO:root:add route GET /signout => signout(request)
INFO:root:add static /static/ => /home/admin/webapp/www/static
INFO:root:Server started at http://60.205.221.43:80...
INFO:root:Found model: User (table: users)
INFO:root:  Found mapping: name ==> <StringField, varchar(100):None>
INFO:root:  Found mapping: id ==> <IntegerField, bigint:None>
INFO:root:Found model: User (table: users)
INFO:root:  Found mapping: passwd ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: id ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: name ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: image ==> <StringField, varchar(500):None>
INFO:root:  Found mapping: created_at ==> <FloatField, real:None>
INFO:root:  Found mapping: admin ==> <BooleanField, boolean:None>
INFO:root:  Found mapping: email ==> <StringField, varchar(50):None>
INFO:root:Found model: Blog (table: blogs)
INFO:root:  Found mapping: id ==> <StringField, varchat(50):None>
INFO:root:  Found mapping: created_at ==> <FloatField, real:None>
INFO:root:  Found mapping: private ==> <BooleanField, boolean:None>
INFO:root:  Found mapping: name ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: user_id ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: content ==> <TextField, text:None>
INFO:root:  Found mapping: summary ==> <StringField, varchar(200):None>
INFO:root:  Found mapping: user_image ==> <StringField, varchar(500):None>
INFO:root:  Found mapping: user_name ==> <StringField, varchar(50):None>
INFO:root:Found model: Comment (table: comments)
INFO:root:  Found mapping: id ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: blog_id ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: content ==> <TextField, text:None>
INFO:root:  Found mapping: user_image ==> <StringField, varchar(500):None>
INFO:root:  Found mapping: created_at ==> <FloatField, real:None>
INFO:root:  Found mapping: user_name ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: user_id ==> <StringField, varchar(50):None>
INFO:root:Create database connection pool...
INFO:root:Init jinja2...
INFO:root:Set jinja2 template path: /home/admin/webapp/www/templates
INFO:root:add route GET /api/blogs => api_blogs(request, page)
INFO:root:add route GET /api/comments => api_comments(page)
INFO:root:add route POST /api/blogs => api_create_blog(request, name, summary, content, private)
INFO:root:add route POST /api/blogs/{id}/comments => api_create_comment(id, request, content)
INFO:root:add route POST /api/blogs/{id}/delete => api_delete_blog(id, request)
INFO:root:add route POST /api/comments/{id}/delete => api_delete_comment(id, request)
INFO:root:add route GET /api/blogs/{id} => api_get_blog(id)
INFO:root:add route GET /api/users => api_get_users(page)
INFO:root:add route POST /api/users => api_register_user(email, name, passwd)
INFO:root:add route POST /api/blogs/{id}/secret => api_set_private(id, request)
INFO:root:add route POST /api/blogs/{id} => api_update_blog(id, request, name, summary, content, private)
INFO:root:add route POST /api/authenticate => authenticate(email, passwd)
INFO:root:add route GET /blog/{id} => get_blog(id)
INFO:root:add route GET / => index(request, page)
INFO:root:add route GET /manage/ => manage()
INFO:root:add route GET /manage/blogs => manage_blogs(page)
INFO:root:add route GET /manage/comments => manage_comments(page)
INFO:root:add route GET /manage/blogs/create => manage_create_blogs()
INFO:root:add route GET /manage/blogs/edit => manage_edit_blog(id)
INFO:root:add route GET /manage/users => manage_users(page)
INFO:root:add route GET /register => register()
INFO:root:add route GET /signin => signin()
INFO:root:add route GET /signout => signout(request)
INFO:root:add static /static/ => /home/admin/webapp/www/static
INFO:root:Server started at http://60.205.221.43:80...
INFO:root:Request: GET /
INFO:root:Check user: GET /
INFO:root:Response handler...
INFO:root:Call with arg: {'request': <Request GET / >}
INFO:aiohttp.access:106.120.206.159 [22/May/2018:01:45:54 +0000] "GET / HTTP/1.1" 200 5383 "http://www.lxiao.net:8000/blog/001525919711164b6d2cea4fb824990b5da4573c830c651000" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/66.0.3359.181 Safari/537.36"
INFO:root:Request: GET /api/blogs
INFO:root:Check user: GET /api/blogs
INFO:root:Response handler...
INFO:root:Call with arg: {'page': '1', 'request': <Request GET /api/blogs >}
INFO:root:SQL: select count(id) _num_ from `blogs` where private is null or private is false
INFO:root:Rows returned: 1
INFO:root:SQL: select `id`, `created_at`, `private`, `name`, `user_id`, `content`, `summary`, `user_image`, `user_name` from `blogs` where private is null or private is false order by created_at desc limit ?, ?
INFO:root:Rows returned: 5
INFO:aiohttp.access:106.120.206.159 [22/May/2018:01:45:54 +0000] "GET /api/blogs?page=1 HTTP/1.1" 200 33764 "http://www.lxiao.net:8000/" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/66.0.3359.181 Safari/537.36"
INFO:root:Request: GET /manage/
INFO:root:Check user: GET /manage/
INFO:aiohttp.access:106.120.206.159 [22/May/2018:01:45:56 +0000] "GET /manage/ HTTP/1.1" 302 184 "http://www.lxiao.net:8000/" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/66.0.3359.181 Safari/537.36"
INFO:root:Request: GET /signin
INFO:root:Check user: GET /signin
INFO:root:Response handler...
INFO:root:Call with arg: {}
INFO:aiohttp.access:106.120.206.159 [22/May/2018:01:45:56 +0000] "GET /signin HTTP/1.1" 200 2569 "http://www.lxiao.net:8000/" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/66.0.3359.181 Safari/537.36"
INFO:root:Request: POST /api/authenticate
INFO:root:Check user: POST /api/authenticate
INFO:root:Response handler...
INFO:root:Call with arg: {'passwd': '09fa2f95147f377ffdb2920a403d4be2031cb459', 'email': 'm15801021028@163.com'}
INFO:root:SQL: select `id`, `passwd`, `name`, `image`, `created_at`, `admin`, `email` from `users` where email=?
INFO:root:Rows returned: 1
INFO:aiohttp.access:106.120.206.159 [22/May/2018:01:45:57 +0000] "POST /api/authenticate HTTP/1.1" 200 569 "http://www.lxiao.net:8000/signin" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/66.0.3359.181 Safari/537.36"
INFO:root:Request: GET /
INFO:root:Check user: GET /
INFO:root:SQL: select `id`, `passwd`, `name`, `image`, `created_at`, `admin`, `email` from `users` where `id`=?
INFO:root:Rows returned: 1
INFO:root:Set current user: m15801021028@163.com
INFO:root:Response handler...
INFO:root:Call with arg: {'request': <Request GET / >}
INFO:aiohttp.access:106.120.206.159 [22/May/2018:01:45:57 +0000] "GET / HTTP/1.1" 200 5577 "http://www.lxiao.net:8000/signin" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/66.0.3359.181 Safari/537.36"
INFO:root:Request: GET /api/blogs
INFO:root:Check user: GET /api/blogs
INFO:root:SQL: select `id`, `passwd`, `name`, `image`, `created_at`, `admin`, `email` from `users` where `id`=?
INFO:root:Rows returned: 1
INFO:root:Set current user: m15801021028@163.com
INFO:root:Response handler...
INFO:root:Call with arg: {'page': '1', 'request': <Request GET /api/blogs >}
INFO:root:SQL: select count(id) _num_ from `blogs`
INFO:root:Rows returned: 1
INFO:root:SQL: select `id`, `created_at`, `private`, `name`, `user_id`, `content`, `summary`, `user_image`, `user_name` from `blogs` order by created_at desc limit ?, ?
INFO:root:Rows returned: 5
INFO:aiohttp.access:106.120.206.159 [22/May/2018:01:45:58 +0000] "GET /api/blogs?page=1 HTTP/1.1" 200 29711 "http://www.lxiao.net:8000/" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/66.0.3359.181 Safari/537.36"
INFO:root:Request: GET /manage/
INFO:root:Check user: GET /manage/
INFO:root:SQL: select `id`, `passwd`, `name`, `image`, `created_at`, `admin`, `email` from `users` where `id`=?
INFO:root:Rows returned: 1
INFO:root:Set current user: m15801021028@163.com
INFO:root:Response handler...
INFO:root:Call with arg: {}
INFO:aiohttp.access:106.120.206.159 [22/May/2018:01:46:00 +0000] "GET /manage/ HTTP/1.1" 302 190 "http://www.lxiao.net:8000/" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/66.0.3359.181 Safari/537.36"
INFO:root:Request: GET /manage/blogs
INFO:root:Check user: GET /manage/blogs
INFO:root:SQL: select `id`, `passwd`, `name`, `image`, `created_at`, `admin`, `email` from `users` where `id`=?
INFO:root:Rows returned: 1
INFO:root:Set current user: m15801021028@163.com
INFO:root:Response handler...
INFO:root:Call with arg: {}
INFO:aiohttp.access:106.120.206.159 [22/May/2018:01:46:00 +0000] "GET /manage/blogs HTTP/1.1" 200 6729 "http://www.lxiao.net:8000/" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/66.0.3359.181 Safari/537.36"
INFO:root:Request: GET /api/blogs
INFO:root:Check user: GET /api/blogs
INFO:root:SQL: select `id`, `passwd`, `name`, `image`, `created_at`, `admin`, `email` from `users` where `id`=?
INFO:root:Rows returned: 1
INFO:root:Set current user: m15801021028@163.com
INFO:root:Response handler...
INFO:root:Call with arg: {'page': '1', 'request': <Request GET /api/blogs >}
INFO:root:SQL: select count(id) _num_ from `blogs`
INFO:root:Rows returned: 1
INFO:root:SQL: select `id`, `created_at`, `private`, `name`, `user_id`, `content`, `summary`, `user_image`, `user_name` from `blogs` order by created_at desc limit ?, ?
INFO:root:Rows returned: 5
INFO:aiohttp.access:106.120.206.159 [22/May/2018:01:46:01 +0000] "GET /api/blogs?page=1 HTTP/1.1" 200 29711 "http://www.lxiao.net:8000/manage/blogs" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/66.0.3359.181 Safari/537.36"
INFO:root:Request: POST /api/blogs/001526633743922ed51f806d7bc4231abdf715ea1b58f46000/secret
INFO:root:Check user: POST /api/blogs/001526633743922ed51f806d7bc4231abdf715ea1b58f46000/secret
INFO:root:SQL: select `id`, `passwd`, `name`, `image`, `created_at`, `admin`, `email` from `users` where `id`=?
INFO:root:Rows returned: 1
INFO:root:Set current user: m15801021028@163.com
INFO:root:Response handler...
INFO:root:Call with arg: {'id': '001526633743922ed51f806d7bc4231abdf715ea1b58f46000', 'request': <Request POST /api/blogs/001526633743922ed51f806d7bc4231abdf715ea1b58f46000/secret >}
INFO:root:SQL: select `id`, `created_at`, `private`, `name`, `user_id`, `content`, `summary`, `user_image`, `user_name` from `blogs` where `id`=?
INFO:root:Rows returned: 1
ERROR:aiohttp.server:Error handling request
Traceback (most recent call last):
  File "/usr/local/lib/python3.5/dist-packages/aiohttp/web_protocol.py", line 416, in start
    resp = yield from self._request_handler(request)
  File "/usr/local/lib/python3.5/dist-packages/aiohttp/web.py", line 325, in _handle
    resp = yield from handler(request)
  File "/usr/local/lib/python3.5/dist-packages/aiohttp/web_middlewares.py", line 93, in impl
    return (yield from handler(request))
  File "app.py", line 42, in logger
    return (await handler(request))
  File "app.py", line 63, in auth
    return (await handler(request))
  File "app.py", line 82, in response
    r = await handler(request)
  File "/usr/local/lib/python3.5/dist-packages/aiohttp/web_urldispatcher.py", line 142, in handler_wrapper
    result = yield from result
  File "/home/admin/webapp/www/coroweb.py", line 152, in __call__
    r = await self._func(**kw)
  File "/usr/lib/python3.5/asyncio/coroutines.py", line 219, in coro
    res = yield from await_meth()
  File "/home/admin/webapp/www/handlers.py", line 154, in api_set_private
    if blog.private == null or 0:
NameError: name 'null' is not defined
INFO:aiohttp.access:106.120.206.159 [22/May/2018:01:46:08 +0000] "POST /api/blogs/001526633743922ed51f806d7bc4231abdf715ea1b58f46000/secret HTTP/1.1" 500 331 "http://www.lxiao.net:8000/manage/blogs" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/66.0.3359.181 Safari/537.36"
INFO:root:Request: POST /api/blogs/001526556821030ccf52786546147c2a8bff1c58626db9e000/secret
INFO:root:Check user: POST /api/blogs/001526556821030ccf52786546147c2a8bff1c58626db9e000/secret
INFO:root:SQL: select `id`, `passwd`, `name`, `image`, `created_at`, `admin`, `email` from `users` where `id`=?
INFO:root:Rows returned: 1
INFO:root:Set current user: m15801021028@163.com
INFO:root:Response handler...
INFO:root:Call with arg: {'id': '001526556821030ccf52786546147c2a8bff1c58626db9e000', 'request': <Request POST /api/blogs/001526556821030ccf52786546147c2a8bff1c58626db9e000/secret >}
INFO:root:SQL: select `id`, `created_at`, `private`, `name`, `user_id`, `content`, `summary`, `user_image`, `user_name` from `blogs` where `id`=?
INFO:root:Rows returned: 1
ERROR:aiohttp.server:Error handling request
Traceback (most recent call last):
  File "/usr/local/lib/python3.5/dist-packages/aiohttp/web_protocol.py", line 416, in start
    resp = yield from self._request_handler(request)
  File "/usr/local/lib/python3.5/dist-packages/aiohttp/web.py", line 325, in _handle
    resp = yield from handler(request)
  File "/usr/local/lib/python3.5/dist-packages/aiohttp/web_middlewares.py", line 93, in impl
    return (yield from handler(request))
  File "app.py", line 42, in logger
    return (await handler(request))
  File "app.py", line 63, in auth
    return (await handler(request))
  File "app.py", line 82, in response
    r = await handler(request)
  File "/usr/local/lib/python3.5/dist-packages/aiohttp/web_urldispatcher.py", line 142, in handler_wrapper
    result = yield from result
  File "/home/admin/webapp/www/coroweb.py", line 152, in __call__
    r = await self._func(**kw)
  File "/usr/lib/python3.5/asyncio/coroutines.py", line 219, in coro
    res = yield from await_meth()
  File "/home/admin/webapp/www/handlers.py", line 154, in api_set_private
    if blog.private == null or 0:
NameError: name 'null' is not defined
INFO:aiohttp.access:106.120.206.159 [22/May/2018:01:47:08 +0000] "POST /api/blogs/001526556821030ccf52786546147c2a8bff1c58626db9e000/secret HTTP/1.1" 500 331 "http://www.lxiao.net:8000/manage/blogs" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/66.0.3359.181 Safari/537.36"
INFO:root:Request: GET /manage/blogs
INFO:root:Check user: GET /manage/blogs
INFO:root:SQL: select `id`, `passwd`, `name`, `image`, `created_at`, `admin`, `email` from `users` where `id`=?
INFO:root:Rows returned: 1
INFO:root:Set current user: m15801021028@163.com
INFO:root:Response handler...
INFO:root:Call with arg: {}
INFO:aiohttp.access:106.120.206.159 [22/May/2018:01:49:45 +0000] "GET /manage/blogs HTTP/1.1" 200 6729 "-" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/66.0.3359.181 Safari/537.36"
INFO:root:Request: GET /api/blogs
INFO:root:Check user: GET /api/blogs
INFO:root:SQL: select `id`, `passwd`, `name`, `image`, `created_at`, `admin`, `email` from `users` where `id`=?
INFO:root:Rows returned: 1
INFO:root:Set current user: m15801021028@163.com
INFO:root:Response handler...
INFO:root:Call with arg: {'page': '1', 'request': <Request GET /api/blogs >}
INFO:root:SQL: select count(id) _num_ from `blogs`
INFO:root:Rows returned: 1
INFO:root:SQL: select `id`, `created_at`, `private`, `name`, `user_id`, `content`, `summary`, `user_image`, `user_name` from `blogs` order by created_at desc limit ?, ?
INFO:root:Rows returned: 5
INFO:aiohttp.access:106.120.206.159 [22/May/2018:01:49:45 +0000] "GET /api/blogs?page=1 HTTP/1.1" 200 29711 "http://www.lxiao.net:8000/manage/blogs" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/66.0.3359.181 Safari/537.36"
INFO:root:Request: POST /api/blogs/001526556821030ccf52786546147c2a8bff1c58626db9e000/secret
INFO:root:Check user: POST /api/blogs/001526556821030ccf52786546147c2a8bff1c58626db9e000/secret
INFO:root:SQL: select `id`, `passwd`, `name`, `image`, `created_at`, `admin`, `email` from `users` where `id`=?
INFO:root:Rows returned: 1
INFO:root:Set current user: m15801021028@163.com
INFO:root:Response handler...
INFO:root:Call with arg: {'id': '001526556821030ccf52786546147c2a8bff1c58626db9e000', 'request': <Request POST /api/blogs/001526556821030ccf52786546147c2a8bff1c58626db9e000/secret >}
INFO:root:SQL: select `id`, `created_at`, `private`, `name`, `user_id`, `content`, `summary`, `user_image`, `user_name` from `blogs` where `id`=?
INFO:root:Rows returned: 1
ERROR:aiohttp.server:Error handling request
Traceback (most recent call last):
  File "/usr/local/lib/python3.5/dist-packages/aiohttp/web_protocol.py", line 416, in start
    resp = yield from self._request_handler(request)
  File "/usr/local/lib/python3.5/dist-packages/aiohttp/web.py", line 325, in _handle
    resp = yield from handler(request)
  File "/usr/local/lib/python3.5/dist-packages/aiohttp/web_middlewares.py", line 93, in impl
    return (yield from handler(request))
  File "app.py", line 42, in logger
    return (await handler(request))
  File "app.py", line 63, in auth
    return (await handler(request))
  File "app.py", line 82, in response
    r = await handler(request)
  File "/usr/local/lib/python3.5/dist-packages/aiohttp/web_urldispatcher.py", line 142, in handler_wrapper
    result = yield from result
  File "/home/admin/webapp/www/coroweb.py", line 152, in __call__
    r = await self._func(**kw)
  File "/usr/lib/python3.5/asyncio/coroutines.py", line 219, in coro
    res = yield from await_meth()
  File "/home/admin/webapp/www/handlers.py", line 154, in api_set_private
    if blog.private == null or 0:
NameError: name 'null' is not defined
INFO:aiohttp.access:106.120.206.159 [22/May/2018:01:49:47 +0000] "POST /api/blogs/001526556821030ccf52786546147c2a8bff1c58626db9e000/secret HTTP/1.1" 500 331 "http://www.lxiao.net:8000/manage/blogs" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/66.0.3359.181 Safari/537.36"
INFO:root:Request: GET /manage/blogs/edit
INFO:root:Check user: GET /manage/blogs/edit
INFO:root:SQL: select `id`, `passwd`, `name`, `image`, `created_at`, `admin`, `email` from `users` where `id`=?
INFO:root:Rows returned: 1
INFO:root:Set current user: m15801021028@163.com
INFO:root:Response handler...
INFO:root:Call with arg: {'id': '001526633743922ed51f806d7bc4231abdf715ea1b58f46000'}
INFO:aiohttp.access:106.120.206.159 [22/May/2018:01:50:04 +0000] "GET /manage/blogs/edit?id=001526633743922ed51f806d7bc4231abdf715ea1b58f46000 HTTP/1.1" 200 6889 "http://www.lxiao.net:8000/manage/blogs" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/66.0.3359.181 Safari/537.36"
INFO:root:Request: GET /api/blogs/001526633743922ed51f806d7bc4231abdf715ea1b58f46000
INFO:root:Check user: GET /api/blogs/001526633743922ed51f806d7bc4231abdf715ea1b58f46000
INFO:root:SQL: select `id`, `passwd`, `name`, `image`, `created_at`, `admin`, `email` from `users` where `id`=?
INFO:root:Rows returned: 1
INFO:root:Set current user: m15801021028@163.com
INFO:root:Response handler...
INFO:root:Call with arg: {'id': '001526633743922ed51f806d7bc4231abdf715ea1b58f46000'}
INFO:root:SQL: select `id`, `created_at`, `private`, `name`, `user_id`, `content`, `summary`, `user_image`, `user_name` from `blogs` where `id`=?
INFO:root:Rows returned: 1
INFO:aiohttp.access:106.120.206.159 [22/May/2018:01:50:04 +0000] "GET /api/blogs/001526633743922ed51f806d7bc4231abdf715ea1b58f46000 HTTP/1.1" 200 4000 "http://www.lxiao.net:8000/manage/blogs/edit?id=001526633743922ed51f806d7bc4231abdf715ea1b58f46000" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/66.0.3359.181 Safari/537.36"
INFO:root:Request: POST /api/blogs/0015263480308993f7c4c789b544d538fbf085cde42cac5000/secret
INFO:root:Check user: POST /api/blogs/0015263480308993f7c4c789b544d538fbf085cde42cac5000/secret
INFO:root:SQL: select `id`, `passwd`, `name`, `image`, `created_at`, `admin`, `email` from `users` where `id`=?
INFO:root:Rows returned: 1
INFO:root:Set current user: m15801021028@163.com
INFO:root:Response handler...
INFO:root:Call with arg: {'id': '0015263480308993f7c4c789b544d538fbf085cde42cac5000', 'request': <Request POST /api/blogs/0015263480308993f7c4c789b544d538fbf085cde42cac5000/secret >}
INFO:root:SQL: select `id`, `created_at`, `private`, `name`, `user_id`, `content`, `summary`, `user_image`, `user_name` from `blogs` where `id`=?
INFO:root:Rows returned: 1
ERROR:aiohttp.server:Error handling request
Traceback (most recent call last):
  File "/usr/local/lib/python3.5/dist-packages/aiohttp/web_protocol.py", line 416, in start
    resp = yield from self._request_handler(request)
  File "/usr/local/lib/python3.5/dist-packages/aiohttp/web.py", line 325, in _handle
    resp = yield from handler(request)
  File "/usr/local/lib/python3.5/dist-packages/aiohttp/web_middlewares.py", line 93, in impl
    return (yield from handler(request))
  File "app.py", line 42, in logger
    return (await handler(request))
  File "app.py", line 63, in auth
    return (await handler(request))
  File "app.py", line 82, in response
    r = await handler(request)
  File "/usr/local/lib/python3.5/dist-packages/aiohttp/web_urldispatcher.py", line 142, in handler_wrapper
    result = yield from result
  File "/home/admin/webapp/www/coroweb.py", line 152, in __call__
    r = await self._func(**kw)
  File "/usr/lib/python3.5/asyncio/coroutines.py", line 219, in coro
    res = yield from await_meth()
  File "/home/admin/webapp/www/handlers.py", line 154, in api_set_private
    if blog.private == null or 0:
NameError: name 'null' is not defined
INFO:aiohttp.access:106.120.206.159 [22/May/2018:01:50:12 +0000] "POST /api/blogs/0015263480308993f7c4c789b544d538fbf085cde42cac5000/secret HTTP/1.1" 500 331 "http://www.lxiao.net:8000/manage/blogs" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/66.0.3359.181 Safari/537.36"
INFO:root:Found model: User (table: users)
INFO:root:  Found mapping: id ==> <IntegerField, bigint:None>
INFO:root:  Found mapping: name ==> <StringField, varchar(100):None>
INFO:root:Found model: User (table: users)
INFO:root:  Found mapping: created_at ==> <FloatField, real:None>
INFO:root:  Found mapping: email ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: image ==> <StringField, varchar(500):None>
INFO:root:  Found mapping: id ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: name ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: passwd ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: admin ==> <BooleanField, boolean:None>
INFO:root:Found model: Blog (table: blogs)
INFO:root:  Found mapping: user_id ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: user_image ==> <StringField, varchar(500):None>
INFO:root:  Found mapping: id ==> <StringField, varchat(50):None>
INFO:root:  Found mapping: private ==> <BooleanField, boolean:None>
INFO:root:  Found mapping: summary ==> <StringField, varchar(200):None>
INFO:root:  Found mapping: user_name ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: created_at ==> <FloatField, real:None>
INFO:root:  Found mapping: name ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: content ==> <TextField, text:None>
INFO:root:Found model: Comment (table: comments)
INFO:root:  Found mapping: user_name ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: user_id ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: blog_id ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: user_image ==> <StringField, varchar(500):None>
INFO:root:  Found mapping: id ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: created_at ==> <FloatField, real:None>
INFO:root:  Found mapping: content ==> <TextField, text:None>
INFO:root:Create database connection pool...
INFO:root:Init jinja2...
INFO:root:Set jinja2 template path: /home/admin/webapp/www/templates
INFO:root:add route GET /api/blogs => api_blogs(request, page)
INFO:root:add route GET /api/comments => api_comments(page)
INFO:root:add route POST /api/blogs => api_create_blog(request, name, summary, content, private)
INFO:root:add route POST /api/blogs/{id}/comments => api_create_comment(id, request, content)
INFO:root:add route POST /api/blogs/{id}/delete => api_delete_blog(id, request)
INFO:root:add route POST /api/comments/{id}/delete => api_delete_comment(id, request)
INFO:root:add route GET /api/blogs/{id} => api_get_blog(id)
INFO:root:add route GET /api/users => api_get_users(page)
INFO:root:add route POST /api/users => api_register_user(email, name, passwd)
INFO:root:add route POST /api/blogs/{id}/secret => api_set_private(id, request)
INFO:root:add route POST /api/blogs/{id} => api_update_blog(id, request, name, summary, content, private)
INFO:root:add route POST /api/authenticate => authenticate(email, passwd)
INFO:root:add route GET /blog/{id} => get_blog(id)
INFO:root:add route GET / => index(request, page)
INFO:root:add route GET /manage/ => manage()
INFO:root:add route GET /manage/blogs => manage_blogs(page)
INFO:root:add route GET /manage/comments => manage_comments(page)
INFO:root:add route GET /manage/blogs/create => manage_create_blogs()
INFO:root:add route GET /manage/blogs/edit => manage_edit_blog(id)
INFO:root:add route GET /manage/users => manage_users(page)
INFO:root:add route GET /register => register()
INFO:root:add route GET /signin => signin()
INFO:root:add route GET /signout => signout(request)
INFO:root:add static /static/ => /home/admin/webapp/www/static
INFO:root:Server started at http://60.205.221.43:80...
INFO:root:Request: GET /manage/users
INFO:root:Check user: GET /manage/users
INFO:root:SQL: select `id`, `created_at`, `email`, `image`, `name`, `passwd`, `admin` from `users` where `id`=?
INFO:root:Rows returned: 1
INFO:root:Set current user: m15801021028@163.com
INFO:root:Response handler...
INFO:root:Call with arg: {}
INFO:aiohttp.access:106.120.206.159 [22/May/2018:01:51:59 +0000] "GET /manage/users HTTP/1.1" 200 5166 "http://www.lxiao.net:8000/manage/blogs" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/66.0.3359.181 Safari/537.36"
INFO:root:Request: GET /api/users
INFO:root:Check user: GET /api/users
INFO:root:SQL: select `id`, `created_at`, `email`, `image`, `name`, `passwd`, `admin` from `users` where `id`=?
INFO:root:Rows returned: 1
INFO:root:Set current user: m15801021028@163.com
INFO:root:Response handler...
INFO:root:Call with arg: {'page': '1'}
INFO:root:SQL: select count(id) _num_ from `users`
INFO:root:Rows returned: 1
INFO:root:SQL: select `id`, `created_at`, `email`, `image`, `name`, `passwd`, `admin` from `users` order by created_at desc limit ?, ?
INFO:root:Rows returned: 2
INFO:aiohttp.access:106.120.206.159 [22/May/2018:01:52:00 +0000] "GET /api/users?page=1 HTTP/1.1" 200 957 "http://www.lxiao.net:8000/manage/users" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/66.0.3359.181 Safari/537.36"
INFO:root:Request: GET /manage/comments
INFO:root:Check user: GET /manage/comments
INFO:root:SQL: select `id`, `created_at`, `email`, `image`, `name`, `passwd`, `admin` from `users` where `id`=?
INFO:root:Rows returned: 1
INFO:root:Set current user: m15801021028@163.com
INFO:root:Response handler...
INFO:root:Call with arg: {}
INFO:aiohttp.access:106.120.206.159 [22/May/2018:01:52:08 +0000] "GET /manage/comments HTTP/1.1" 200 6052 "http://www.lxiao.net:8000/manage/users" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/66.0.3359.181 Safari/537.36"
INFO:root:Request: GET /api/comments
INFO:root:Check user: GET /api/comments
INFO:root:SQL: select `id`, `created_at`, `email`, `image`, `name`, `passwd`, `admin` from `users` where `id`=?
INFO:root:Rows returned: 1
INFO:root:Set current user: m15801021028@163.com
INFO:root:Response handler...
INFO:root:Call with arg: {'page': '1'}
INFO:root:SQL: select count(id) _num_ from `comments`
INFO:root:Rows returned: 1
INFO:aiohttp.access:106.120.206.159 [22/May/2018:01:52:09 +0000] "GET /api/comments?page=1 HTTP/1.1" 200 318 "http://www.lxiao.net:8000/manage/comments" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/66.0.3359.181 Safari/537.36"
INFO:root:Found model: User (table: users)
INFO:root:  Found mapping: id ==> <IntegerField, bigint:None>
INFO:root:  Found mapping: name ==> <StringField, varchar(100):None>
INFO:root:Found model: User (table: users)
INFO:root:  Found mapping: passwd ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: id ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: email ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: name ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: admin ==> <BooleanField, boolean:None>
INFO:root:  Found mapping: created_at ==> <FloatField, real:None>
INFO:root:  Found mapping: image ==> <StringField, varchar(500):None>
INFO:root:Found model: Blog (table: blogs)
INFO:root:  Found mapping: name ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: id ==> <StringField, varchat(50):None>
INFO:root:  Found mapping: private ==> <BooleanField, boolean:None>
INFO:root:  Found mapping: user_id ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: content ==> <TextField, text:None>
INFO:root:  Found mapping: user_name ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: created_at ==> <FloatField, real:None>
INFO:root:  Found mapping: summary ==> <StringField, varchar(200):None>
INFO:root:  Found mapping: user_image ==> <StringField, varchar(500):None>
INFO:root:Found model: Comment (table: comments)
INFO:root:  Found mapping: id ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: user_name ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: user_id ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: content ==> <TextField, text:None>
INFO:root:  Found mapping: created_at ==> <FloatField, real:None>
INFO:root:  Found mapping: blog_id ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: user_image ==> <StringField, varchar(500):None>
INFO:root:Create database connection pool...
INFO:root:Init jinja2...
INFO:root:Set jinja2 template path: /home/admin/webapp/www/templates
INFO:root:add route GET /api/blogs => api_blogs(request, page)
INFO:root:add route GET /api/comments => api_comments(page)
INFO:root:add route POST /api/blogs => api_create_blog(request, name, summary, content, private)
INFO:root:add route POST /api/blogs/{id}/comments => api_create_comment(id, request, content)
INFO:root:add route POST /api/blogs/{id}/delete => api_delete_blog(id, request)
INFO:root:add route POST /api/comments/{id}/delete => api_delete_comment(id, request)
INFO:root:add route GET /api/blogs/{id} => api_get_blog(id)
INFO:root:add route GET /api/users => api_get_users(page)
INFO:root:add route POST /api/users => api_register_user(email, name, passwd)
INFO:root:add route POST /api/blogs/{id}/secret => api_set_private(id, request)
INFO:root:add route POST /api/blogs/{id} => api_update_blog(id, request, name, summary, content, private)
INFO:root:add route POST /api/authenticate => authenticate(email, passwd)
INFO:root:add route GET /blog/{id} => get_blog(id)
INFO:root:add route GET / => index(request, page)
INFO:root:add route GET /manage/ => manage()
INFO:root:add route GET /manage/blogs => manage_blogs(page)
INFO:root:add route GET /manage/comments => manage_comments(page)
INFO:root:add route GET /manage/blogs/create => manage_create_blogs()
INFO:root:add route GET /manage/blogs/edit => manage_edit_blog(id)
INFO:root:add route GET /manage/users => manage_users(page)
INFO:root:add route GET /register => register()
INFO:root:add route GET /signin => signin()
INFO:root:add route GET /signout => signout(request)
INFO:root:add static /static/ => /home/admin/webapp/www/static
INFO:root:Server started at http://60.205.221.43:80...
INFO:root:Found model: User (table: users)
INFO:root:  Found mapping: name ==> <StringField, varchar(100):None>
INFO:root:  Found mapping: id ==> <IntegerField, bigint:None>
INFO:root:Found model: User (table: users)
INFO:root:  Found mapping: name ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: created_at ==> <FloatField, real:None>
INFO:root:  Found mapping: image ==> <StringField, varchar(500):None>
INFO:root:  Found mapping: passwd ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: id ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: admin ==> <BooleanField, boolean:None>
INFO:root:  Found mapping: email ==> <StringField, varchar(50):None>
INFO:root:Found model: Blog (table: blogs)
INFO:root:  Found mapping: name ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: user_id ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: id ==> <StringField, varchat(50):None>
INFO:root:  Found mapping: summary ==> <StringField, varchar(200):None>
INFO:root:  Found mapping: user_image ==> <StringField, varchar(500):None>
INFO:root:  Found mapping: content ==> <TextField, text:None>
INFO:root:  Found mapping: user_name ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: private ==> <BooleanField, boolean:None>
INFO:root:  Found mapping: created_at ==> <FloatField, real:None>
INFO:root:Found model: Comment (table: comments)
INFO:root:  Found mapping: created_at ==> <FloatField, real:None>
INFO:root:  Found mapping: user_name ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: content ==> <TextField, text:None>
INFO:root:  Found mapping: user_image ==> <StringField, varchar(500):None>
INFO:root:  Found mapping: user_id ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: blog_id ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: id ==> <StringField, varchar(50):None>
INFO:root:Create database connection pool...
INFO:root:Init jinja2...
INFO:root:Set jinja2 template path: /home/admin/webapp/www/templates
INFO:root:add route GET /api/blogs => api_blogs(request, page)
INFO:root:add route GET /api/comments => api_comments(page)
INFO:root:add route POST /api/blogs => api_create_blog(request, name, summary, content, private)
INFO:root:add route POST /api/blogs/{id}/comments => api_create_comment(id, request, content)
INFO:root:add route POST /api/blogs/{id}/delete => api_delete_blog(id, request)
INFO:root:add route POST /api/comments/{id}/delete => api_delete_comment(id, request)
INFO:root:add route GET /api/blogs/{id} => api_get_blog(id)
INFO:root:add route GET /api/users => api_get_users(page)
INFO:root:add route POST /api/users => api_register_user(email, name, passwd)
INFO:root:add route POST /api/blogs/{id}/secret => api_set_private(id, request)
INFO:root:add route POST /api/blogs/{id} => api_update_blog(id, request, name, summary, content, private)
INFO:root:add route POST /api/authenticate => authenticate(email, passwd)
INFO:root:add route GET /blog/{id} => get_blog(id)
INFO:root:add route GET / => index(request, page)
INFO:root:add route GET /manage/ => manage()
INFO:root:add route GET /manage/blogs => manage_blogs(page)
INFO:root:add route GET /manage/comments => manage_comments(page)
INFO:root:add route GET /manage/blogs/create => manage_create_blogs()
INFO:root:add route GET /manage/blogs/edit => manage_edit_blog(id)
INFO:root:add route GET /manage/users => manage_users(page)
INFO:root:add route GET /register => register()
INFO:root:add route GET /signin => signin()
INFO:root:add route GET /signout => signout(request)
INFO:root:add static /static/ => /home/admin/webapp/www/static
INFO:root:Server started at http://60.205.221.43:80...
INFO:root:Found model: User (table: users)
INFO:root:  Found mapping: name ==> <StringField, varchar(100):None>
INFO:root:  Found mapping: id ==> <IntegerField, bigint:None>
INFO:root:Found model: User (table: users)
INFO:root:  Found mapping: id ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: passwd ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: image ==> <StringField, varchar(500):None>
INFO:root:  Found mapping: name ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: created_at ==> <FloatField, real:None>
INFO:root:  Found mapping: email ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: admin ==> <BooleanField, boolean:None>
INFO:root:Found model: Blog (table: blogs)
INFO:root:  Found mapping: user_id ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: private ==> <BooleanField, boolean:None>
INFO:root:  Found mapping: name ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: id ==> <StringField, varchat(50):None>
INFO:root:  Found mapping: user_name ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: content ==> <TextField, text:None>
INFO:root:  Found mapping: summary ==> <StringField, varchar(200):None>
INFO:root:  Found mapping: user_image ==> <StringField, varchar(500):None>
INFO:root:  Found mapping: created_at ==> <FloatField, real:None>
INFO:root:Found model: Comment (table: comments)
INFO:root:  Found mapping: user_id ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: user_name ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: content ==> <TextField, text:None>
INFO:root:  Found mapping: blog_id ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: user_image ==> <StringField, varchar(500):None>
INFO:root:  Found mapping: created_at ==> <FloatField, real:None>
INFO:root:  Found mapping: id ==> <StringField, varchar(50):None>
INFO:root:Create database connection pool...
INFO:root:Init jinja2...
INFO:root:Set jinja2 template path: /home/admin/webapp/www/templates
INFO:root:add route GET /api/blogs => api_blogs(request, page)
INFO:root:add route GET /api/comments => api_comments(page)
INFO:root:add route POST /api/blogs => api_create_blog(request, name, summary, content, private)
INFO:root:add route POST /api/blogs/{id}/comments => api_create_comment(id, request, content)
INFO:root:add route POST /api/blogs/{id}/delete => api_delete_blog(id, request)
INFO:root:add route POST /api/comments/{id}/delete => api_delete_comment(id, request)
INFO:root:add route GET /api/blogs/{id} => api_get_blog(id)
INFO:root:add route GET /api/users => api_get_users(page)
INFO:root:add route POST /api/users => api_register_user(email, name, passwd)
INFO:root:add route POST /api/blogs/{id}/secret => api_set_private(id, request)
INFO:root:add route POST /api/blogs/{id} => api_update_blog(id, request, name, summary, content, private)
INFO:root:add route POST /api/authenticate => authenticate(email, passwd)
INFO:root:add route GET /blog/{id} => get_blog(id)
INFO:root:add route GET / => index(request, page)
INFO:root:add route GET /manage/ => manage()
INFO:root:add route GET /manage/blogs => manage_blogs(page)
INFO:root:add route GET /manage/comments => manage_comments(page)
INFO:root:add route GET /manage/blogs/create => manage_create_blogs()
INFO:root:add route GET /manage/blogs/edit => manage_edit_blog(id)
INFO:root:add route GET /manage/users => manage_users(page)
INFO:root:add route GET /register => register()
INFO:root:add route GET /signin => signin()
INFO:root:add route GET /signout => signout(request)
INFO:root:add static /static/ => /home/admin/webapp/www/static
INFO:root:Server started at http://60.205.221.43:80...
INFO:root:Found model: User (table: users)
INFO:root:  Found mapping: id ==> <IntegerField, bigint:None>
INFO:root:  Found mapping: name ==> <StringField, varchar(100):None>
INFO:root:Found model: User (table: users)
INFO:root:  Found mapping: image ==> <StringField, varchar(500):None>
INFO:root:  Found mapping: email ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: created_at ==> <FloatField, real:None>
INFO:root:  Found mapping: admin ==> <BooleanField, boolean:None>
INFO:root:  Found mapping: name ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: passwd ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: id ==> <StringField, varchar(50):None>
INFO:root:Found model: Blog (table: blogs)
INFO:root:  Found mapping: private ==> <BooleanField, boolean:None>
INFO:root:  Found mapping: content ==> <TextField, text:None>
INFO:root:  Found mapping: summary ==> <StringField, varchar(200):None>
INFO:root:  Found mapping: user_id ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: user_name ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: user_image ==> <StringField, varchar(500):None>
INFO:root:  Found mapping: id ==> <StringField, varchat(50):None>
INFO:root:  Found mapping: created_at ==> <FloatField, real:None>
INFO:root:  Found mapping: name ==> <StringField, varchar(50):None>
INFO:root:Found model: Comment (table: comments)
INFO:root:  Found mapping: created_at ==> <FloatField, real:None>
INFO:root:  Found mapping: content ==> <TextField, text:None>
INFO:root:  Found mapping: user_name ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: user_image ==> <StringField, varchar(500):None>
INFO:root:  Found mapping: user_id ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: id ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: blog_id ==> <StringField, varchar(50):None>
INFO:root:Create database connection pool...
INFO:root:Init jinja2...
INFO:root:Set jinja2 template path: /home/admin/webapp/www/templates
INFO:root:add route GET /api/blogs => api_blogs(request, page)
INFO:root:add route GET /api/comments => api_comments(page)
INFO:root:add route POST /api/blogs => api_create_blog(request, name, summary, content, private)
INFO:root:add route POST /api/blogs/{id}/comments => api_create_comment(id, request, content)
INFO:root:add route POST /api/blogs/{id}/delete => api_delete_blog(id, request)
INFO:root:add route POST /api/comments/{id}/delete => api_delete_comment(id, request)
INFO:root:add route GET /api/blogs/{id} => api_get_blog(id)
INFO:root:add route GET /api/users => api_get_users(page)
INFO:root:add route POST /api/users => api_register_user(email, name, passwd)
INFO:root:add route POST /api/blogs/{id}/secret => api_set_private(id, request)
INFO:root:add route POST /api/blogs/{id} => api_update_blog(id, request, name, summary, content, private)
INFO:root:add route POST /api/authenticate => authenticate(email, passwd)
INFO:root:add route GET /blog/{id} => get_blog(id)
INFO:root:add route GET / => index(request, page)
INFO:root:add route GET /manage/ => manage()
INFO:root:add route GET /manage/blogs => manage_blogs(page)
INFO:root:add route GET /manage/comments => manage_comments(page)
INFO:root:add route GET /manage/blogs/create => manage_create_blogs()
INFO:root:add route GET /manage/blogs/edit => manage_edit_blog(id)
INFO:root:add route GET /manage/users => manage_users(page)
INFO:root:add route GET /register => register()
INFO:root:add route GET /signin => signin()
INFO:root:add route GET /signout => signout(request)
INFO:root:add static /static/ => /home/admin/webapp/www/static
INFO:root:Server started at http://60.205.221.43:80...
INFO:root:Found model: User (table: users)
INFO:root:  Found mapping: name ==> <StringField, varchar(100):None>
INFO:root:  Found mapping: id ==> <IntegerField, bigint:None>
INFO:root:Found model: User (table: users)
INFO:root:  Found mapping: passwd ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: image ==> <StringField, varchar(500):None>
INFO:root:  Found mapping: email ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: created_at ==> <FloatField, real:None>
INFO:root:  Found mapping: admin ==> <BooleanField, boolean:None>
INFO:root:  Found mapping: name ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: id ==> <StringField, varchar(50):None>
INFO:root:Found model: Blog (table: blogs)
INFO:root:  Found mapping: private ==> <BooleanField, boolean:None>
INFO:root:  Found mapping: created_at ==> <FloatField, real:None>
INFO:root:  Found mapping: name ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: user_id ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: id ==> <StringField, varchat(50):None>
INFO:root:  Found mapping: user_image ==> <StringField, varchar(500):None>
INFO:root:  Found mapping: user_name ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: summary ==> <StringField, varchar(200):None>
INFO:root:  Found mapping: content ==> <TextField, text:None>
INFO:root:Found model: Comment (table: comments)
INFO:root:  Found mapping: user_id ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: created_at ==> <FloatField, real:None>
INFO:root:  Found mapping: blog_id ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: user_image ==> <StringField, varchar(500):None>
INFO:root:  Found mapping: user_name ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: content ==> <TextField, text:None>
INFO:root:  Found mapping: id ==> <StringField, varchar(50):None>
INFO:root:Create database connection pool...
INFO:root:Init jinja2...
INFO:root:Set jinja2 template path: /home/admin/webapp/www/templates
INFO:root:add route GET /api/blogs => api_blogs(request, page)
INFO:root:add route GET /api/comments => api_comments(page)
INFO:root:add route POST /api/blogs => api_create_blog(request, name, summary, content, private)
INFO:root:add route POST /api/blogs/{id}/comments => api_create_comment(id, request, content)
INFO:root:add route POST /api/blogs/{id}/delete => api_delete_blog(id, request)
INFO:root:add route POST /api/comments/{id}/delete => api_delete_comment(id, request)
INFO:root:add route GET /api/blogs/{id} => api_get_blog(id)
INFO:root:add route GET /api/users => api_get_users(page)
INFO:root:add route POST /api/users => api_register_user(email, name, passwd)
INFO:root:add route POST /api/blogs/{id}/secret => api_set_private(id, request)
INFO:root:add route POST /api/blogs/{id} => api_update_blog(id, request, name, summary, content, private)
INFO:root:add route POST /api/authenticate => authenticate(email, passwd)
INFO:root:add route GET /blog/{id} => get_blog(id)
INFO:root:add route GET / => index(request, page)
INFO:root:add route GET /manage/ => manage()
INFO:root:add route GET /manage/blogs => manage_blogs(page)
INFO:root:add route GET /manage/comments => manage_comments(page)
INFO:root:add route GET /manage/blogs/create => manage_create_blogs()
INFO:root:add route GET /manage/blogs/edit => manage_edit_blog(id)
INFO:root:add route GET /manage/users => manage_users(page)
INFO:root:add route GET /register => register()
INFO:root:add route GET /signin => signin()
INFO:root:add route GET /signout => signout(request)
INFO:root:add static /static/ => /home/admin/webapp/www/static
INFO:root:Server started at http://60.205.221.43:80...
INFO:root:Found model: User (table: users)
INFO:root:  Found mapping: name ==> <StringField, varchar(100):None>
INFO:root:  Found mapping: id ==> <IntegerField, bigint:None>
INFO:root:Found model: User (table: users)
INFO:root:  Found mapping: name ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: email ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: image ==> <StringField, varchar(500):None>
INFO:root:  Found mapping: admin ==> <BooleanField, boolean:None>
INFO:root:  Found mapping: created_at ==> <FloatField, real:None>
INFO:root:  Found mapping: passwd ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: id ==> <StringField, varchar(50):None>
INFO:root:Found model: Blog (table: blogs)
INFO:root:  Found mapping: user_id ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: user_image ==> <StringField, varchar(500):None>
INFO:root:  Found mapping: id ==> <StringField, varchat(50):None>
INFO:root:  Found mapping: user_name ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: content ==> <TextField, text:None>
INFO:root:  Found mapping: name ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: created_at ==> <FloatField, real:None>
INFO:root:  Found mapping: private ==> <BooleanField, boolean:None>
INFO:root:  Found mapping: summary ==> <StringField, varchar(200):None>
INFO:root:Found model: Comment (table: comments)
INFO:root:  Found mapping: created_at ==> <FloatField, real:None>
INFO:root:  Found mapping: user_id ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: user_image ==> <StringField, varchar(500):None>
INFO:root:  Found mapping: blog_id ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: user_name ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: content ==> <TextField, text:None>
INFO:root:  Found mapping: id ==> <StringField, varchar(50):None>
INFO:root:Create database connection pool...
INFO:root:Init jinja2...
INFO:root:Set jinja2 template path: /home/admin/webapp/www/templates
INFO:root:add route GET /api/blogs => api_blogs(request, page)
INFO:root:add route GET /api/comments => api_comments(page)
INFO:root:add route POST /api/blogs => api_create_blog(request, name, summary, content, private)
INFO:root:add route POST /api/blogs/{id}/comments => api_create_comment(id, request, content)
INFO:root:add route POST /api/blogs/{id}/delete => api_delete_blog(id, request)
INFO:root:add route POST /api/comments/{id}/delete => api_delete_comment(id, request)
INFO:root:add route GET /api/blogs/{id} => api_get_blog(id)
INFO:root:add route GET /api/users => api_get_users(page)
INFO:root:add route POST /api/users => api_register_user(email, name, passwd)
INFO:root:add route POST /api/blogs/{id}/secret => api_set_private(id, request)
INFO:root:add route POST /api/blogs/{id} => api_update_blog(id, request, name, summary, content, private)
INFO:root:add route POST /api/authenticate => authenticate(email, passwd)
INFO:root:add route GET /blog/{id} => get_blog(id)
INFO:root:add route GET / => index(request, page)
INFO:root:add route GET /manage/ => manage()
INFO:root:add route GET /manage/blogs => manage_blogs(page)
INFO:root:add route GET /manage/comments => manage_comments(page)
INFO:root:add route GET /manage/blogs/create => manage_create_blogs()
INFO:root:add route GET /manage/blogs/edit => manage_edit_blog(id)
INFO:root:add route GET /manage/users => manage_users(page)
INFO:root:add route GET /register => register()
INFO:root:add route GET /signin => signin()
INFO:root:add route GET /signout => signout(request)
INFO:root:add static /static/ => /home/admin/webapp/www/static
INFO:root:Server started at http://60.205.221.43:80...
INFO:root:Found model: User (table: users)
INFO:root:  Found mapping: name ==> <StringField, varchar(100):None>
INFO:root:  Found mapping: id ==> <IntegerField, bigint:None>
INFO:root:Found model: User (table: users)
INFO:root:  Found mapping: created_at ==> <FloatField, real:None>
INFO:root:  Found mapping: name ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: passwd ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: id ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: image ==> <StringField, varchar(500):None>
INFO:root:  Found mapping: email ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: admin ==> <BooleanField, boolean:None>
INFO:root:Found model: Blog (table: blogs)
INFO:root:  Found mapping: user_image ==> <StringField, varchar(500):None>
INFO:root:  Found mapping: private ==> <BooleanField, boolean:None>
INFO:root:  Found mapping: user_id ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: created_at ==> <FloatField, real:None>
INFO:root:  Found mapping: name ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: id ==> <StringField, varchat(50):None>
INFO:root:  Found mapping: content ==> <TextField, text:None>
INFO:root:  Found mapping: summary ==> <StringField, varchar(200):None>
INFO:root:  Found mapping: user_name ==> <StringField, varchar(50):None>
INFO:root:Found model: Comment (table: comments)
INFO:root:  Found mapping: user_image ==> <StringField, varchar(500):None>
INFO:root:  Found mapping: blog_id ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: id ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: created_at ==> <FloatField, real:None>
INFO:root:  Found mapping: content ==> <TextField, text:None>
INFO:root:  Found mapping: user_name ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: user_id ==> <StringField, varchar(50):None>
INFO:root:Create database connection pool...
INFO:root:Init jinja2...
INFO:root:Set jinja2 template path: /home/admin/webapp/www/templates
INFO:root:add route GET /api/blogs => api_blogs(request, page)
INFO:root:add route GET /api/comments => api_comments(page)
INFO:root:add route POST /api/blogs => api_create_blog(request, name, summary, content, private)
INFO:root:add route POST /api/blogs/{id}/comments => api_create_comment(id, request, content)
INFO:root:add route POST /api/blogs/{id}/delete => api_delete_blog(id, request)
INFO:root:add route POST /api/comments/{id}/delete => api_delete_comment(id, request)
INFO:root:add route GET /api/blogs/{id} => api_get_blog(id)
INFO:root:add route GET /api/users => api_get_users(page)
INFO:root:add route POST /api/users => api_register_user(email, name, passwd)
INFO:root:add route POST /api/blogs/{id}/secret => api_set_private(id, request)
INFO:root:add route POST /api/blogs/{id} => api_update_blog(id, request, name, summary, content, private)
INFO:root:add route POST /api/authenticate => authenticate(email, passwd)
INFO:root:add route GET /blog/{id} => get_blog(id)
INFO:root:add route GET / => index(request, page)
INFO:root:add route GET /manage/ => manage()
INFO:root:add route GET /manage/blogs => manage_blogs(page)
INFO:root:add route GET /manage/comments => manage_comments(page)
INFO:root:add route GET /manage/blogs/create => manage_create_blogs()
INFO:root:add route GET /manage/blogs/edit => manage_edit_blog(id)
INFO:root:add route GET /manage/users => manage_users(page)
INFO:root:add route GET /register => register()
INFO:root:add route GET /signin => signin()
INFO:root:add route GET /signout => signout(request)
INFO:root:add static /static/ => /home/admin/webapp/www/static
INFO:root:Server started at http://60.205.221.43:80...
INFO:root:Found model: User (table: users)
INFO:root:  Found mapping: id ==> <IntegerField, bigint:None>
INFO:root:  Found mapping: name ==> <StringField, varchar(100):None>
INFO:root:Found model: User (table: users)
INFO:root:  Found mapping: image ==> <StringField, varchar(500):None>
INFO:root:  Found mapping: created_at ==> <FloatField, real:None>
INFO:root:  Found mapping: passwd ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: name ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: id ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: email ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: admin ==> <BooleanField, boolean:None>
INFO:root:Found model: Blog (table: blogs)
INFO:root:  Found mapping: created_at ==> <FloatField, real:None>
INFO:root:  Found mapping: user_image ==> <StringField, varchar(500):None>
INFO:root:  Found mapping: user_name ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: summary ==> <StringField, varchar(200):None>
INFO:root:  Found mapping: name ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: id ==> <StringField, varchat(50):None>
INFO:root:  Found mapping: user_id ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: private ==> <BooleanField, boolean:None>
INFO:root:  Found mapping: content ==> <TextField, text:None>
INFO:root:Found model: Comment (table: comments)
INFO:root:  Found mapping: content ==> <TextField, text:None>
INFO:root:  Found mapping: blog_id ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: user_image ==> <StringField, varchar(500):None>
INFO:root:  Found mapping: created_at ==> <FloatField, real:None>
INFO:root:  Found mapping: id ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: user_name ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: user_id ==> <StringField, varchar(50):None>
INFO:root:Create database connection pool...
INFO:root:Init jinja2...
INFO:root:Set jinja2 template path: /home/admin/webapp/www/templates
INFO:root:add route GET /api/blogs => api_blogs(request, page)
INFO:root:add route GET /api/comments => api_comments(page)
INFO:root:add route POST /api/blogs => api_create_blog(request, name, summary, content, private)
INFO:root:add route POST /api/blogs/{id}/comments => api_create_comment(id, request, content)
INFO:root:add route POST /api/blogs/{id}/delete => api_delete_blog(id, request)
INFO:root:add route POST /api/comments/{id}/delete => api_delete_comment(id, request)
INFO:root:add route GET /api/blogs/{id} => api_get_blog(id)
INFO:root:add route GET /api/users => api_get_users(page)
INFO:root:add route POST /api/users => api_register_user(email, name, passwd)
INFO:root:add route POST /api/blogs/{id}/secret => api_set_private(id, request)
INFO:root:add route POST /api/blogs/{id} => api_update_blog(id, request, name, summary, content, private)
INFO:root:add route POST /api/authenticate => authenticate(email, passwd)
INFO:root:add route GET /blog/{id} => get_blog(id)
INFO:root:add route GET / => index(request, page)
INFO:root:add route GET /manage/ => manage()
INFO:root:add route GET /manage/blogs => manage_blogs(page)
INFO:root:add route GET /manage/comments => manage_comments(page)
INFO:root:add route GET /manage/blogs/create => manage_create_blogs()
INFO:root:add route GET /manage/blogs/edit => manage_edit_blog(id)
INFO:root:add route GET /manage/users => manage_users(page)
INFO:root:add route GET /register => register()
INFO:root:add route GET /signin => signin()
INFO:root:add route GET /signout => signout(request)
INFO:root:add static /static/ => /home/admin/webapp/www/static
INFO:root:Server started at http://60.205.221.43:80...
INFO:root:Found model: User (table: users)
INFO:root:  Found mapping: id ==> <IntegerField, bigint:None>
INFO:root:  Found mapping: name ==> <StringField, varchar(100):None>
INFO:root:Found model: User (table: users)
INFO:root:  Found mapping: name ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: image ==> <StringField, varchar(500):None>
INFO:root:  Found mapping: email ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: admin ==> <BooleanField, boolean:None>
INFO:root:  Found mapping: passwd ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: id ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: created_at ==> <FloatField, real:None>
INFO:root:Found model: Blog (table: blogs)
INFO:root:  Found mapping: content ==> <TextField, text:None>
INFO:root:  Found mapping: user_image ==> <StringField, varchar(500):None>
INFO:root:  Found mapping: user_name ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: summary ==> <StringField, varchar(200):None>
INFO:root:  Found mapping: created_at ==> <FloatField, real:None>
INFO:root:  Found mapping: id ==> <StringField, varchat(50):None>
INFO:root:  Found mapping: name ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: user_id ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: private ==> <BooleanField, boolean:None>
INFO:root:Found model: Comment (table: comments)
INFO:root:  Found mapping: blog_id ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: user_id ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: user_image ==> <StringField, varchar(500):None>
INFO:root:  Found mapping: user_name ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: content ==> <TextField, text:None>
INFO:root:  Found mapping: id ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: created_at ==> <FloatField, real:None>
INFO:root:Create database connection pool...
INFO:root:Init jinja2...
INFO:root:Set jinja2 template path: /home/admin/webapp/www/templates
INFO:root:add route GET /api/blogs => api_blogs(request, page)
INFO:root:add route GET /api/comments => api_comments(page)
INFO:root:add route POST /api/blogs => api_create_blog(request, name, summary, content, private)
INFO:root:add route POST /api/blogs/{id}/comments => api_create_comment(id, request, content)
INFO:root:add route POST /api/blogs/{id}/delete => api_delete_blog(id, request)
INFO:root:add route POST /api/comments/{id}/delete => api_delete_comment(id, request)
INFO:root:add route GET /api/blogs/{id} => api_get_blog(id)
INFO:root:add route GET /api/users => api_get_users(page)
INFO:root:add route POST /api/users => api_register_user(email, name, passwd)
INFO:root:add route POST /api/blogs/{id}/secret => api_set_private(id, request)
INFO:root:add route POST /api/blogs/{id} => api_update_blog(id, request, name, summary, content, private)
INFO:root:add route POST /api/authenticate => authenticate(email, passwd)
INFO:root:add route GET /blog/{id} => get_blog(id)
INFO:root:add route GET / => index(request, page)
INFO:root:add route GET /manage/ => manage()
INFO:root:add route GET /manage/blogs => manage_blogs(page)
INFO:root:add route GET /manage/comments => manage_comments(page)
INFO:root:add route GET /manage/blogs/create => manage_create_blogs()
INFO:root:add route GET /manage/blogs/edit => manage_edit_blog(id)
INFO:root:add route GET /manage/users => manage_users(page)
INFO:root:add route GET /register => register()
INFO:root:add route GET /signin => signin()
INFO:root:add route GET /signout => signout(request)
INFO:root:add static /static/ => /home/admin/webapp/www/static
INFO:root:Server started at http://60.205.221.43:80...
INFO:root:Found model: User (table: users)
INFO:root:  Found mapping: name ==> <StringField, varchar(100):None>
INFO:root:  Found mapping: id ==> <IntegerField, bigint:None>
INFO:root:Found model: User (table: users)
INFO:root:  Found mapping: created_at ==> <FloatField, real:None>
INFO:root:  Found mapping: image ==> <StringField, varchar(500):None>
INFO:root:  Found mapping: email ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: admin ==> <BooleanField, boolean:None>
INFO:root:  Found mapping: passwd ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: name ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: id ==> <StringField, varchar(50):None>
INFO:root:Found model: Blog (table: blogs)
INFO:root:  Found mapping: private ==> <BooleanField, boolean:None>
INFO:root:  Found mapping: name ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: summary ==> <StringField, varchar(200):None>
INFO:root:  Found mapping: created_at ==> <FloatField, real:None>
INFO:root:  Found mapping: user_name ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: user_id ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: id ==> <StringField, varchat(50):None>
INFO:root:  Found mapping: content ==> <TextField, text:None>
INFO:root:  Found mapping: user_image ==> <StringField, varchar(500):None>
INFO:root:Found model: Comment (table: comments)
INFO:root:  Found mapping: created_at ==> <FloatField, real:None>
INFO:root:  Found mapping: user_name ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: blog_id ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: user_id ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: content ==> <TextField, text:None>
INFO:root:  Found mapping: user_image ==> <StringField, varchar(500):None>
INFO:root:  Found mapping: id ==> <StringField, varchar(50):None>
INFO:root:Create database connection pool...
INFO:root:Init jinja2...
INFO:root:Set jinja2 template path: /home/admin/webapp/www/templates
INFO:root:add route GET /api/blogs => api_blogs(request, page)
INFO:root:add route GET /api/comments => api_comments(page)
INFO:root:add route POST /api/blogs => api_create_blog(request, name, summary, content, private)
INFO:root:add route POST /api/blogs/{id}/comments => api_create_comment(id, request, content)
INFO:root:add route POST /api/blogs/{id}/delete => api_delete_blog(id, request)
INFO:root:add route POST /api/comments/{id}/delete => api_delete_comment(id, request)
INFO:root:add route GET /api/blogs/{id} => api_get_blog(id)
INFO:root:add route GET /api/users => api_get_users(page)
INFO:root:add route POST /api/users => api_register_user(email, name, passwd)
INFO:root:add route POST /api/blogs/{id}/secret => api_set_private(id, request)
INFO:root:add route POST /api/blogs/{id} => api_update_blog(id, request, name, summary, content, private)
INFO:root:add route POST /api/authenticate => authenticate(email, passwd)
INFO:root:add route GET /blog/{id} => get_blog(id)
INFO:root:add route GET / => index(request, page)
INFO:root:add route GET /manage/ => manage()
INFO:root:add route GET /manage/blogs => manage_blogs(page)
INFO:root:add route GET /manage/comments => manage_comments(page)
INFO:root:add route GET /manage/blogs/create => manage_create_blogs()
INFO:root:add route GET /manage/blogs/edit => manage_edit_blog(id)
INFO:root:add route GET /manage/users => manage_users(page)
INFO:root:add route GET /register => register()
INFO:root:add route GET /signin => signin()
INFO:root:add route GET /signout => signout(request)
INFO:root:add static /static/ => /home/admin/webapp/www/static
INFO:root:Server started at http://60.205.221.43:80...
[Monitor] Watching directioy /home/admin/webapp/www...
[Monitor] Start process python3 app.py...
[Monitor] HTML source file changed: /home/admin/webapp/www/templates/manage_blogs.html
[Monitor] Kill process [10889]...
[Monitor] Process ended with code -9.
[Monitor] Start process python3 app.py...
[Monitor] HTML source file changed: /home/admin/webapp/www/templates/manage_blogs.html
[Monitor] Kill process [17788]...
[Monitor] Process ended with code -9.
[Monitor] Start process python3 app.py...
[Monitor] HTML source file changed: /home/admin/webapp/www/templates/manage_blogs.html
[Monitor] Kill process [17790]...
[Monitor] Process ended with code -9.
[Monitor] Start process python3 app.py...
[Monitor] HTML source file changed: /home/admin/webapp/www/templates/manage_blogs.html
[Monitor] Kill process [17907]...
[Monitor] Process ended with code -9.
[Monitor] Start process python3 app.py...
[Monitor] HTML source file changed: /home/admin/webapp/www/templates/manage_blogs.html
[Monitor] Kill process [18571]...
[Monitor] Process ended with code -9.
[Monitor] Start process python3 app.py...
[Monitor] Python source file changed: /home/admin/webapp/www/handlers.py
[Monitor] Kill process [18572]...
[Monitor] Process ended with code -9.
[Monitor] Start process python3 app.py...
[Monitor] Python source file changed: /home/admin/webapp/www/handlers.py
[Monitor] Kill process [18596]...
[Monitor] Process ended with code -9.
[Monitor] Start process python3 app.py...
[Monitor] Python source file changed: /home/admin/webapp/www/handlers.py
[Monitor] Kill process [18597]...
[Monitor] Process ended with code -9.
[Monitor] Start process python3 app.py...
[Monitor] Python source file changed: /home/admin/webapp/www/handlers.py
[Monitor] Kill process [18598]...
[Monitor] Process ended with code -9.
[Monitor] Start process python3 app.py...
[Monitor] HTML source file changed: /home/admin/webapp/www/templates/manage_blogs.html
[Monitor] Kill process [18600]...
[Monitor] Process ended with code -9.
[Monitor] Start process python3 app.py...
[Monitor] HTML source file changed: /home/admin/webapp/www/templates/manage_blogs.html
[Monitor] Kill process [18641]...
[Monitor] Process ended with code -9.
[Monitor] Start process python3 app.py...
[Monitor] Python source file changed: /home/admin/webapp/www/handlers.py
[Monitor] Kill process [18642]...
[Monitor] Process ended with code -9.
[Monitor] Start process python3 app.py...
[Monitor] Python source file changed: /home/admin/webapp/www/handlers.py
[Monitor] Kill process [18656]...
[Monitor] Process ended with code -9.
[Monitor] Start process python3 app.py...
[Monitor] Python source file changed: /home/admin/webapp/www/handlers.py
[Monitor] Kill process [18657]...
[Monitor] Process ended with code -9.
[Monitor] Start process python3 app.py...
[Monitor] Python source file changed: /home/admin/webapp/www/handlers.py
[Monitor] Kill process [18658]...
[Monitor] Process ended with code -9.
[Monitor] Start process python3 app.py...
[Monitor] Python source file changed: /home/admin/webapp/www/handlers.py
[Monitor] Kill process [18659]...
[Monitor] Process ended with code -9.
[Monitor] Start process python3 app.py...
[Monitor] Python source file changed: /home/admin/webapp/www/handlers.py
[Monitor] Kill process [18667]...
[Monitor] Process ended with code -9.
[Monitor] Start process python3 app.py...
[Monitor] Python source file changed: /home/admin/webapp/www/handlers.py
[Monitor] Kill process [18668]...
[Monitor] Process ended with code -9.
[Monitor] Start process python3 app.py...
[Monitor] Python source file changed: /home/admin/webapp/www/handlers.py
[Monitor] Kill process [18669]...
[Monitor] Process ended with code -9.
[Monitor] Start process python3 app.py...
[Monitor] Python source file changed: /home/admin/webapp/www/handlers.py
[Monitor] Kill process [18670]...
[Monitor] Process ended with code -9.
[Monitor] Start process python3 app.py...
[Monitor] Python source file changed: /home/admin/webapp/www/handlers.py
[Monitor] Kill process [18689]...
[Monitor] Process ended with code -9.
[Monitor] Start process python3 app.py...
[Monitor] Python source file changed: /home/admin/webapp/www/handlers.py
[Monitor] Kill process [18690]...
[Monitor] Process ended with code -9.
[Monitor] Start process python3 app.py...
[Monitor] Python source file changed: /home/admin/webapp/www/handlers.py
[Monitor] Kill process [18691]...
[Monitor] Process ended with code -9.
[Monitor] Start process python3 app.py...
[Monitor] Python source file changed: /home/admin/webapp/www/handlers.py
[Monitor] Kill process [18692]...
[Monitor] Process ended with code -9.
[Monitor] Start process python3 app.py...
[Monitor] Python source file changed: /home/admin/webapp/www/handlers.py
[Monitor] Kill process [18723]...
[Monitor] Process ended with code -9.
[Monitor] Start process python3 app.py...
[Monitor] Python source file changed: /home/admin/webapp/www/handlers.py
[Monitor] Kill process [18724]...
[Monitor] Process ended with code -9.
[Monitor] Start process python3 app.py...
[Monitor] Python source file changed: /home/admin/webapp/www/handlers.py
[Monitor] Kill process [18725]...
[Monitor] Process ended with code -9.
[Monitor] Start process python3 app.py...
[Monitor] HTML source file changed: /home/admin/webapp/www/templates/manage_blogs.html
[Monitor] Kill process [18726]...
[Monitor] Process ended with code -9.
[Monitor] Start process python3 app.py...
[Monitor] HTML source file changed: /home/admin/webapp/www/templates/manage_blogs.html
[Monitor] Kill process [18767]...
[Monitor] Process ended with code -9.
[Monitor] Start process python3 app.py...
[Monitor] HTML source file changed: /home/admin/webapp/www/templates/manage_blogs.html
[Monitor] Kill process [18768]...
[Monitor] Process ended with code -9.
[Monitor] Start process python3 app.py...
[Monitor] HTML source file changed: /home/admin/webapp/www/templates/manage_blogs.html
[Monitor] Kill process [18788]...
[Monitor] Process ended with code -9.
[Monitor] Start process python3 app.py...
[Monitor] HTML source file changed: /home/admin/webapp/www/templates/manage_blogs.html
[Monitor] Kill process [18789]...
[Monitor] Process ended with code -9.
[Monitor] Start process python3 app.py...
[Monitor] HTML source file changed: /home/admin/webapp/www/templates/manage_blogs.html
[Monitor] Kill process [18799]...
[Monitor] Process ended with code -9.
[Monitor] Start process python3 app.py...
[Monitor] HTML source file changed: /home/admin/webapp/www/templates/manage_blogs.html
[Monitor] Kill process [18800]...
[Monitor] Process ended with code -9.
[Monitor] Start process python3 app.py...
[Monitor] HTML source file changed: /home/admin/webapp/www/templates/manage_blogs.html
[Monitor] Kill process [18811]...
[Monitor] Process ended with code -9.
[Monitor] Start process python3 app.py...
[Monitor] Python source file changed: /home/admin/webapp/www/handlers.py
[Monitor] Kill process [18812]...
[Monitor] Process ended with code -9.
[Monitor] Start process python3 app.py...
[Monitor] Python source file changed: /home/admin/webapp/www/handlers.py
[Monitor] Kill process [18821]...
[Monitor] Process ended with code -9.
[Monitor] Start process python3 app.py...
[Monitor] Python source file changed: /home/admin/webapp/www/handlers.py
[Monitor] Kill process [18822]...
[Monitor] Process ended with code -9.
[Monitor] Start process python3 app.py...
[Monitor] Python source file changed: /home/admin/webapp/www/handlers.py
[Monitor] Kill process [18823]...
[Monitor] Process ended with code -9.
[Monitor] Start process python3 app.py...
[Monitor] HTML source file changed: /home/admin/webapp/www/templates/manage_blogs.html
[Monitor] Kill process [18824]...
[Monitor] Process ended with code -9.
[Monitor] Start process python3 app.py...
[Monitor] HTML source file changed: /home/admin/webapp/www/templates/manage_blogs.html
[Monitor] Kill process [18867]...
[Monitor] Process ended with code -9.
[Monitor] Start process python3 app.py...
[Monitor] HTML source file changed: /home/admin/webapp/www/templates/manage_blogs.html
[Monitor] Kill process [18868]...
[Monitor] Process ended with code -9.
[Monitor] Start process python3 app.py...INFO:root:Found model: User (table: users)
INFO:root:  Found mapping: id ==> <IntegerField, bigint:None>
INFO:root:  Found mapping: name ==> <StringField, varchar(100):None>
INFO:root:Found model: User (table: users)
INFO:root:  Found mapping: name ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: created_at ==> <FloatField, real:None>
INFO:root:  Found mapping: email ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: passwd ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: id ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: admin ==> <BooleanField, boolean:None>
INFO:root:  Found mapping: image ==> <StringField, varchar(500):None>
INFO:root:Found model: Blog (table: blogs)
INFO:root:  Found mapping: created_at ==> <FloatField, real:None>
INFO:root:  Found mapping: content ==> <TextField, text:None>
INFO:root:  Found mapping: user_image ==> <StringField, varchar(500):None>
INFO:root:  Found mapping: private ==> <BooleanField, boolean:None>
INFO:root:  Found mapping: name ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: summary ==> <StringField, varchar(200):None>
INFO:root:  Found mapping: id ==> <StringField, varchat(50):None>
INFO:root:  Found mapping: user_name ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: user_id ==> <StringField, varchar(50):None>
INFO:root:Found model: Comment (table: comments)
INFO:root:  Found mapping: user_name ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: content ==> <TextField, text:None>
INFO:root:  Found mapping: created_at ==> <FloatField, real:None>
INFO:root:  Found mapping: user_image ==> <StringField, varchar(500):None>
INFO:root:  Found mapping: id ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: user_id ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: blog_id ==> <StringField, varchar(50):None>
INFO:root:Create database connection pool...
INFO:root:Init jinja2...
INFO:root:Set jinja2 template path: /home/admin/webapp/www/templates
INFO:root:add route GET /api/blogs => api_blogs(request, page)
INFO:root:add route GET /api/comments => api_comments(page)
INFO:root:add route POST /api/blogs => api_create_blog(request, name, summary, content, private)
INFO:root:add route POST /api/blogs/{id}/comments => api_create_comment(id, request, content)
INFO:root:add route POST /api/blogs/{id}/delete => api_delete_blog(id, request)
INFO:root:add route POST /api/comments/{id}/delete => api_delete_comment(id, request)
INFO:root:add route GET /api/blogs/{id} => api_get_blog(id)
INFO:root:add route GET /api/users => api_get_users(page)
INFO:root:add route POST /api/users => api_register_user(email, name, passwd)
INFO:root:add route POST /api/blogs/{id}/secret => api_set_private(id, request)
INFO:root:add route POST /api/blogs/{id} => api_update_blog(id, request, name, summary, content, private)
INFO:root:add route POST /api/authenticate => authenticate(email, passwd)
INFO:root:add route GET /blog/{id} => get_blog(id)
INFO:root:add route GET / => index(request, page)
INFO:root:add route GET /manage/ => manage()
INFO:root:add route GET /manage/blogs => manage_blogs(page)
INFO:root:add route GET /manage/comments => manage_comments(page)
INFO:root:add route GET /manage/blogs/create => manage_create_blogs()
INFO:root:add route GET /manage/blogs/edit => manage_edit_blog(id)
INFO:root:add route GET /manage/users => manage_users(page)
INFO:root:add route GET /register => register()
INFO:root:add route GET /signin => signin()
INFO:root:add route GET /signout => signout(request)
INFO:root:add static /static/ => /home/admin/webapp/www/static
INFO:root:Server started at http://60.205.221.43:80...
INFO:root:Found model: User (table: users)
INFO:root:  Found mapping: id ==> <IntegerField, bigint:None>
INFO:root:  Found mapping: name ==> <StringField, varchar(100):None>
INFO:root:Found model: User (table: users)
INFO:root:  Found mapping: id ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: name ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: image ==> <StringField, varchar(500):None>
INFO:root:  Found mapping: email ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: admin ==> <BooleanField, boolean:None>
INFO:root:  Found mapping: passwd ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: created_at ==> <FloatField, real:None>
INFO:root:Found model: Blog (table: blogs)
INFO:root:  Found mapping: id ==> <StringField, varchat(50):None>
INFO:root:  Found mapping: name ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: user_name ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: created_at ==> <FloatField, real:None>
INFO:root:  Found mapping: user_id ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: summary ==> <StringField, varchar(200):None>
INFO:root:  Found mapping: content ==> <TextField, text:None>
INFO:root:  Found mapping: private ==> <BooleanField, boolean:None>
INFO:root:  Found mapping: user_image ==> <StringField, varchar(500):None>
INFO:root:Found model: Comment (table: comments)
INFO:root:  Found mapping: id ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: user_name ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: content ==> <TextField, text:None>
INFO:root:  Found mapping: created_at ==> <FloatField, real:None>
INFO:root:  Found mapping: user_id ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: blog_id ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: user_image ==> <StringField, varchar(500):None>
INFO:root:Create database connection pool...
INFO:root:Init jinja2...
INFO:root:Set jinja2 template path: /home/admin/webapp/www/templates
INFO:root:add route GET /api/blogs => api_blogs(request, page)
INFO:root:add route GET /api/comments => api_comments(page)
INFO:root:add route POST /api/blogs => api_create_blog(request, name, summary, content, private)
INFO:root:add route POST /api/blogs/{id}/comments => api_create_comment(id, request, content)
INFO:root:add route POST /api/blogs/{id}/delete => api_delete_blog(id, request)
INFO:root:add route POST /api/comments/{id}/delete => api_delete_comment(id, request)
INFO:root:add route GET /api/blogs/{id} => api_get_blog(id)
INFO:root:add route GET /api/users => api_get_users(page)
INFO:root:add route POST /api/users => api_register_user(email, name, passwd)
INFO:root:add route POST /api/blogs/{id}/secret => api_set_private(id, request)
INFO:root:add route POST /api/blogs/{id} => api_update_blog(id, request, name, summary, content, private)
INFO:root:add route POST /api/authenticate => authenticate(email, passwd)
INFO:root:add route GET /blog/{id} => get_blog(id)
INFO:root:add route GET / => index(request, page)
INFO:root:add route GET /manage/ => manage()
INFO:root:add route GET /manage/blogs => manage_blogs(page)
INFO:root:add route GET /manage/comments => manage_comments(page)
INFO:root:add route GET /manage/blogs/create => manage_create_blogs()
INFO:root:add route GET /manage/blogs/edit => manage_edit_blog(id)
INFO:root:add route GET /manage/users => manage_users(page)
INFO:root:add route GET /register => register()
INFO:root:add route GET /signin => signin()
INFO:root:add route GET /signout => signout(request)
INFO:root:add static /static/ => /home/admin/webapp/www/static
INFO:root:Server started at http://60.205.221.43:80...
INFO:root:Found model: User (table: users)
INFO:root:  Found mapping: name ==> <StringField, varchar(100):None>
INFO:root:  Found mapping: id ==> <IntegerField, bigint:None>
INFO:root:Found model: User (table: users)
INFO:root:  Found mapping: name ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: email ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: image ==> <StringField, varchar(500):None>
INFO:root:  Found mapping: admin ==> <BooleanField, boolean:None>
INFO:root:  Found mapping: passwd ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: id ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: created_at ==> <FloatField, real:None>
INFO:root:Found model: Blog (table: blogs)
INFO:root:  Found mapping: name ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: created_at ==> <FloatField, real:None>
INFO:root:  Found mapping: user_id ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: id ==> <StringField, varchat(50):None>
INFO:root:  Found mapping: user_image ==> <StringField, varchar(500):None>
INFO:root:  Found mapping: content ==> <TextField, text:None>
INFO:root:  Found mapping: user_name ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: private ==> <BooleanField, boolean:None>
INFO:root:  Found mapping: summary ==> <StringField, varchar(200):None>
INFO:root:Found model: Comment (table: comments)
INFO:root:  Found mapping: blog_id ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: content ==> <TextField, text:None>
INFO:root:  Found mapping: created_at ==> <FloatField, real:None>
INFO:root:  Found mapping: user_name ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: user_id ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: id ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: user_image ==> <StringField, varchar(500):None>
INFO:root:Create database connection pool...
INFO:root:Init jinja2...
INFO:root:Set jinja2 template path: /home/admin/webapp/www/templates
INFO:root:add route GET /api/blogs => api_blogs(request, page)
INFO:root:add route GET /api/comments => api_comments(page)
INFO:root:add route POST /api/blogs => api_create_blog(request, name, summary, content, private)
INFO:root:add route POST /api/blogs/{id}/comments => api_create_comment(id, request, content)
INFO:root:add route POST /api/blogs/{id}/delete => api_delete_blog(id, request)
INFO:root:add route POST /api/comments/{id}/delete => api_delete_comment(id, request)
INFO:root:add route GET /api/blogs/{id} => api_get_blog(id)
INFO:root:add route GET /api/users => api_get_users(page)
INFO:root:add route POST /api/users => api_register_user(email, name, passwd)
INFO:root:add route GET /api/blogs/{id}/secret => api_set_private(id, request)
INFO:root:add route POST /api/blogs/{id} => api_update_blog(id, request, name, summary, content, private)
INFO:root:add route POST /api/authenticate => authenticate(email, passwd)
INFO:root:add route GET /blog/{id} => get_blog(id)
INFO:root:add route GET / => index(request, page)
INFO:root:add route GET /manage/ => manage()
INFO:root:add route GET /manage/blogs => manage_blogs(page)
INFO:root:add route GET /manage/comments => manage_comments(page)
INFO:root:add route GET /manage/blogs/create => manage_create_blogs()
INFO:root:add route GET /manage/blogs/edit => manage_edit_blog(id)
INFO:root:add route GET /manage/users => manage_users(page)
INFO:root:add route GET /register => register()
INFO:root:add route GET /signin => signin()
INFO:root:add route GET /signout => signout(request)
INFO:root:add static /static/ => /home/admin/webapp/www/static
INFO:root:Server started at http://60.205.221.43:80...
INFO:root:Found model: User (table: users)
INFO:root:  Found mapping: name ==> <StringField, varchar(100):None>
INFO:root:  Found mapping: id ==> <IntegerField, bigint:None>
INFO:root:Found model: User (table: users)
INFO:root:  Found mapping: admin ==> <BooleanField, boolean:None>
INFO:root:  Found mapping: passwd ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: created_at ==> <FloatField, real:None>
INFO:root:  Found mapping: name ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: image ==> <StringField, varchar(500):None>
INFO:root:  Found mapping: email ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: id ==> <StringField, varchar(50):None>
INFO:root:Found model: Blog (table: blogs)
INFO:root:  Found mapping: user_id ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: summary ==> <StringField, varchar(200):None>
INFO:root:  Found mapping: user_name ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: content ==> <TextField, text:None>
INFO:root:  Found mapping: user_image ==> <StringField, varchar(500):None>
INFO:root:  Found mapping: created_at ==> <FloatField, real:None>
INFO:root:  Found mapping: id ==> <StringField, varchat(50):None>
INFO:root:  Found mapping: private ==> <BooleanField, boolean:None>
INFO:root:  Found mapping: name ==> <StringField, varchar(50):None>
INFO:root:Found model: Comment (table: comments)
INFO:root:  Found mapping: user_id ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: user_image ==> <StringField, varchar(500):None>
INFO:root:  Found mapping: content ==> <TextField, text:None>
INFO:root:  Found mapping: blog_id ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: user_name ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: created_at ==> <FloatField, real:None>
INFO:root:  Found mapping: id ==> <StringField, varchar(50):None>
INFO:root:Create database connection pool...
INFO:root:Init jinja2...
INFO:root:Set jinja2 template path: /home/admin/webapp/www/templates
INFO:root:add route GET /api/blogs => api_blogs(request, page)
INFO:root:add route GET /api/comments => api_comments(page)
INFO:root:add route POST /api/blogs => api_create_blog(request, name, summary, content, private)
INFO:root:add route POST /api/blogs/{id}/comments => api_create_comment(id, request, content)
INFO:root:add route POST /api/blogs/{id}/delete => api_delete_blog(id, request)
INFO:root:add route POST /api/comments/{id}/delete => api_delete_comment(id, request)
INFO:root:add route GET /api/blogs/{id} => api_get_blog(id)
INFO:root:add route GET /api/users => api_get_users(page)
INFO:root:add route POST /api/users => api_register_user(email, name, passwd)
INFO:root:add route GET /api/blogs/{id}/secret => api_set_private(id, request)
INFO:root:add route POST /api/blogs/{id} => api_update_blog(id, request, name, summary, content, private)
INFO:root:add route POST /api/authenticate => authenticate(email, passwd)
INFO:root:add route GET /blog/{id} => get_blog(id)
INFO:root:add route GET / => index(request, page)
INFO:root:add route GET /manage/ => manage()
INFO:root:add route GET /manage/blogs => manage_blogs(page)
INFO:root:add route GET /manage/comments => manage_comments(page)
INFO:root:add route GET /manage/blogs/create => manage_create_blogs()
INFO:root:add route GET /manage/blogs/edit => manage_edit_blog(id)
INFO:root:add route GET /manage/users => manage_users(page)
INFO:root:add route GET /register => register()
INFO:root:add route GET /signin => signin()
INFO:root:add route GET /signout => signout(request)
INFO:root:add static /static/ => /home/admin/webapp/www/static
INFO:root:Server started at http://60.205.221.43:80...
INFO:root:Found model: User (table: users)
INFO:root:  Found mapping: name ==> <StringField, varchar(100):None>
INFO:root:  Found mapping: id ==> <IntegerField, bigint:None>
INFO:root:Found model: User (table: users)
INFO:root:  Found mapping: email ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: admin ==> <BooleanField, boolean:None>
INFO:root:  Found mapping: name ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: passwd ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: id ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: created_at ==> <FloatField, real:None>
INFO:root:  Found mapping: image ==> <StringField, varchar(500):None>
INFO:root:Found model: Blog (table: blogs)
INFO:root:  Found mapping: summary ==> <StringField, varchar(200):None>
INFO:root:  Found mapping: user_image ==> <StringField, varchar(500):None>
INFO:root:  Found mapping: private ==> <BooleanField, boolean:None>
INFO:root:  Found mapping: id ==> <StringField, varchat(50):None>
INFO:root:  Found mapping: user_id ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: content ==> <TextField, text:None>
INFO:root:  Found mapping: name ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: created_at ==> <FloatField, real:None>
INFO:root:  Found mapping: user_name ==> <StringField, varchar(50):None>
INFO:root:Found model: Comment (table: comments)
INFO:root:  Found mapping: blog_id ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: user_image ==> <StringField, varchar(500):None>
INFO:root:  Found mapping: id ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: user_id ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: created_at ==> <FloatField, real:None>
INFO:root:  Found mapping: content ==> <TextField, text:None>
INFO:root:  Found mapping: user_name ==> <StringField, varchar(50):None>
INFO:root:Create database connection pool...
INFO:root:Init jinja2...
INFO:root:Set jinja2 template path: /home/admin/webapp/www/templates
INFO:root:add route GET /api/blogs => api_blogs(request, page)
INFO:root:add route GET /api/comments => api_comments(page)
INFO:root:add route POST /api/blogs => api_create_blog(request, name, summary, content, private)
INFO:root:add route POST /api/blogs/{id}/comments => api_create_comment(id, request, content)
INFO:root:add route POST /api/blogs/{id}/delete => api_delete_blog(id, request)
INFO:root:add route POST /api/comments/{id}/delete => api_delete_comment(id, request)
INFO:root:add route GET /api/blogs/{id} => api_get_blog(id)
INFO:root:add route GET /api/blogs/{id}/secret => api_get_private(id, request)
INFO:root:add route GET /api/users => api_get_users(page)
INFO:root:add route POST /api/users => api_register_user(email, name, passwd)
INFO:root:add route POST /api/blogs/{id}/secret => api_set_private(id, request)
INFO:root:add route POST /api/blogs/{id} => api_update_blog(id, request, name, summary, content, private)
INFO:root:add route POST /api/authenticate => authenticate(email, passwd)
INFO:root:add route GET /blog/{id} => get_blog(id)
INFO:root:add route GET / => index(request, page)
INFO:root:add route GET /manage/ => manage()
INFO:root:add route GET /manage/blogs => manage_blogs(page)
INFO:root:add route GET /manage/comments => manage_comments(page)
INFO:root:add route GET /manage/blogs/create => manage_create_blogs()
INFO:root:add route GET /manage/blogs/edit => manage_edit_blog(id)
INFO:root:add route GET /manage/users => manage_users(page)
INFO:root:add route GET /register => register()
INFO:root:add route GET /signin => signin()
INFO:root:add route GET /signout => signout(request)
INFO:root:add static /static/ => /home/admin/webapp/www/static
INFO:root:Server started at http://60.205.221.43:80...
INFO:root:Found model: User (table: users)
INFO:root:  Found mapping: id ==> <IntegerField, bigint:None>
INFO:root:  Found mapping: name ==> <StringField, varchar(100):None>
INFO:root:Found model: User (table: users)
INFO:root:  Found mapping: image ==> <StringField, varchar(500):None>
INFO:root:  Found mapping: admin ==> <BooleanField, boolean:None>
INFO:root:  Found mapping: created_at ==> <FloatField, real:None>
INFO:root:  Found mapping: email ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: name ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: passwd ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: id ==> <StringField, varchar(50):None>
INFO:root:Found model: Blog (table: blogs)
INFO:root:  Found mapping: private ==> <BooleanField, boolean:None>
INFO:root:  Found mapping: created_at ==> <FloatField, real:None>
INFO:root:  Found mapping: user_name ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: name ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: content ==> <TextField, text:None>
INFO:root:  Found mapping: user_id ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: user_image ==> <StringField, varchar(500):None>
INFO:root:  Found mapping: id ==> <StringField, varchat(50):None>
INFO:root:  Found mapping: summary ==> <StringField, varchar(200):None>
INFO:root:Found model: Comment (table: comments)
INFO:root:  Found mapping: content ==> <TextField, text:None>
INFO:root:  Found mapping: user_image ==> <StringField, varchar(500):None>
INFO:root:  Found mapping: created_at ==> <FloatField, real:None>
INFO:root:  Found mapping: user_name ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: user_id ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: blog_id ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: id ==> <StringField, varchar(50):None>
INFO:root:Create database connection pool...
INFO:root:Init jinja2...
INFO:root:Set jinja2 template path: /home/admin/webapp/www/templates
INFO:root:add route GET /api/blogs => api_blogs(request, page)
INFO:root:add route GET /api/comments => api_comments(page)
INFO:root:add route POST /api/blogs => api_create_blog(request, name, summary, content, private)
INFO:root:add route POST /api/blogs/{id}/comments => api_create_comment(id, request, content)
INFO:root:add route POST /api/blogs/{id}/delete => api_delete_blog(id, request)
INFO:root:add route POST /api/comments/{id}/delete => api_delete_comment(id, request)
INFO:root:add route GET /api/blogs/{id} => api_get_blog(id)
INFO:root:add route GET /api/blogs/{id}/secret => api_get_private(id, request)
INFO:root:add route GET /api/users => api_get_users(page)
INFO:root:add route POST /api/users => api_register_user(email, name, passwd)
INFO:root:add route POST /api/blogs/{id}/secret => api_set_private(id, request)
INFO:root:add route POST /api/blogs/{id} => api_update_blog(id, request, name, summary, content, private)
INFO:root:add route POST /api/authenticate => authenticate(email, passwd)
INFO:root:add route GET /blog/{id} => get_blog(id)
INFO:root:add route GET / => index(request, page)
INFO:root:add route GET /manage/ => manage()
INFO:root:add route GET /manage/blogs => manage_blogs(page)
INFO:root:add route GET /manage/comments => manage_comments(page)
INFO:root:add route GET /manage/blogs/create => manage_create_blogs()
INFO:root:add route GET /manage/blogs/edit => manage_edit_blog(id)
INFO:root:add route GET /manage/users => manage_users(page)
INFO:root:add route GET /register => register()
INFO:root:add route GET /signin => signin()
INFO:root:add route GET /signout => signout(request)
INFO:root:add static /static/ => /home/admin/webapp/www/static
INFO:root:Server started at http://60.205.221.43:80...
INFO:root:Found model: User (table: users)
INFO:root:  Found mapping: id ==> <IntegerField, bigint:None>
INFO:root:  Found mapping: name ==> <StringField, varchar(100):None>
INFO:root:Found model: User (table: users)
INFO:root:  Found mapping: image ==> <StringField, varchar(500):None>
INFO:root:  Found mapping: id ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: created_at ==> <FloatField, real:None>
INFO:root:  Found mapping: passwd ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: admin ==> <BooleanField, boolean:None>
INFO:root:  Found mapping: email ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: name ==> <StringField, varchar(50):None>
INFO:root:Found model: Blog (table: blogs)
INFO:root:  Found mapping: id ==> <StringField, varchat(50):None>
INFO:root:  Found mapping: user_name ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: private ==> <BooleanField, boolean:None>
INFO:root:  Found mapping: name ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: user_image ==> <StringField, varchar(500):None>
INFO:root:  Found mapping: content ==> <TextField, text:None>
INFO:root:  Found mapping: summary ==> <StringField, varchar(200):None>
INFO:root:  Found mapping: created_at ==> <FloatField, real:None>
INFO:root:  Found mapping: user_id ==> <StringField, varchar(50):None>
INFO:root:Found model: Comment (table: comments)
INFO:root:  Found mapping: user_image ==> <StringField, varchar(500):None>
INFO:root:  Found mapping: id ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: content ==> <TextField, text:None>
INFO:root:  Found mapping: blog_id ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: user_name ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: created_at ==> <FloatField, real:None>
INFO:root:  Found mapping: user_id ==> <StringField, varchar(50):None>
INFO:root:Create database connection pool...
INFO:root:Init jinja2...
INFO:root:Set jinja2 template path: /home/admin/webapp/www/templates
INFO:root:add route GET /api/blogs => api_blogs(request, page)
INFO:root:add route GET /api/comments => api_comments(page)
INFO:root:add route POST /api/blogs => api_create_blog(request, name, summary, content, private)
INFO:root:add route POST /api/blogs/{id}/comments => api_create_comment(id, request, content)
INFO:root:add route POST /api/blogs/{id}/delete => api_delete_blog(id, request)
INFO:root:add route POST /api/comments/{id}/delete => api_delete_comment(id, request)
INFO:root:add route GET /api/blogs/{id} => api_get_blog(id)
INFO:root:add route GET /api/blogs/{id}/secret => api_get_private(id, request)
INFO:root:add route GET /api/users => api_get_users(page)
INFO:root:add route POST /api/users => api_register_user(email, name, passwd)
INFO:root:add route POST /api/blogs/{id}/secret => api_set_private(id, request)
INFO:root:add route POST /api/blogs/{id} => api_update_blog(id, request, name, summary, content, private)
INFO:root:add route POST /api/authenticate => authenticate(email, passwd)
INFO:root:add route GET /blog/{id} => get_blog(id)
INFO:root:add route GET / => index(request, page)
INFO:root:add route GET /manage/ => manage()
INFO:root:add route GET /manage/blogs => manage_blogs(page)
INFO:root:add route GET /manage/comments => manage_comments(page)
INFO:root:add route GET /manage/blogs/create => manage_create_blogs()
INFO:root:add route GET /manage/blogs/edit => manage_edit_blog(id)
INFO:root:add route GET /manage/users => manage_users(page)
INFO:root:add route GET /register => register()
INFO:root:add route GET /signin => signin()
INFO:root:add route GET /signout => signout(request)
INFO:root:add static /static/ => /home/admin/webapp/www/static
INFO:root:Server started at http://60.205.221.43:80...
INFO:root:Found model: User (table: users)
INFO:root:  Found mapping: id ==> <IntegerField, bigint:None>
INFO:root:  Found mapping: name ==> <StringField, varchar(100):None>
INFO:root:Found model: User (table: users)
INFO:root:  Found mapping: id ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: admin ==> <BooleanField, boolean:None>
INFO:root:  Found mapping: created_at ==> <FloatField, real:None>
INFO:root:  Found mapping: passwd ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: email ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: image ==> <StringField, varchar(500):None>
INFO:root:  Found mapping: name ==> <StringField, varchar(50):None>
INFO:root:Found model: Blog (table: blogs)
INFO:root:  Found mapping: id ==> <StringField, varchat(50):None>
INFO:root:  Found mapping: content ==> <TextField, text:None>
INFO:root:  Found mapping: user_name ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: name ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: created_at ==> <FloatField, real:None>
INFO:root:  Found mapping: private ==> <BooleanField, boolean:None>
INFO:root:  Found mapping: user_image ==> <StringField, varchar(500):None>
INFO:root:  Found mapping: user_id ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: summary ==> <StringField, varchar(200):None>
INFO:root:Found model: Comment (table: comments)
INFO:root:  Found mapping: id ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: blog_id ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: content ==> <TextField, text:None>
INFO:root:  Found mapping: created_at ==> <FloatField, real:None>
INFO:root:  Found mapping: user_name ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: user_image ==> <StringField, varchar(500):None>
INFO:root:  Found mapping: user_id ==> <StringField, varchar(50):None>
INFO:root:Create database connection pool...
INFO:root:Init jinja2...
INFO:root:Set jinja2 template path: /home/admin/webapp/www/templates
INFO:root:add route GET /api/blogs => api_blogs(request, page)
INFO:root:add route GET /api/comments => api_comments(page)
INFO:root:add route POST /api/blogs => api_create_blog(request, name, summary, content, private)
INFO:root:add route POST /api/blogs/{id}/comments => api_create_comment(id, request, content)
INFO:root:add route POST /api/blogs/{id}/delete => api_delete_blog(id, request)
INFO:root:add route POST /api/comments/{id}/delete => api_delete_comment(id, request)
INFO:root:add route GET /api/blogs/{id} => api_get_blog(id)
INFO:root:add route GET /api/blogs/{id}/secret => api_get_private(id, request)
INFO:root:add route GET /api/users => api_get_users(page)
INFO:root:add route POST /api/users => api_register_user(email, name, passwd)
INFO:root:add route POST /api/blogs/{id}/secret => api_set_private(id, request)
INFO:root:add route POST /api/blogs/{id} => api_update_blog(id, request, name, summary, content, private)
INFO:root:add route POST /api/authenticate => authenticate(email, passwd)
INFO:root:add route GET /blog/{id} => get_blog(id)
INFO:root:add route GET / => index(request, page)
INFO:root:add route GET /manage/ => manage()
INFO:root:add route GET /manage/blogs => manage_blogs(page)
INFO:root:add route GET /manage/comments => manage_comments(page)
INFO:root:add route GET /manage/blogs/create => manage_create_blogs()
INFO:root:add route GET /manage/blogs/edit => manage_edit_blog(id)
INFO:root:add route GET /manage/users => manage_users(page)
INFO:root:add route GET /register => register()
INFO:root:add route GET /signin => signin()
INFO:root:add route GET /signout => signout(request)
INFO:root:add static /static/ => /home/admin/webapp/www/static
INFO:root:Server started at http://60.205.221.43:80...
INFO:root:Found model: User (table: users)
INFO:root:  Found mapping: id ==> <IntegerField, bigint:None>
INFO:root:  Found mapping: name ==> <StringField, varchar(100):None>
INFO:root:Found model: User (table: users)
INFO:root:  Found mapping: name ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: id ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: created_at ==> <FloatField, real:None>
INFO:root:  Found mapping: passwd ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: email ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: admin ==> <BooleanField, boolean:None>
INFO:root:  Found mapping: image ==> <StringField, varchar(500):None>
INFO:root:Found model: Blog (table: blogs)
INFO:root:  Found mapping: summary ==> <StringField, varchar(200):None>
INFO:root:  Found mapping: user_image ==> <StringField, varchar(500):None>
INFO:root:  Found mapping: id ==> <StringField, varchat(50):None>
INFO:root:  Found mapping: created_at ==> <FloatField, real:None>
INFO:root:  Found mapping: user_id ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: name ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: user_name ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: private ==> <BooleanField, boolean:None>
INFO:root:  Found mapping: content ==> <TextField, text:None>
INFO:root:Found model: Comment (table: comments)
INFO:root:  Found mapping: user_name ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: user_id ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: id ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: user_image ==> <StringField, varchar(500):None>
INFO:root:  Found mapping: created_at ==> <FloatField, real:None>
INFO:root:  Found mapping: blog_id ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: content ==> <TextField, text:None>
INFO:root:Create database connection pool...
INFO:root:Init jinja2...
INFO:root:Set jinja2 template path: /home/admin/webapp/www/templates
INFO:root:add route GET /api/blogs => api_blogs(request, page)
INFO:root:add route GET /api/comments => api_comments(page)
INFO:root:add route POST /api/blogs => api_create_blog(request, name, summary, content, private)
INFO:root:add route POST /api/blogs/{id}/comments => api_create_comment(id, request, content)
INFO:root:add route POST /api/blogs/{id}/delete => api_delete_blog(id, request)
INFO:root:add route POST /api/comments/{id}/delete => api_delete_comment(id, request)
INFO:root:add route GET /api/blogs/{id} => api_get_blog(id)
INFO:root:add route GET /api/blogs/{id}/secret => api_get_private(id, request)
INFO:root:add route GET /api/users => api_get_users(page)
INFO:root:add route POST /api/users => api_register_user(email, name, passwd)
INFO:root:add route POST /api/blogs/{id}/secret => api_set_private(id, request)
INFO:root:add route POST /api/blogs/{id} => api_update_blog(id, request, name, summary, content, private)
INFO:root:add route POST /api/authenticate => authenticate(email, passwd)
INFO:root:add route GET /blog/{id} => get_blog(id)
INFO:root:add route GET / => index(request, page)
INFO:root:add route GET /manage/ => manage()
INFO:root:add route GET /manage/blogs => manage_blogs(page)
INFO:root:add route GET /manage/comments => manage_comments(page)
INFO:root:add route GET /manage/blogs/create => manage_create_blogs()
INFO:root:add route GET /manage/blogs/edit => manage_edit_blog(id)
INFO:root:add route GET /manage/users => manage_users(page)
INFO:root:add route GET /register => register()
INFO:root:add route GET /signin => signin()
INFO:root:add route GET /signout => signout(request)
INFO:root:add static /static/ => /home/admin/webapp/www/static
INFO:root:Server started at http://60.205.221.43:80...
INFO:root:Request: GET /
INFO:root:Check user: GET /
INFO:root:Response handler...
INFO:root:Call with arg: {'request': <Request GET / >}
INFO:aiohttp.access:114.215.252.225 [22/May/2018:03:04:07 +0000] "GET / HTTP/1.1" 200 5402 "-" "-"
INFO:root:Found model: User (table: users)
INFO:root:  Found mapping: name ==> <StringField, varchar(100):None>
INFO:root:  Found mapping: id ==> <IntegerField, bigint:None>
INFO:root:Found model: User (table: users)
INFO:root:  Found mapping: admin ==> <BooleanField, boolean:None>
INFO:root:  Found mapping: id ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: passwd ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: name ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: created_at ==> <FloatField, real:None>
INFO:root:  Found mapping: image ==> <StringField, varchar(500):None>
INFO:root:  Found mapping: email ==> <StringField, varchar(50):None>
INFO:root:Found model: Blog (table: blogs)
INFO:root:  Found mapping: user_id ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: id ==> <StringField, varchat(50):None>
INFO:root:  Found mapping: user_name ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: name ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: content ==> <TextField, text:None>
INFO:root:  Found mapping: private ==> <BooleanField, boolean:None>
INFO:root:  Found mapping: summary ==> <StringField, varchar(200):None>
INFO:root:  Found mapping: created_at ==> <FloatField, real:None>
INFO:root:  Found mapping: user_image ==> <StringField, varchar(500):None>
INFO:root:Found model: Comment (table: comments)
INFO:root:  Found mapping: user_id ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: id ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: user_name ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: user_image ==> <StringField, varchar(500):None>
INFO:root:  Found mapping: content ==> <TextField, text:None>
INFO:root:  Found mapping: blog_id ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: created_at ==> <FloatField, real:None>
INFO:root:Create database connection pool...
INFO:root:Init jinja2...
INFO:root:Set jinja2 template path: /home/admin/webapp/www/templates
INFO:root:add route GET /api/blogs => api_blogs(request, page)
INFO:root:add route GET /api/comments => api_comments(page)
INFO:root:add route POST /api/blogs => api_create_blog(request, name, summary, content, private)
INFO:root:add route POST /api/blogs/{id}/comments => api_create_comment(id, request, content)
INFO:root:add route POST /api/blogs/{id}/delete => api_delete_blog(id, request)
INFO:root:add route POST /api/comments/{id}/delete => api_delete_comment(id, request)
INFO:root:add route GET /api/blogs/{id} => api_get_blog(id)
INFO:root:add route GET /api/blogs/{id}/secret => api_get_private(id, request)
INFO:root:add route GET /api/users => api_get_users(page)
INFO:root:add route POST /api/users => api_register_user(email, name, passwd)
INFO:root:add route POST /api/blogs/{id}/secret => api_set_private(id, request)
INFO:root:add route POST /api/blogs/{id} => api_update_blog(id, request, name, summary, content, private)
INFO:root:add route POST /api/authenticate => authenticate(email, passwd)
INFO:root:add route GET /blog/{id} => get_blog(id)
INFO:root:add route GET / => index(request, page)
INFO:root:add route GET /manage/ => manage()
INFO:root:add route GET /manage/blogs => manage_blogs(page)
INFO:root:add route GET /manage/comments => manage_comments(page)
INFO:root:add route GET /manage/blogs/create => manage_create_blogs()
INFO:root:add route GET /manage/blogs/edit => manage_edit_blog(id)
INFO:root:add route GET /manage/users => manage_users(page)
INFO:root:add route GET /register => register()
INFO:root:add route GET /signin => signin()
INFO:root:add route GET /signout => signout(request)
INFO:root:add static /static/ => /home/admin/webapp/www/static
INFO:root:Server started at http://60.205.221.43:80...
INFO:root:Found model: User (table: users)
INFO:root:  Found mapping: id ==> <IntegerField, bigint:None>
INFO:root:  Found mapping: name ==> <StringField, varchar(100):None>
INFO:root:Found model: User (table: users)
INFO:root:  Found mapping: email ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: image ==> <StringField, varchar(500):None>
INFO:root:  Found mapping: name ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: id ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: created_at ==> <FloatField, real:None>
INFO:root:  Found mapping: passwd ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: admin ==> <BooleanField, boolean:None>
INFO:root:Found model: Blog (table: blogs)
INFO:root:  Found mapping: user_id ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: name ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: created_at ==> <FloatField, real:None>
INFO:root:  Found mapping: summary ==> <StringField, varchar(200):None>
INFO:root:  Found mapping: private ==> <BooleanField, boolean:None>
INFO:root:  Found mapping: user_image ==> <StringField, varchar(500):None>
INFO:root:  Found mapping: id ==> <StringField, varchat(50):None>
INFO:root:  Found mapping: content ==> <TextField, text:None>
INFO:root:  Found mapping: user_name ==> <StringField, varchar(50):None>
INFO:root:Found model: Comment (table: comments)
INFO:root:  Found mapping: user_id ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: user_image ==> <StringField, varchar(500):None>
INFO:root:  Found mapping: id ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: content ==> <TextField, text:None>
INFO:root:  Found mapping: created_at ==> <FloatField, real:None>
INFO:root:  Found mapping: user_name ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: blog_id ==> <StringField, varchar(50):None>
INFO:root:Create database connection pool...
INFO:root:Init jinja2...
INFO:root:Set jinja2 template path: /home/admin/webapp/www/templates
INFO:root:add route GET /api/blogs => api_blogs(request, page)
INFO:root:add route GET /api/comments => api_comments(page)
INFO:root:add route POST /api/blogs => api_create_blog(request, name, summary, content, private)
INFO:root:add route POST /api/blogs/{id}/comments => api_create_comment(id, request, content)
INFO:root:add route POST /api/blogs/{id}/delete => api_delete_blog(id, request)
INFO:root:add route POST /api/comments/{id}/delete => api_delete_comment(id, request)
INFO:root:add route GET /api/blogs/{id} => api_get_blog(id)
INFO:root:add route GET /api/blogs/{id}/secret => api_get_private(id, request)
INFO:root:add route GET /api/users => api_get_users(page)
INFO:root:add route POST /api/users => api_register_user(email, name, passwd)
INFO:root:add route POST /api/blogs/{id}/secret => api_set_private(id, request)
INFO:root:add route POST /api/blogs/{id} => api_update_blog(id, request, name, summary, content, private)
INFO:root:add route POST /api/authenticate => authenticate(email, passwd)
INFO:root:add route GET /blog/{id} => get_blog(id)
INFO:root:add route GET / => index(request, page)
INFO:root:add route GET /manage/ => manage()
INFO:root:add route GET /manage/blogs => manage_blogs(page)
INFO:root:add route GET /manage/comments => manage_comments(page)
INFO:root:add route GET /manage/blogs/create => manage_create_blogs()
INFO:root:add route GET /manage/blogs/edit => manage_edit_blog(id)
INFO:root:add route GET /manage/users => manage_users(page)
INFO:root:add route GET /register => register()
INFO:root:add route GET /signin => signin()
INFO:root:add route GET /signout => signout(request)
INFO:root:add static /static/ => /home/admin/webapp/www/static
INFO:root:Server started at http://60.205.221.43:80...
INFO:root:Found model: User (table: users)
INFO:root:  Found mapping: id ==> <IntegerField, bigint:None>
INFO:root:  Found mapping: name ==> <StringField, varchar(100):None>
INFO:root:Found model: User (table: users)
INFO:root:  Found mapping: image ==> <StringField, varchar(500):None>
INFO:root:  Found mapping: created_at ==> <FloatField, real:None>
INFO:root:  Found mapping: id ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: passwd ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: admin ==> <BooleanField, boolean:None>
INFO:root:  Found mapping: name ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: email ==> <StringField, varchar(50):None>
INFO:root:Found model: Blog (table: blogs)
INFO:root:  Found mapping: created_at ==> <FloatField, real:None>
INFO:root:  Found mapping: user_name ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: summary ==> <StringField, varchar(200):None>
INFO:root:  Found mapping: user_id ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: id ==> <StringField, varchat(50):None>
INFO:root:  Found mapping: user_image ==> <StringField, varchar(500):None>
INFO:root:  Found mapping: private ==> <BooleanField, boolean:None>
INFO:root:  Found mapping: name ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: content ==> <TextField, text:None>
INFO:root:Found model: Comment (table: comments)
INFO:root:  Found mapping: content ==> <TextField, text:None>
INFO:root:  Found mapping: created_at ==> <FloatField, real:None>
INFO:root:  Found mapping: id ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: blog_id ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: user_image ==> <StringField, varchar(500):None>
INFO:root:  Found mapping: user_name ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: user_id ==> <StringField, varchar(50):None>
INFO:root:Create database connection pool...
INFO:root:Init jinja2...
INFO:root:Set jinja2 template path: /home/admin/webapp/www/templates
INFO:root:add route GET /api/blogs => api_blogs(request, page)
INFO:root:add route GET /api/comments => api_comments(page)
INFO:root:add route POST /api/blogs => api_create_blog(request, name, summary, content, private)
INFO:root:add route POST /api/blogs/{id}/comments => api_create_comment(id, request, content)
INFO:root:add route POST /api/blogs/{id}/delete => api_delete_blog(id, request)
INFO:root:add route POST /api/comments/{id}/delete => api_delete_comment(id, request)
INFO:root:add route GET /api/blogs/{id} => api_get_blog(id)
INFO:root:add route GET /api/blogs/{id}/secret => api_get_private(id, request)
INFO:root:add route GET /api/users => api_get_users(page)
INFO:root:add route POST /api/users => api_register_user(email, name, passwd)
INFO:root:add route POST /api/blogs/{id}/secret => api_set_private(id, request)
INFO:root:add route POST /api/blogs/{id} => api_update_blog(id, request, name, summary, content, private)
INFO:root:add route POST /api/authenticate => authenticate(email, passwd)
INFO:root:add route GET /blog/{id} => get_blog(id)
INFO:root:add route GET / => index(request, page)
INFO:root:add route GET /manage/ => manage()
INFO:root:add route GET /manage/blogs => manage_blogs(page)
INFO:root:add route GET /manage/comments => manage_comments(page)
INFO:root:add route GET /manage/blogs/create => manage_create_blogs()
INFO:root:add route GET /manage/blogs/edit => manage_edit_blog(id)
INFO:root:add route GET /manage/users => manage_users(page)
INFO:root:add route GET /register => register()
INFO:root:add route GET /signin => signin()
INFO:root:add route GET /signout => signout(request)
INFO:root:add static /static/ => /home/admin/webapp/www/static
INFO:root:Server started at http://60.205.221.43:80...
INFO:root:Request: GET /
INFO:root:Check user: GET /
INFO:root:SQL: select `id`, `image`, `created_at`, `passwd`, `admin`, `name`, `email` from `users` where `id`=?
INFO:root:Rows returned: 1
INFO:root:Set current user: m15801021028@163.com
INFO:root:Response handler...
INFO:root:Call with arg: {'request': <Request GET / >}
INFO:aiohttp.access:106.120.206.159 [22/May/2018:03:07:51 +0000] "GET / HTTP/1.1" 200 5577 "-" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/66.0.3359.181 Safari/537.36"
INFO:root:Request: GET /api/blogs
INFO:root:Check user: GET /api/blogs
INFO:root:SQL: select `id`, `image`, `created_at`, `passwd`, `admin`, `name`, `email` from `users` where `id`=?
INFO:root:Rows returned: 1
INFO:root:Set current user: m15801021028@163.com
INFO:root:Response handler...
INFO:root:Call with arg: {'page': '1', 'request': <Request GET /api/blogs >}
INFO:root:SQL: select count(id) _num_ from `blogs`
INFO:root:Rows returned: 1
INFO:root:SQL: select `id`, `created_at`, `user_name`, `summary`, `user_id`, `user_image`, `private`, `name`, `content` from `blogs` order by created_at desc limit ?, ?
INFO:root:Rows returned: 5
INFO:aiohttp.access:106.120.206.159 [22/May/2018:03:07:51 +0000] "GET /api/blogs?page=1 HTTP/1.1" 200 29702 "http://www.lxiao.net:8000/" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/66.0.3359.181 Safari/537.36"
INFO:root:Request: GET /manage/
INFO:root:Check user: GET /manage/
INFO:root:SQL: select `id`, `image`, `created_at`, `passwd`, `admin`, `name`, `email` from `users` where `id`=?
INFO:root:Rows returned: 1
INFO:root:Set current user: m15801021028@163.com
INFO:root:Response handler...
INFO:root:Call with arg: {}
INFO:aiohttp.access:106.120.206.159 [22/May/2018:03:07:54 +0000] "GET /manage/ HTTP/1.1" 302 190 "http://www.lxiao.net:8000/" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/66.0.3359.181 Safari/537.36"
INFO:root:Request: GET /manage/blogs
INFO:root:Check user: GET /manage/blogs
INFO:root:SQL: select `id`, `image`, `created_at`, `passwd`, `admin`, `name`, `email` from `users` where `id`=?
INFO:root:Rows returned: 1
INFO:root:Set current user: m15801021028@163.com
INFO:root:Response handler...
INFO:root:Call with arg: {}
INFO:aiohttp.access:106.120.206.159 [22/May/2018:03:07:54 +0000] "GET /manage/blogs HTTP/1.1" 200 6961 "http://www.lxiao.net:8000/" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/66.0.3359.181 Safari/537.36"
INFO:root:Request: GET /api/blogs
INFO:root:Check user: GET /api/blogs
INFO:root:SQL: select `id`, `image`, `created_at`, `passwd`, `admin`, `name`, `email` from `users` where `id`=?
INFO:root:Rows returned: 1
INFO:root:Set current user: m15801021028@163.com
INFO:root:Response handler...
INFO:root:Call with arg: {'page': '1', 'request': <Request GET /api/blogs >}
INFO:root:SQL: select count(id) _num_ from `blogs`
INFO:root:Rows returned: 1
INFO:root:SQL: select `id`, `created_at`, `user_name`, `summary`, `user_id`, `user_image`, `private`, `name`, `content` from `blogs` order by created_at desc limit ?, ?
INFO:root:Rows returned: 5
INFO:aiohttp.access:106.120.206.159 [22/May/2018:03:07:54 +0000] "GET /api/blogs?page=1 HTTP/1.1" 200 29702 "http://www.lxiao.net:8000/manage/blogs" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/66.0.3359.181 Safari/537.36"
INFO:root:Request: POST /api/blogs/001526633743922ed51f806d7bc4231abdf715ea1b58f46000/secret
INFO:root:Check user: POST /api/blogs/001526633743922ed51f806d7bc4231abdf715ea1b58f46000/secret
INFO:root:SQL: select `id`, `image`, `created_at`, `passwd`, `admin`, `name`, `email` from `users` where `id`=?
INFO:root:Rows returned: 1
INFO:root:Set current user: m15801021028@163.com
INFO:root:Response handler...
INFO:root:Call with arg: {'id': '001526633743922ed51f806d7bc4231abdf715ea1b58f46000', 'request': <Request POST /api/blogs/001526633743922ed51f806d7bc4231abdf715ea1b58f46000/secret >}
INFO:root:SQL: select `id`, `created_at`, `user_name`, `summary`, `user_id`, `user_image`, `private`, `name`, `content` from `blogs` where `id`=?
INFO:root:Rows returned: 1
INFO:root:SQL: update `blogs` set `created_at`=?, `user_name`=?, `summary`=?, `user_id`=?, `user_image`=?, `private`=?, `name`=?, `content`=? where `id`=?
INFO:aiohttp.access:106.120.206.159 [22/May/2018:03:07:56 +0000] "POST /api/blogs/001526633743922ed51f806d7bc4231abdf715ea1b58f46000/secret HTTP/1.1" 200 151 "http://www.lxiao.net:8000/manage/blogs" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/66.0.3359.181 Safari/537.36"
INFO:root:Request: GET /manage/blogs
INFO:root:Check user: GET /manage/blogs
INFO:root:SQL: select `id`, `image`, `created_at`, `passwd`, `admin`, `name`, `email` from `users` where `id`=?
INFO:root:Rows returned: 1
INFO:root:Set current user: m15801021028@163.com
INFO:root:Response handler...
INFO:root:Call with arg: {}
INFO:aiohttp.access:106.120.206.159 [22/May/2018:03:07:56 +0000] "GET /manage/blogs?t=1526958477707 HTTP/1.1" 200 6961 "http://www.lxiao.net:8000/manage/blogs" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/66.0.3359.181 Safari/537.36"
INFO:root:Request: GET /api/blogs
INFO:root:Check user: GET /api/blogs
INFO:root:SQL: select `id`, `image`, `created_at`, `passwd`, `admin`, `name`, `email` from `users` where `id`=?
INFO:root:Rows returned: 1
INFO:root:Set current user: m15801021028@163.com
INFO:root:Response handler...
INFO:root:Call with arg: {'page': '1', 'request': <Request GET /api/blogs >}
INFO:root:SQL: select count(id) _num_ from `blogs`
INFO:root:Rows returned: 1
INFO:root:SQL: select `id`, `created_at`, `user_name`, `summary`, `user_id`, `user_image`, `private`, `name`, `content` from `blogs` order by created_at desc limit ?, ?
INFO:root:Rows returned: 5
INFO:aiohttp.access:106.120.206.159 [22/May/2018:03:07:56 +0000] "GET /api/blogs?page=1 HTTP/1.1" 200 29702 "http://www.lxiao.net:8000/manage/blogs?t=1526958477707" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/66.0.3359.181 Safari/537.36"
INFO:root:Request: POST /api/blogs/001526556821030ccf52786546147c2a8bff1c58626db9e000/secret
INFO:root:Check user: POST /api/blogs/001526556821030ccf52786546147c2a8bff1c58626db9e000/secret
INFO:root:SQL: select `id`, `image`, `created_at`, `passwd`, `admin`, `name`, `email` from `users` where `id`=?
INFO:root:Rows returned: 1
INFO:root:Set current user: m15801021028@163.com
INFO:root:Response handler...
INFO:root:Call with arg: {'id': '001526556821030ccf52786546147c2a8bff1c58626db9e000', 'request': <Request POST /api/blogs/001526556821030ccf52786546147c2a8bff1c58626db9e000/secret >}
INFO:root:SQL: select `id`, `created_at`, `user_name`, `summary`, `user_id`, `user_image`, `private`, `name`, `content` from `blogs` where `id`=?
INFO:root:Rows returned: 1
INFO:root:SQL: update `blogs` set `created_at`=?, `user_name`=?, `summary`=?, `user_id`=?, `user_image`=?, `private`=?, `name`=?, `content`=? where `id`=?
INFO:aiohttp.access:106.120.206.159 [22/May/2018:03:07:58 +0000] "POST /api/blogs/001526556821030ccf52786546147c2a8bff1c58626db9e000/secret HTTP/1.1" 200 151 "http://www.lxiao.net:8000/manage/blogs?t=1526958477707" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/66.0.3359.181 Safari/537.36"
INFO:root:Request: GET /manage/blogs
INFO:root:Check user: GET /manage/blogs
INFO:root:SQL: select `id`, `image`, `created_at`, `passwd`, `admin`, `name`, `email` from `users` where `id`=?
INFO:root:Rows returned: 1
INFO:root:Set current user: m15801021028@163.com
INFO:root:Response handler...
INFO:root:Call with arg: {}
INFO:aiohttp.access:106.120.206.159 [22/May/2018:03:07:58 +0000] "GET /manage/blogs?t=1526958477707&t=1526958479722 HTTP/1.1" 200 6961 "http://www.lxiao.net:8000/manage/blogs?t=1526958477707" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/66.0.3359.181 Safari/537.36"
INFO:root:Request: GET /api/blogs
INFO:root:Check user: GET /api/blogs
INFO:root:SQL: select `id`, `image`, `created_at`, `passwd`, `admin`, `name`, `email` from `users` where `id`=?
INFO:root:Rows returned: 1
INFO:root:Set current user: m15801021028@163.com
INFO:root:Response handler...
INFO:root:Call with arg: {'page': '1', 'request': <Request GET /api/blogs >}
INFO:root:SQL: select count(id) _num_ from `blogs`
INFO:root:Rows returned: 1
INFO:root:SQL: select `id`, `created_at`, `user_name`, `summary`, `user_id`, `user_image`, `private`, `name`, `content` from `blogs` order by created_at desc limit ?, ?
INFO:root:Rows returned: 5
INFO:aiohttp.access:106.120.206.159 [22/May/2018:03:07:58 +0000] "GET /api/blogs?page=1 HTTP/1.1" 200 29702 "http://www.lxiao.net:8000/manage/blogs?t=1526958477707&t=1526958479722" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/66.0.3359.181 Safari/537.36"
INFO:root:Request: POST /api/blogs/00152643217690202f1750dd23a4ea28e603e3e29fc4cd8000/secret
INFO:root:Check user: POST /api/blogs/00152643217690202f1750dd23a4ea28e603e3e29fc4cd8000/secret
INFO:root:SQL: select `id`, `image`, `created_at`, `passwd`, `admin`, `name`, `email` from `users` where `id`=?
INFO:root:Rows returned: 1
INFO:root:Set current user: m15801021028@163.com
INFO:root:Response handler...
INFO:root:Call with arg: {'id': '00152643217690202f1750dd23a4ea28e603e3e29fc4cd8000', 'request': <Request POST /api/blogs/00152643217690202f1750dd23a4ea28e603e3e29fc4cd8000/secret >}
INFO:root:SQL: select `id`, `created_at`, `user_name`, `summary`, `user_id`, `user_image`, `private`, `name`, `content` from `blogs` where `id`=?
INFO:root:Rows returned: 1
INFO:root:SQL: update `blogs` set `created_at`=?, `user_name`=?, `summary`=?, `user_id`=?, `user_image`=?, `private`=?, `name`=?, `content`=? where `id`=?
INFO:aiohttp.access:106.120.206.159 [22/May/2018:03:08:03 +0000] "POST /api/blogs/00152643217690202f1750dd23a4ea28e603e3e29fc4cd8000/secret HTTP/1.1" 200 151 "http://www.lxiao.net:8000/manage/blogs?t=1526958477707&t=1526958479722" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/66.0.3359.181 Safari/537.36"
INFO:root:Request: GET /manage/blogs
INFO:root:Check user: GET /manage/blogs
INFO:root:SQL: select `id`, `image`, `created_at`, `passwd`, `admin`, `name`, `email` from `users` where `id`=?
INFO:root:Rows returned: 1
INFO:root:Set current user: m15801021028@163.com
INFO:root:Response handler...
INFO:root:Call with arg: {}
INFO:aiohttp.access:106.120.206.159 [22/May/2018:03:08:03 +0000] "GET /manage/blogs?t=1526958477707&t=1526958479722&t=1526958484756 HTTP/1.1" 200 6961 "http://www.lxiao.net:8000/manage/blogs?t=1526958477707&t=1526958479722" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/66.0.3359.181 Safari/537.36"
INFO:root:Request: GET /api/blogs
INFO:root:Check user: GET /api/blogs
INFO:root:SQL: select `id`, `image`, `created_at`, `passwd`, `admin`, `name`, `email` from `users` where `id`=?
INFO:root:Rows returned: 1
INFO:root:Set current user: m15801021028@163.com
INFO:root:Response handler...
INFO:root:Call with arg: {'page': '1', 'request': <Request GET /api/blogs >}
INFO:root:SQL: select count(id) _num_ from `blogs`
INFO:root:Rows returned: 1
INFO:root:SQL: select `id`, `created_at`, `user_name`, `summary`, `user_id`, `user_image`, `private`, `name`, `content` from `blogs` order by created_at desc limit ?, ?
INFO:root:Rows returned: 5
INFO:aiohttp.access:106.120.206.159 [22/May/2018:03:08:03 +0000] "GET /api/blogs?page=1 HTTP/1.1" 200 29702 "http://www.lxiao.net:8000/manage/blogs?t=1526958477707&t=1526958479722&t=1526958484756" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/66.0.3359.181 Safari/537.36"
INFO:root:Found model: User (table: users)
INFO:root:  Found mapping: name ==> <StringField, varchar(100):None>
INFO:root:  Found mapping: id ==> <IntegerField, bigint:None>
INFO:root:Found model: User (table: users)
INFO:root:  Found mapping: name ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: id ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: email ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: passwd ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: admin ==> <BooleanField, boolean:None>
INFO:root:  Found mapping: image ==> <StringField, varchar(500):None>
INFO:root:  Found mapping: created_at ==> <FloatField, real:None>
INFO:root:Found model: Blog (table: blogs)
INFO:root:  Found mapping: name ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: id ==> <StringField, varchat(50):None>
INFO:root:  Found mapping: private ==> <BooleanField, boolean:None>
INFO:root:  Found mapping: user_image ==> <StringField, varchar(500):None>
INFO:root:  Found mapping: summary ==> <StringField, varchar(200):None>
INFO:root:  Found mapping: user_id ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: content ==> <TextField, text:None>
INFO:root:  Found mapping: user_name ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: created_at ==> <FloatField, real:None>
INFO:root:Found model: Comment (table: comments)
INFO:root:  Found mapping: user_id ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: id ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: blog_id ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: user_name ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: user_image ==> <StringField, varchar(500):None>
INFO:root:  Found mapping: content ==> <TextField, text:None>
INFO:root:  Found mapping: created_at ==> <FloatField, real:None>
INFO:root:Create database connection pool...
INFO:root:Init jinja2...
INFO:root:Set jinja2 template path: /home/admin/webapp/www/templates
INFO:root:add route GET /api/blogs => api_blogs(request, page)
INFO:root:add route GET /api/comments => api_comments(page)
INFO:root:add route POST /api/blogs => api_create_blog(request, name, summary, content, private)
INFO:root:add route POST /api/blogs/{id}/comments => api_create_comment(id, request, content)
INFO:root:add route POST /api/blogs/{id}/delete => api_delete_blog(id, request)
INFO:root:add route POST /api/comments/{id}/delete => api_delete_comment(id, request)
INFO:root:add route GET /api/blogs/{id} => api_get_blog(id)
INFO:root:add route GET /api/blogs/{id}/secret => api_get_private(id, request)
INFO:root:add route GET /api/users => api_get_users(page)
INFO:root:add route POST /api/users => api_register_user(email, name, passwd)
INFO:root:add route POST /api/blogs/{id}/secret => api_set_private(id, request)
INFO:root:add route POST /api/blogs/{id} => api_update_blog(id, request, name, summary, content, private)
INFO:root:add route POST /api/authenticate => authenticate(email, passwd)
INFO:root:add route GET /blog/{id} => get_blog(id)
INFO:root:add route GET / => index(request, page)
INFO:root:add route GET /manage/ => manage()
INFO:root:add route GET /manage/blogs => manage_blogs(page)
INFO:root:add route GET /manage/comments => manage_comments(page)
INFO:root:add route GET /manage/blogs/create => manage_create_blogs()
INFO:root:add route GET /manage/blogs/edit => manage_edit_blog(id)
INFO:root:add route GET /manage/users => manage_users(page)
INFO:root:add route GET /register => register()
INFO:root:add route GET /signin => signin()
INFO:root:add route GET /signout => signout(request)
INFO:root:add static /static/ => /home/admin/webapp/www/static
INFO:root:Server started at http://60.205.221.43:80...
INFO:root:Request: GET /manage/blogs
INFO:root:Check user: GET /manage/blogs
INFO:root:SQL: select `id`, `name`, `email`, `passwd`, `admin`, `image`, `created_at` from `users` where `id`=?
INFO:root:Rows returned: 1
INFO:root:Set current user: m15801021028@163.com
INFO:root:Response handler...
INFO:root:Call with arg: {}
INFO:aiohttp.access:106.120.206.159 [22/May/2018:03:08:29 +0000] "GET /manage/blogs?t=1526958477707&t=1526958479722&t=1526958484756 HTTP/1.1" 200 6961 "http://www.lxiao.net:8000/manage/blogs?t=1526958477707&t=1526958479722" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/66.0.3359.181 Safari/537.36"
INFO:root:Request: GET /api/blogs
INFO:root:Check user: GET /api/blogs
INFO:root:SQL: select `id`, `name`, `email`, `passwd`, `admin`, `image`, `created_at` from `users` where `id`=?
INFO:root:Rows returned: 1
INFO:root:Set current user: m15801021028@163.com
INFO:root:Response handler...
INFO:root:Call with arg: {'page': '1', 'request': <Request GET /api/blogs >}
INFO:root:SQL: select count(id) _num_ from `blogs`
INFO:root:Rows returned: 1
INFO:root:SQL: select `id`, `name`, `private`, `user_image`, `summary`, `user_id`, `content`, `user_name`, `created_at` from `blogs` order by created_at desc limit ?, ?
INFO:root:Rows returned: 5
INFO:aiohttp.access:106.120.206.159 [22/May/2018:03:08:29 +0000] "GET /api/blogs?page=1 HTTP/1.1" 200 29702 "http://www.lxiao.net:8000/manage/blogs?t=1526958477707&t=1526958479722&t=1526958484756" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/66.0.3359.181 Safari/537.36"
INFO:root:Found model: User (table: users)
INFO:root:  Found mapping: id ==> <IntegerField, bigint:None>
INFO:root:  Found mapping: name ==> <StringField, varchar(100):None>
INFO:root:Found model: User (table: users)
INFO:root:  Found mapping: name ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: email ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: passwd ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: admin ==> <BooleanField, boolean:None>
INFO:root:  Found mapping: image ==> <StringField, varchar(500):None>
INFO:root:  Found mapping: created_at ==> <FloatField, real:None>
INFO:root:  Found mapping: id ==> <StringField, varchar(50):None>
INFO:root:Found model: Blog (table: blogs)
INFO:root:  Found mapping: name ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: user_image ==> <StringField, varchar(500):None>
INFO:root:  Found mapping: created_at ==> <FloatField, real:None>
INFO:root:  Found mapping: id ==> <StringField, varchat(50):None>
INFO:root:  Found mapping: private ==> <BooleanField, boolean:None>
INFO:root:  Found mapping: content ==> <TextField, text:None>
INFO:root:  Found mapping: user_name ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: user_id ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: summary ==> <StringField, varchar(200):None>
INFO:root:Found model: Comment (table: comments)
INFO:root:  Found mapping: blog_id ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: user_name ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: user_image ==> <StringField, varchar(500):None>
INFO:root:  Found mapping: content ==> <TextField, text:None>
INFO:root:  Found mapping: created_at ==> <FloatField, real:None>
INFO:root:  Found mapping: id ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: user_id ==> <StringField, varchar(50):None>
INFO:root:Create database connection pool...
INFO:root:Init jinja2...
INFO:root:Set jinja2 template path: /home/admin/webapp/www/templates
INFO:root:add route GET /api/blogs => api_blogs(request, page)
INFO:root:add route GET /api/comments => api_comments(page)
INFO:root:add route POST /api/blogs => api_create_blog(request, name, summary, content, private)
INFO:root:add route POST /api/blogs/{id}/comments => api_create_comment(id, request, content)
INFO:root:add route POST /api/blogs/{id}/delete => api_delete_blog(id, request)
INFO:root:add route POST /api/comments/{id}/delete => api_delete_comment(id, request)
INFO:root:add route GET /api/blogs/{id} => api_get_blog(id)
INFO:root:add route GET /api/blogs/{id}/secret => api_get_private(id, request)
INFO:root:add route GET /api/users => api_get_users(page)
INFO:root:add route POST /api/users => api_register_user(email, name, passwd)
INFO:root:add route POST /api/blogs/{id}/secret => api_set_private(id, request)
INFO:root:add route POST /api/blogs/{id} => api_update_blog(id, request, name, summary, content, private)
INFO:root:add route POST /api/authenticate => authenticate(email, passwd)
INFO:root:add route GET /blog/{id} => get_blog(id)
INFO:root:add route GET / => index(request, page)
INFO:root:add route GET /manage/ => manage()
INFO:root:add route GET /manage/blogs => manage_blogs(page)
INFO:root:add route GET /manage/comments => manage_comments(page)
INFO:root:add route GET /manage/blogs/create => manage_create_blogs()
INFO:root:add route GET /manage/blogs/edit => manage_edit_blog(id)
INFO:root:add route GET /manage/users => manage_users(page)
INFO:root:add route GET /register => register()
INFO:root:add route GET /signin => signin()
INFO:root:add route GET /signout => signout(request)
INFO:root:add static /static/ => /home/admin/webapp/www/static
INFO:root:Server started at http://60.205.221.43:80...
INFO:root:Request: GET /manage/blogs
INFO:root:Check user: GET /manage/blogs
INFO:root:SQL: select `id`, `name`, `email`, `passwd`, `admin`, `image`, `created_at` from `users` where `id`=?
INFO:root:Rows returned: 1
INFO:root:Set current user: m15801021028@163.com
INFO:root:Response handler...
INFO:root:Call with arg: {}
INFO:aiohttp.access:106.120.206.159 [22/May/2018:03:08:45 +0000] "GET /manage/blogs?t=1526958477707&t=1526958479722&t=1526958484756 HTTP/1.1" 200 6940 "http://www.lxiao.net:8000/manage/blogs?t=1526958477707&t=1526958479722" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/66.0.3359.181 Safari/537.36"
INFO:root:Request: GET /api/blogs
INFO:root:Check user: GET /api/blogs
INFO:root:SQL: select `id`, `name`, `email`, `passwd`, `admin`, `image`, `created_at` from `users` where `id`=?
INFO:root:Rows returned: 1
INFO:root:Set current user: m15801021028@163.com
INFO:root:Response handler...
INFO:root:Call with arg: {'page': '1', 'request': <Request GET /api/blogs >}
INFO:root:SQL: select count(id) _num_ from `blogs`
INFO:root:Rows returned: 1
INFO:root:SQL: select `id`, `name`, `user_image`, `created_at`, `private`, `content`, `user_name`, `user_id`, `summary` from `blogs` order by created_at desc limit ?, ?
INFO:root:Rows returned: 5
INFO:aiohttp.access:106.120.206.159 [22/May/2018:03:08:45 +0000] "GET /api/blogs?page=1 HTTP/1.1" 200 29702 "http://www.lxiao.net:8000/manage/blogs?t=1526958477707&t=1526958479722&t=1526958484756" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/66.0.3359.181 Safari/537.36"
INFO:root:Found model: User (table: users)
INFO:root:  Found mapping: name ==> <StringField, varchar(100):None>
INFO:root:  Found mapping: id ==> <IntegerField, bigint:None>
INFO:root:Found model: User (table: users)
INFO:root:  Found mapping: created_at ==> <FloatField, real:None>
INFO:root:  Found mapping: email ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: passwd ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: id ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: image ==> <StringField, varchar(500):None>
INFO:root:  Found mapping: name ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: admin ==> <BooleanField, boolean:None>
INFO:root:Found model: Blog (table: blogs)
INFO:root:  Found mapping: name ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: user_id ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: created_at ==> <FloatField, real:None>
INFO:root:  Found mapping: user_image ==> <StringField, varchar(500):None>
INFO:root:  Found mapping: id ==> <StringField, varchat(50):None>
INFO:root:  Found mapping: content ==> <TextField, text:None>
INFO:root:  Found mapping: user_name ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: summary ==> <StringField, varchar(200):None>
INFO:root:  Found mapping: private ==> <BooleanField, boolean:None>
INFO:root:Found model: Comment (table: comments)
INFO:root:  Found mapping: user_name ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: content ==> <TextField, text:None>
INFO:root:  Found mapping: user_image ==> <StringField, varchar(500):None>
INFO:root:  Found mapping: id ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: created_at ==> <FloatField, real:None>
INFO:root:  Found mapping: blog_id ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: user_id ==> <StringField, varchar(50):None>
INFO:root:Create database connection pool...
INFO:root:Init jinja2...
INFO:root:Set jinja2 template path: /home/admin/webapp/www/templates
INFO:root:add route GET /api/blogs => api_blogs(request, page)
INFO:root:add route GET /api/comments => api_comments(page)
INFO:root:add route POST /api/blogs => api_create_blog(request, name, summary, content, private)
INFO:root:add route POST /api/blogs/{id}/comments => api_create_comment(id, request, content)
INFO:root:add route POST /api/blogs/{id}/delete => api_delete_blog(id, request)
INFO:root:add route POST /api/comments/{id}/delete => api_delete_comment(id, request)
INFO:root:add route GET /api/blogs/{id} => api_get_blog(id)
INFO:root:add route GET /api/blogs/{id}/secret => api_get_private(id, request)
INFO:root:add route GET /api/users => api_get_users(page)
INFO:root:add route POST /api/users => api_register_user(email, name, passwd)
INFO:root:add route POST /api/blogs/{id}/secret => api_set_private(id, request)
INFO:root:add route POST /api/blogs/{id} => api_update_blog(id, request, name, summary, content, private)
INFO:root:add route POST /api/authenticate => authenticate(email, passwd)
INFO:root:add route GET /blog/{id} => get_blog(id)
INFO:root:add route GET / => index(request, page)
INFO:root:add route GET /manage/ => manage()
INFO:root:add route GET /manage/blogs => manage_blogs(page)
INFO:root:add route GET /manage/comments => manage_comments(page)
INFO:root:add route GET /manage/blogs/create => manage_create_blogs()
INFO:root:add route GET /manage/blogs/edit => manage_edit_blog(id)
INFO:root:add route GET /manage/users => manage_users(page)
INFO:root:add route GET /register => register()
INFO:root:add route GET /signin => signin()
INFO:root:add route GET /signout => signout(request)
INFO:root:add static /static/ => /home/admin/webapp/www/static
INFO:root:Server started at http://60.205.221.43:80...
INFO:root:Found model: User (table: users)
INFO:root:  Found mapping: name ==> <StringField, varchar(100):None>
INFO:root:  Found mapping: id ==> <IntegerField, bigint:None>
INFO:root:Found model: User (table: users)
INFO:root:  Found mapping: email ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: image ==> <StringField, varchar(500):None>
INFO:root:  Found mapping: id ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: passwd ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: name ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: created_at ==> <FloatField, real:None>
INFO:root:  Found mapping: admin ==> <BooleanField, boolean:None>
INFO:root:Found model: Blog (table: blogs)
INFO:root:  Found mapping: private ==> <BooleanField, boolean:None>
INFO:root:  Found mapping: name ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: id ==> <StringField, varchat(50):None>
INFO:root:  Found mapping: user_id ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: user_image ==> <StringField, varchar(500):None>
INFO:root:  Found mapping: summary ==> <StringField, varchar(200):None>
INFO:root:  Found mapping: created_at ==> <FloatField, real:None>
INFO:root:  Found mapping: content ==> <TextField, text:None>
INFO:root:  Found mapping: user_name ==> <StringField, varchar(50):None>
INFO:root:Found model: Comment (table: comments)
INFO:root:  Found mapping: user_name ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: created_at ==> <FloatField, real:None>
INFO:root:  Found mapping: blog_id ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: id ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: user_id ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: user_image ==> <StringField, varchar(500):None>
INFO:root:  Found mapping: content ==> <TextField, text:None>
INFO:root:Create database connection pool...
INFO:root:Init jinja2...
INFO:root:Set jinja2 template path: /home/admin/webapp/www/templates
INFO:root:add route GET /api/blogs => api_blogs(request, page)
INFO:root:add route GET /api/comments => api_comments(page)
INFO:root:add route POST /api/blogs => api_create_blog(request, name, summary, content, private)
INFO:root:add route POST /api/blogs/{id}/comments => api_create_comment(id, request, content)
INFO:root:add route POST /api/blogs/{id}/delete => api_delete_blog(id, request)
INFO:root:add route POST /api/comments/{id}/delete => api_delete_comment(id, request)
INFO:root:add route GET /api/blogs/{id} => api_get_blog(id)
INFO:root:add route GET /api/blogs/{id}/secret => api_get_private(id, request)
INFO:root:add route GET /api/users => api_get_users(page)
INFO:root:add route POST /api/users => api_register_user(email, name, passwd)
INFO:root:add route POST /api/blogs/{id}/secret => api_set_private(id, request)
INFO:root:add route POST /api/blogs/{id} => api_update_blog(id, request, name, summary, content, private)
INFO:root:add route POST /api/authenticate => authenticate(email, passwd)
INFO:root:add route GET /blog/{id} => get_blog(id)
INFO:root:add route GET / => index(request, page)
INFO:root:add route GET /manage/ => manage()
INFO:root:add route GET /manage/blogs => manage_blogs(page)
INFO:root:add route GET /manage/comments => manage_comments(page)
INFO:root:add route GET /manage/blogs/create => manage_create_blogs()
INFO:root:add route GET /manage/blogs/edit => manage_edit_blog(id)
INFO:root:add route GET /manage/users => manage_users(page)
INFO:root:add route GET /register => register()
INFO:root:add route GET /signin => signin()
INFO:root:add route GET /signout => signout(request)
INFO:root:add static /static/ => /home/admin/webapp/www/static
INFO:root:Server started at http://60.205.221.43:80...
INFO:root:Request: GET /manage/blogs
INFO:root:Check user: GET /manage/blogs
INFO:root:SQL: select `id`, `email`, `image`, `passwd`, `name`, `created_at`, `admin` from `users` where `id`=?
INFO:root:Rows returned: 1
INFO:root:Set current user: m15801021028@163.com
INFO:root:Response handler...
INFO:root:Call with arg: {}
INFO:aiohttp.access:106.120.206.159 [22/May/2018:03:27:11 +0000] "GET /manage/blogs?t=1526958477707&t=1526958479722&t=1526958484756 HTTP/1.1" 200 7097 "http://www.lxiao.net:8000/manage/blogs?t=1526958477707&t=1526958479722" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/66.0.3359.181 Safari/537.36"
INFO:root:Request: GET /api/blogs
INFO:root:Check user: GET /api/blogs
INFO:root:SQL: select `id`, `email`, `image`, `passwd`, `name`, `created_at`, `admin` from `users` where `id`=?
INFO:root:Rows returned: 1
INFO:root:Set current user: m15801021028@163.com
INFO:root:Response handler...
INFO:root:Call with arg: {'request': <Request GET /api/blogs >, 'page': '1'}
INFO:root:SQL: select count(id) _num_ from `blogs`
INFO:root:Rows returned: 1
INFO:root:SQL: select `id`, `private`, `name`, `user_id`, `user_image`, `summary`, `created_at`, `content`, `user_name` from `blogs` order by created_at desc limit ?, ?
INFO:root:Rows returned: 5
INFO:aiohttp.access:106.120.206.159 [22/May/2018:03:27:12 +0000] "GET /api/blogs?page=1 HTTP/1.1" 200 29702 "http://www.lxiao.net:8000/manage/blogs?t=1526958477707&t=1526958479722&t=1526958484756" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/66.0.3359.181 Safari/537.36"
INFO:root:Found model: User (table: users)
INFO:root:  Found mapping: id ==> <IntegerField, bigint:None>
INFO:root:  Found mapping: name ==> <StringField, varchar(100):None>
INFO:root:Found model: User (table: users)
INFO:root:  Found mapping: admin ==> <BooleanField, boolean:None>
INFO:root:  Found mapping: id ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: name ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: image ==> <StringField, varchar(500):None>
INFO:root:  Found mapping: passwd ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: created_at ==> <FloatField, real:None>
INFO:root:  Found mapping: email ==> <StringField, varchar(50):None>
INFO:root:Found model: Blog (table: blogs)
INFO:root:  Found mapping: content ==> <TextField, text:None>
INFO:root:  Found mapping: summary ==> <StringField, varchar(200):None>
INFO:root:  Found mapping: id ==> <StringField, varchat(50):None>
INFO:root:  Found mapping: name ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: created_at ==> <FloatField, real:None>
INFO:root:  Found mapping: user_image ==> <StringField, varchar(500):None>
INFO:root:  Found mapping: user_name ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: user_id ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: private ==> <BooleanField, boolean:None>
INFO:root:Found model: Comment (table: comments)
INFO:root:  Found mapping: content ==> <TextField, text:None>
INFO:root:  Found mapping: id ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: user_id ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: blog_id ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: user_image ==> <StringField, varchar(500):None>
INFO:root:  Found mapping: user_name ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: created_at ==> <FloatField, real:None>
INFO:root:Create database connection pool...
INFO:root:Init jinja2...
INFO:root:Set jinja2 template path: /home/admin/webapp/www/templates
INFO:root:add route GET /api/blogs => api_blogs(request, page)
INFO:root:add route GET /api/comments => api_comments(page)
INFO:root:add route POST /api/blogs => api_create_blog(request, name, summary, content, private)
INFO:root:add route POST /api/blogs/{id}/comments => api_create_comment(id, request, content)
INFO:root:add route POST /api/blogs/{id}/delete => api_delete_blog(id, request)
INFO:root:add route POST /api/comments/{id}/delete => api_delete_comment(id, request)
INFO:root:add route GET /api/blogs/{id} => api_get_blog(id)
INFO:root:add route GET /api/blogs/{id}/secret => api_get_private(id, request)
INFO:root:add route GET /api/users => api_get_users(page)
INFO:root:add route POST /api/users => api_register_user(email, name, passwd)
INFO:root:add route POST /api/blogs/{id}/secret => api_set_private(id, request)
INFO:root:add route POST /api/blogs/{id} => api_update_blog(id, request, name, summary, content, private)
INFO:root:add route POST /api/authenticate => authenticate(email, passwd)
INFO:root:add route GET /blog/{id} => get_blog(id)
INFO:root:add route GET / => index(request, page)
INFO:root:add route GET /manage/ => manage()
INFO:root:add route GET /manage/blogs => manage_blogs(page)
INFO:root:add route GET /manage/comments => manage_comments(page)
INFO:root:add route GET /manage/blogs/create => manage_create_blogs()
INFO:root:add route GET /manage/blogs/edit => manage_edit_blog(id)
INFO:root:add route GET /manage/users => manage_users(page)
INFO:root:add route GET /register => register()
INFO:root:add route GET /signin => signin()
INFO:root:add route GET /signout => signout(request)
INFO:root:add static /static/ => /home/admin/webapp/www/static
INFO:root:Server started at http://60.205.221.43:80...
INFO:root:Request: GET /manage/blogs
INFO:root:Check user: GET /manage/blogs
INFO:root:SQL: select `id`, `admin`, `name`, `image`, `passwd`, `created_at`, `email` from `users` where `id`=?
INFO:root:Rows returned: 1
INFO:root:Set current user: m15801021028@163.com
INFO:root:Response handler...
INFO:root:Call with arg: {}
INFO:aiohttp.access:106.120.206.159 [22/May/2018:03:27:39 +0000] "GET /manage/blogs?t=1526958477707&t=1526958479722&t=1526958484756 HTTP/1.1" 200 7119 "-" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/66.0.3359.181 Safari/537.36"
INFO:root:Request: GET /api/blogs
INFO:root:Check user: GET /api/blogs
INFO:root:SQL: select `id`, `admin`, `name`, `image`, `passwd`, `created_at`, `email` from `users` where `id`=?
INFO:root:Rows returned: 1
INFO:root:Set current user: m15801021028@163.com
INFO:root:Response handler...
INFO:root:Call with arg: {'request': <Request GET /api/blogs >, 'page': '1'}
INFO:root:SQL: select count(id) _num_ from `blogs`
INFO:root:Rows returned: 1
INFO:root:SQL: select `id`, `content`, `summary`, `name`, `created_at`, `user_image`, `user_name`, `user_id`, `private` from `blogs` order by created_at desc limit ?, ?
INFO:root:Rows returned: 5
INFO:aiohttp.access:106.120.206.159 [22/May/2018:03:27:39 +0000] "GET /api/blogs?page=1 HTTP/1.1" 200 29702 "http://www.lxiao.net:8000/manage/blogs?t=1526958477707&t=1526958479722&t=1526958484756" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/66.0.3359.181 Safari/537.36"
INFO:root:Found model: User (table: users)
INFO:root:  Found mapping: name ==> <StringField, varchar(100):None>
INFO:root:  Found mapping: id ==> <IntegerField, bigint:None>
INFO:root:Found model: User (table: users)
INFO:root:  Found mapping: admin ==> <BooleanField, boolean:None>
INFO:root:  Found mapping: created_at ==> <FloatField, real:None>
INFO:root:  Found mapping: image ==> <StringField, varchar(500):None>
INFO:root:  Found mapping: passwd ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: email ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: name ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: id ==> <StringField, varchar(50):None>
INFO:root:Found model: Blog (table: blogs)
INFO:root:  Found mapping: summary ==> <StringField, varchar(200):None>
INFO:root:  Found mapping: user_id ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: created_at ==> <FloatField, real:None>
INFO:root:  Found mapping: content ==> <TextField, text:None>
INFO:root:  Found mapping: private ==> <BooleanField, boolean:None>
INFO:root:  Found mapping: user_name ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: name ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: user_image ==> <StringField, varchar(500):None>
INFO:root:  Found mapping: id ==> <StringField, varchat(50):None>
INFO:root:Found model: Comment (table: comments)
INFO:root:  Found mapping: user_id ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: blog_id ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: created_at ==> <FloatField, real:None>
INFO:root:  Found mapping: content ==> <TextField, text:None>
INFO:root:  Found mapping: user_name ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: user_image ==> <StringField, varchar(500):None>
INFO:root:  Found mapping: id ==> <StringField, varchar(50):None>
INFO:root:Create database connection pool...
INFO:root:Init jinja2...
INFO:root:Set jinja2 template path: /home/admin/webapp/www/templates
INFO:root:add route GET /api/blogs => api_blogs(request, page)
INFO:root:add route GET /api/comments => api_comments(page)
INFO:root:add route POST /api/blogs => api_create_blog(request, name, summary, content, private)
INFO:root:add route POST /api/blogs/{id}/comments => api_create_comment(id, request, content)
INFO:root:add route POST /api/blogs/{id}/delete => api_delete_blog(id, request)
INFO:root:add route POST /api/comments/{id}/delete => api_delete_comment(id, request)
INFO:root:add route GET /api/blogs/{id} => api_get_blog(id)
INFO:root:add route GET /api/blogs/{id}/secret => api_get_private(id, request)
INFO:root:add route GET /api/users => api_get_users(page)
INFO:root:add route POST /api/users => api_register_user(email, name, passwd)
INFO:root:add route POST /api/blogs/{id}/secret => api_set_private(id, request)
INFO:root:add route POST /api/blogs/{id} => api_update_blog(id, request, name, summary, content, private)
INFO:root:add route POST /api/authenticate => authenticate(email, passwd)
INFO:root:add route GET /blog/{id} => get_blog(id)
INFO:root:add route GET / => index(request, page)
INFO:root:add route GET /manage/ => manage()
INFO:root:add route GET /manage/blogs => manage_blogs(page)
INFO:root:add route GET /manage/comments => manage_comments(page)
INFO:root:add route GET /manage/blogs/create => manage_create_blogs()
INFO:root:add route GET /manage/blogs/edit => manage_edit_blog(id)
INFO:root:add route GET /manage/users => manage_users(page)
INFO:root:add route GET /register => register()
INFO:root:add route GET /signin => signin()
INFO:root:add route GET /signout => signout(request)
INFO:root:add static /static/ => /home/admin/webapp/www/static
INFO:root:Server started at http://60.205.221.43:80...
INFO:root:Request: GET /manage/blogs
INFO:root:Check user: GET /manage/blogs
INFO:root:SQL: select `id`, `admin`, `created_at`, `image`, `passwd`, `email`, `name` from `users` where `id`=?
INFO:root:Rows returned: 1
INFO:root:Set current user: m15801021028@163.com
INFO:root:Response handler...
INFO:root:Call with arg: {}
INFO:aiohttp.access:106.120.206.159 [22/May/2018:03:31:13 +0000] "GET /manage/blogs?t=1526958477707&t=1526958479722&t=1526958484756 HTTP/1.1" 200 7124 "-" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/66.0.3359.181 Safari/537.36"
INFO:root:Request: GET /api/blogs
INFO:root:Check user: GET /api/blogs
INFO:root:SQL: select `id`, `admin`, `created_at`, `image`, `passwd`, `email`, `name` from `users` where `id`=?
INFO:root:Rows returned: 1
INFO:root:Set current user: m15801021028@163.com
INFO:root:Response handler...
INFO:root:Call with arg: {'request': <Request GET /api/blogs >, 'page': '1'}
INFO:root:SQL: select count(id) _num_ from `blogs`
INFO:root:Rows returned: 1
INFO:root:SQL: select `id`, `summary`, `user_id`, `created_at`, `content`, `private`, `user_name`, `name`, `user_image` from `blogs` order by created_at desc limit ?, ?
INFO:root:Rows returned: 5
INFO:aiohttp.access:106.120.206.159 [22/May/2018:03:31:14 +0000] "GET /api/blogs?page=1 HTTP/1.1" 200 29702 "http://www.lxiao.net:8000/manage/blogs?t=1526958477707&t=1526958479722&t=1526958484756" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/66.0.3359.181 Safari/537.36"

[Monitor] HTML source file changed: /home/admin/webapp/www/templates/manage_blogs.html
[Monitor] Kill process [19026]...
[Monitor] Process ended with code -9.
[Monitor] Start process python3 app.py...
[Monitor] HTML source file changed: /home/admin/webapp/www/templates/manage_blogs.html
[Monitor] Kill process [19027]...
[Monitor] Process ended with code -9.
[Monitor] Start process python3 app.py...
[Monitor] HTML source file changed: /home/admin/webapp/www/templates/manage_blogs.html
[Monitor] Kill process [19069]...
[Monitor] Process ended with code -9.
[Monitor] Start process python3 app.py...
[Monitor] Python source file changed: /home/admin/webapp/www/handlers.py
[Monitor] Kill process [19070]...
[Monitor] Process ended with code -9.
[Monitor] Start process python3 app.py...
[Monitor] Python source file changed: /home/admin/webapp/www/handlers.py
[Monitor] Kill process [19077]...
[Monitor] Process ended with code -9.
[Monitor] Start process python3 app.py...
[Monitor] Python source file changed: /home/admin/webapp/www/handlers.py
[Monitor] Kill process [19078]...
[Monitor] Process ended with code -9.
[Monitor] Start process python3 app.py...
[Monitor] Python source file changed: /home/admin/webapp/www/handlers.py
[Monitor] Kill process [19079]...
[Monitor] Process ended with code -9.
[Monitor] Start process python3 app.py...
[Monitor] Python source file changed: /home/admin/webapp/www/handlers.py
[Monitor] Kill process [19080]...
[Monitor] Process ended with code -9.
[Monitor] Start process python3 app.py...
[Monitor] Python source file changed: /home/admin/webapp/www/handlers.py
[Monitor] Kill process [19087]...
[Monitor] Process ended with code -9.
[Monitor] Start process python3 app.py...
[Monitor] Python source file changed: /home/admin/webapp/www/handlers.py
[Monitor] Kill process [19088]...
[Monitor] Process ended with code -9.
[Monitor] Start process python3 app.py...
[Monitor] Python source file changed: /home/admin/webapp/www/handlers.py
[Monitor] Kill process [19089]...
[Monitor] Process ended with code -9.
[Monitor] Start process python3 app.py...
[Monitor] Python source file changed: /home/admin/webapp/www/handlers.py
[Monitor] Kill process [19090]...
[Monitor] Process ended with code -9.
[Monitor] Start process python3 app.py...
[Monitor] Python source file changed: /home/admin/webapp/www/handlers.py
[Monitor] Kill process [19103]...
[Monitor] Process ended with code -9.
[Monitor] Start process python3 app.py...
[Monitor] Python source file changed: /home/admin/webapp/www/handlers.py
[Monitor] Kill process [19104]...
[Monitor] Process ended with code -9.
[Monitor] Start process python3 app.py...
[Monitor] Python source file changed: /home/admin/webapp/www/handlers.py
[Monitor] Kill process [19105]...
[Monitor] Process ended with code -9.
[Monitor] Start process python3 app.py...
[Monitor] HTML source file changed: /home/admin/webapp/www/templates/manage_blogs.html
[Monitor] Kill process [19106]...
[Monitor] Process ended with code -9.
[Monitor] Start process python3 app.py...
[Monitor] HTML source file changed: /home/admin/webapp/www/templates/manage_blogs.html
[Monitor] Kill process [19121]...
[Monitor] Process ended with code -9.
[Monitor] Start process python3 app.py...
[Monitor] HTML source file changed: /home/admin/webapp/www/templates/manage_blogs.html
[Monitor] Kill process [19122]...
[Monitor] Process ended with code -9.
[Monitor] Start process python3 app.py...
[Monitor] HTML source file changed: /home/admin/webapp/www/templates/manage_blogs.html
[Monitor] Kill process [19134]...
[Monitor] Process ended with code -9.
[Monitor] Start process python3 app.py...
[Monitor] HTML source file changed: /home/admin/webapp/www/templates/manage_blogs.html
[Monitor] Kill process [19135]...
[Monitor] Process ended with code -9.
[Monitor] Start process python3 app.py...
[Monitor] HTML source file changed: /home/admin/webapp/www/templates/manage_blogs.html
[Monitor] Kill process [19156]...
[Monitor] Process ended with code -9.
[Monitor] Start process python3 app.py...
[Monitor] HTML source file changed: /home/admin/webapp/www/templates/manage_blogs.html
[Monitor] Kill process [19157]...
[Monitor] Process ended with code -9.
[Monitor] Start process python3 app.py...
[Monitor] HTML source file changed: /home/admin/webapp/www/templates/manage_blogs.html
[Monitor] Kill process [19160]...
[Monitor] Process ended with code -9.
[Monitor] Start process python3 app.py...
[Monitor] HTML source file changed: /home/admin/webapp/www/templates/manage_blogs.html
[Monitor] Kill process [19161]...
[Monitor] Process ended with code -9.
[Monitor] Start process python3 app.py...
[Monitor] HTML source file changed: /home/admin/webapp/www/templates/manage_blogs.html
[Monitor] Kill process [19205]...
[Monitor] Process ended with code -9.
[Monitor] Start process python3 app.py...
[Monitor] HTML source file changed: /home/admin/webapp/www/templates/manage_blogs.html
[Monitor] Kill process [19206]...
[Monitor] Process ended with code -9.
[Monitor] Start process python3 app.py...
[Monitor] HTML source file changed: /home/admin/webapp/www/templates/manage_blogs.html
[Monitor] Kill process [19215]...
[Monitor] Process ended with code -9.
[Monitor] Start process python3 app.py...
[Monitor] HTML source file changed: /home/admin/webapp/www/templates/manage_blogs.html
[Monitor] Kill process [19216]...
[Monitor] Process ended with code -9.
[Monitor] Start process python3 app.py...
[Monitor] HTML source file changed: /home/admin/webapp/www/templates/manage_blogs.html
[Monitor] Kill process [19230]...
[Monitor] Process ended with code -9.
[Monitor] Start process python3 app.py...
[Monitor] HTML source file changed: /home/admin/webapp/www/templates/manage_blogs.html
[Monitor] Kill process [19231]...
[Monitor] Process ended with code -9.
[Monitor] Start process python3 app.py...
[Monitor] HTML source file changed: /home/admin/webapp/www/templates/manage_blogs.html
[Monitor] Kill process [19241]...
[Monitor] Process ended with code -9.
[Monitor] Start process python3 app.py...
[Monitor] HTML source file changed: /home/admin/webapp/www/templates/manage_blogs.html
[Monitor] Kill process [19242]...
[Monitor] Process ended with code -9.
[Monitor] Start process python3 app.py...
[Monitor] HTML source file changed: /home/admin/webapp/www/templates/manage_blogs.html
[Monitor] Kill process [19246]...
[Monitor] Process ended with code -9.
[Monitor] Start process python3 app.py...
[Monitor] HTML source file changed: /home/admin/webapp/www/templates/manage_blogs.html
[Monitor] Kill process [19247]...
[Monitor] Process ended with code -9.
[Monitor] Start process python3 app.py...
[Monitor] HTML source file changed: /home/admin/webapp/www/templates/manage_blogs.html
[Monitor] Kill process [19256]...
[Monitor] Process ended with code -9.
[Monitor] Start process python3 app.py...
[Monitor] HTML source file changed: /home/admin/webapp/www/templates/manage_blogs.html
[Monitor] Kill process [19257]...
[Monitor] Process ended with code -9.
[Monitor] Start process python3 app.py...
[Monitor] HTML source file changed: /home/admin/webapp/www/templates/manage_blogs.html
[Monitor] Kill process [19349]...
[Monitor] Process ended with code -9.
[Monitor] Start process python3 app.py...
[Monitor] HTML source file changed: /home/admin/webapp/www/templates/manage_blogs.html
[Monitor] Kill process [19350]...
[Monitor] Process ended with code -9.
[Monitor] Start process python3 app.py...
[Monitor] HTML source file changed: /home/admin/webapp/www/templates/manage_blogs.html
[Monitor] Kill process [19355]...
[Monitor] Process ended with code -9.
[Monitor] Start process python3 app.py...
[Monitor] HTML source file changed: /home/admin/webapp/www/templates/manage_blogs.html
[Monitor] Kill process [19356]...
[Monitor] Process ended with code -9.
[Monitor] Start process python3 app.py...
[Monitor] HTML source file changed: /home/admin/webapp/www/templates/manage_blogs.html
[Monitor] Kill process [19393]...
[Monitor] Process ended with code -9.
[Monitor] Start process python3 app.py...
[Monitor] HTML source file changed: /home/admin/webapp/www/templates/manage_blogs.html
[Monitor] Kill process [19394]...INFO:root:Found model: User (table: users)
INFO:root:  Found mapping: name ==> <StringField, varchar(100):None>
INFO:root:  Found mapping: id ==> <IntegerField, bigint:None>
INFO:root:Found model: User (table: users)
INFO:root:  Found mapping: passwd ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: name ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: created_at ==> <FloatField, real:None>
INFO:root:  Found mapping: email ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: id ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: admin ==> <BooleanField, boolean:None>
INFO:root:  Found mapping: image ==> <StringField, varchar(500):None>
INFO:root:Found model: Blog (table: blogs)
INFO:root:  Found mapping: user_image ==> <StringField, varchar(500):None>
INFO:root:  Found mapping: id ==> <StringField, varchat(50):None>
INFO:root:  Found mapping: content ==> <TextField, text:None>
INFO:root:  Found mapping: private ==> <BooleanField, boolean:None>
INFO:root:  Found mapping: summary ==> <StringField, varchar(200):None>
INFO:root:  Found mapping: user_id ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: name ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: created_at ==> <FloatField, real:None>
INFO:root:  Found mapping: user_name ==> <StringField, varchar(50):None>
INFO:root:Found model: Comment (table: comments)
INFO:root:  Found mapping: user_id ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: user_image ==> <StringField, varchar(500):None>
INFO:root:  Found mapping: content ==> <TextField, text:None>
INFO:root:  Found mapping: blog_id ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: id ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: user_name ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: created_at ==> <FloatField, real:None>
INFO:root:Create database connection pool...
INFO:root:Init jinja2...
INFO:root:Set jinja2 template path: /home/admin/webapp/www/templates
INFO:root:add route GET /api/blogs => api_blogs(request, page)
INFO:root:add route GET /api/comments => api_comments(page)
INFO:root:add route POST /api/blogs => api_create_blog(request, name, summary, content, private)
INFO:root:add route POST /api/blogs/{id}/comments => api_create_comment(id, request, content)
INFO:root:add route POST /api/blogs/{id}/delete => api_delete_blog(id, request)
INFO:root:add route POST /api/comments/{id}/delete => api_delete_comment(id, request)
INFO:root:add route GET /api/blogs/{id} => api_get_blog(id)
INFO:root:add route GET /api/blogs/{id}/secret => api_get_private(id, request)
INFO:root:add route GET /api/users => api_get_users(page)
INFO:root:add route POST /api/users => api_register_user(email, name, passwd)
INFO:root:add route POST /api/blogs/{id}/secret => api_set_private(id, request)
INFO:root:add route POST /api/blogs/{id} => api_update_blog(id, request, name, summary, content, private)
INFO:root:add route POST /api/authenticate => authenticate(email, passwd)
INFO:root:add route GET /blog/{id} => get_blog(id)
INFO:root:add route GET / => index(request, page)
INFO:root:add route GET /manage/ => manage()
INFO:root:add route GET /manage/blogs => manage_blogs(page)
INFO:root:add route GET /manage/comments => manage_comments(page)
INFO:root:add route GET /manage/blogs/create => manage_create_blogs()
INFO:root:add route GET /manage/blogs/edit => manage_edit_blog(id)
INFO:root:add route GET /manage/users => manage_users(page)
INFO:root:add route GET /register => register()
INFO:root:add route GET /signin => signin()
INFO:root:add route GET /signout => signout(request)
INFO:root:add static /static/ => /home/admin/webapp/www/static
INFO:root:Server started at http://60.205.221.43:80...
INFO:root:Request: GET /manage/blogs
INFO:root:Check user: GET /manage/blogs
INFO:root:SQL: select `id`, `passwd`, `name`, `created_at`, `email`, `admin`, `image` from `users` where `id`=?
INFO:root:Rows returned: 1
INFO:root:Set current user: m15801021028@163.com
INFO:root:Response handler...
INFO:root:Call with arg: {}
INFO:aiohttp.access:106.120.206.159 [22/May/2018:03:32:11 +0000] "GET /manage/blogs?t=1526958477707&t=1526958479722&t=1526958484756 HTTP/1.1" 200 7140 "-" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/66.0.3359.181 Safari/537.36"
INFO:root:Request: GET /manage/image.gif
INFO:root:Check user: GET /manage/image.gif
INFO:root:SQL: select `id`, `passwd`, `name`, `created_at`, `email`, `admin`, `image` from `users` where `id`=?
INFO:root:Rows returned: 1
INFO:root:Set current user: m15801021028@163.com
INFO:root:Response handler...
INFO:aiohttp.access:106.120.206.159 [22/May/2018:03:32:11 +0000] "GET /manage/image.gif HTTP/1.1" 404 173 "http://www.lxiao.net:8000/manage/blogs?t=1526958477707&t=1526958479722&t=1526958484756" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/66.0.3359.181 Safari/537.36"
INFO:root:Request: GET /api/blogs
INFO:root:Check user: GET /api/blogs
INFO:root:SQL: select `id`, `passwd`, `name`, `created_at`, `email`, `admin`, `image` from `users` where `id`=?
INFO:root:Rows returned: 1
INFO:root:Set current user: m15801021028@163.com
INFO:root:Response handler...
INFO:root:Call with arg: {'request': <Request GET /api/blogs >, 'page': '1'}
INFO:root:SQL: select count(id) _num_ from `blogs`
INFO:root:Rows returned: 1
INFO:root:SQL: select `id`, `user_image`, `content`, `private`, `summary`, `user_id`, `name`, `created_at`, `user_name` from `blogs` order by created_at desc limit ?, ?
INFO:root:Rows returned: 5
INFO:aiohttp.access:106.120.206.159 [22/May/2018:03:32:12 +0000] "GET /api/blogs?page=1 HTTP/1.1" 200 29702 "http://www.lxiao.net:8000/manage/blogs?t=1526958477707&t=1526958479722&t=1526958484756" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/66.0.3359.181 Safari/537.36"
INFO:root:Found model: User (table: users)
INFO:root:  Found mapping: name ==> <StringField, varchar(100):None>
INFO:root:  Found mapping: id ==> <IntegerField, bigint:None>
INFO:root:Found model: User (table: users)
INFO:root:  Found mapping: name ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: image ==> <StringField, varchar(500):None>
INFO:root:  Found mapping: email ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: admin ==> <BooleanField, boolean:None>
INFO:root:  Found mapping: created_at ==> <FloatField, real:None>
INFO:root:  Found mapping: passwd ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: id ==> <StringField, varchar(50):None>
INFO:root:Found model: Blog (table: blogs)
INFO:root:  Found mapping: user_name ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: created_at ==> <FloatField, real:None>
INFO:root:  Found mapping: user_image ==> <StringField, varchar(500):None>
INFO:root:  Found mapping: id ==> <StringField, varchat(50):None>
INFO:root:  Found mapping: name ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: private ==> <BooleanField, boolean:None>
INFO:root:  Found mapping: summary ==> <StringField, varchar(200):None>
INFO:root:  Found mapping: content ==> <TextField, text:None>
INFO:root:  Found mapping: user_id ==> <StringField, varchar(50):None>
INFO:root:Found model: Comment (table: comments)
INFO:root:  Found mapping: user_name ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: content ==> <TextField, text:None>
INFO:root:  Found mapping: blog_id ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: created_at ==> <FloatField, real:None>
INFO:root:  Found mapping: user_image ==> <StringField, varchar(500):None>
INFO:root:  Found mapping: user_id ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: id ==> <StringField, varchar(50):None>
INFO:root:Create database connection pool...
INFO:root:Init jinja2...
INFO:root:Set jinja2 template path: /home/admin/webapp/www/templates
INFO:root:add route GET /api/blogs => api_blogs(request, page)
INFO:root:add route GET /api/comments => api_comments(page)
INFO:root:add route POST /api/blogs => api_create_blog(request, name, summary, content, private)
INFO:root:add route POST /api/blogs/{id}/comments => api_create_comment(id, request, content)
INFO:root:add route POST /api/blogs/{id}/delete => api_delete_blog(id, request)
INFO:root:add route POST /api/comments/{id}/delete => api_delete_comment(id, request)
INFO:root:add route GET /api/blogs/{id} => api_get_blog(id)
INFO:root:add route GET /api/blogs/{id}/secret => api_get_private(id, request)
INFO:root:add route GET /api/users => api_get_users(page)
INFO:root:add route POST /api/users => api_register_user(email, name, passwd)
INFO:root:add route POST /api/blogs/{id}/secret => api_set_private(id, request)
INFO:root:add route POST /api/blogs/{id} => api_update_blog(id, request, name, summary, content, private)
INFO:root:add route POST /api/authenticate => authenticate(email, passwd)
INFO:root:add route GET /blog/{id} => get_blog(id)
INFO:root:add route GET / => index(request, page)
INFO:root:add route GET /manage/ => manage()
INFO:root:add route GET /manage/blogs => manage_blogs(page)
INFO:root:add route GET /manage/comments => manage_comments(page)
INFO:root:add route GET /manage/blogs/create => manage_create_blogs()
INFO:root:add route GET /manage/blogs/edit => manage_edit_blog(id)
INFO:root:add route GET /manage/users => manage_users(page)
INFO:root:add route GET /register => register()
INFO:root:add route GET /signin => signin()
INFO:root:add route GET /signout => signout(request)
INFO:root:add static /static/ => /home/admin/webapp/www/static
INFO:root:Server started at http://60.205.221.43:80...
INFO:root:Request: GET /manage/blogs
INFO:root:Check user: GET /manage/blogs
INFO:root:SQL: select `id`, `name`, `image`, `email`, `admin`, `created_at`, `passwd` from `users` where `id`=?
INFO:root:Rows returned: 1
INFO:root:Set current user: m15801021028@163.com
INFO:root:Response handler...
INFO:root:Call with arg: {}
INFO:aiohttp.access:106.120.206.159 [22/May/2018:03:32:30 +0000] "GET /manage/blogs?t=1526958477707&t=1526958479722&t=1526958484756 HTTP/1.1" 200 7132 "-" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/66.0.3359.181 Safari/537.36"
INFO:root:Request: GET /manage/image.gif
INFO:root:Check user: GET /manage/image.gif
INFO:root:SQL: select `id`, `name`, `image`, `email`, `admin`, `created_at`, `passwd` from `users` where `id`=?
INFO:root:Rows returned: 1
INFO:root:Set current user: m15801021028@163.com
INFO:root:Response handler...
INFO:aiohttp.access:106.120.206.159 [22/May/2018:03:32:30 +0000] "GET /manage/image.gif HTTP/1.1" 404 173 "http://www.lxiao.net:8000/manage/blogs?t=1526958477707&t=1526958479722&t=1526958484756" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/66.0.3359.181 Safari/537.36"
INFO:root:Request: GET /api/blogs
INFO:root:Check user: GET /api/blogs
INFO:root:SQL: select `id`, `name`, `image`, `email`, `admin`, `created_at`, `passwd` from `users` where `id`=?
INFO:root:Rows returned: 1
INFO:root:Set current user: m15801021028@163.com
INFO:root:Response handler...
INFO:root:Call with arg: {'page': '1', 'request': <Request GET /api/blogs >}
INFO:root:SQL: select count(id) _num_ from `blogs`
INFO:root:Rows returned: 1
INFO:root:SQL: select `id`, `user_name`, `created_at`, `user_image`, `name`, `private`, `summary`, `content`, `user_id` from `blogs` order by created_at desc limit ?, ?
INFO:root:Rows returned: 5
INFO:aiohttp.access:106.120.206.159 [22/May/2018:03:32:30 +0000] "GET /api/blogs?page=1 HTTP/1.1" 200 29702 "http://www.lxiao.net:8000/manage/blogs?t=1526958477707&t=1526958479722&t=1526958484756" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/66.0.3359.181 Safari/537.36"
INFO:root:Request: GET /manage/blogs
INFO:root:Check user: GET /manage/blogs
INFO:root:SQL: select `id`, `name`, `image`, `email`, `admin`, `created_at`, `passwd` from `users` where `id`=?
INFO:root:Rows returned: 1
INFO:root:Set current user: m15801021028@163.com
INFO:root:Response handler...
INFO:root:Call with arg: {}
INFO:aiohttp.access:106.120.206.159 [22/May/2018:06:00:54 +0000] "GET /manage/blogs?t=1526958477707&t=1526958479722&t=1526958484756 HTTP/1.1" 200 7132 "-" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/66.0.3359.181 Safari/537.36"
INFO:root:Request: GET /manage/image.gif
INFO:root:Check user: GET /manage/image.gif
INFO:root:SQL: select `id`, `name`, `image`, `email`, `admin`, `created_at`, `passwd` from `users` where `id`=?
INFO:root:Rows returned: 1
INFO:root:Set current user: m15801021028@163.com
INFO:root:Response handler...
INFO:aiohttp.access:106.120.206.159 [22/May/2018:06:00:54 +0000] "GET /manage/image.gif HTTP/1.1" 404 173 "http://www.lxiao.net:8000/manage/blogs?t=1526958477707&t=1526958479722&t=1526958484756" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/66.0.3359.181 Safari/537.36"
INFO:root:Request: GET /api/blogs
INFO:root:Check user: GET /api/blogs
INFO:root:SQL: select `id`, `name`, `image`, `email`, `admin`, `created_at`, `passwd` from `users` where `id`=?
INFO:root:Rows returned: 1
INFO:root:Set current user: m15801021028@163.com
INFO:root:Response handler...
INFO:root:Call with arg: {'page': '1', 'request': <Request GET /api/blogs >}
INFO:root:SQL: select count(id) _num_ from `blogs`
INFO:root:Rows returned: 1
INFO:root:SQL: select `id`, `user_name`, `created_at`, `user_image`, `name`, `private`, `summary`, `content`, `user_id` from `blogs` order by created_at desc limit ?, ?
INFO:root:Rows returned: 5
INFO:aiohttp.access:106.120.206.159 [22/May/2018:06:00:54 +0000] "GET /api/blogs?page=1 HTTP/1.1" 200 29702 "http://www.lxiao.net:8000/manage/blogs?t=1526958477707&t=1526958479722&t=1526958484756" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/66.0.3359.181 Safari/537.36"
INFO:root:Request: GET /manage/blogs
INFO:root:Check user: GET /manage/blogs
INFO:root:SQL: select `id`, `name`, `image`, `email`, `admin`, `created_at`, `passwd` from `users` where `id`=?
INFO:root:Rows returned: 1
INFO:root:Set current user: m15801021028@163.com
INFO:root:Response handler...
INFO:root:Call with arg: {'page': '2'}
INFO:aiohttp.access:106.120.206.159 [22/May/2018:06:00:57 +0000] "GET /manage/blogs?t=1526958484756&page=2 HTTP/1.1" 200 7132 "http://www.lxiao.net:8000/manage/blogs?t=1526958477707&t=1526958479722&t=1526958484756" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/66.0.3359.181 Safari/537.36"
INFO:root:Request: GET /manage/image.gif
INFO:root:Check user: GET /manage/image.gif
INFO:root:SQL: select `id`, `name`, `image`, `email`, `admin`, `created_at`, `passwd` from `users` where `id`=?
INFO:root:Rows returned: 1
INFO:root:Set current user: m15801021028@163.com
INFO:root:Response handler...
INFO:aiohttp.access:106.120.206.159 [22/May/2018:06:00:57 +0000] "GET /manage/image.gif HTTP/1.1" 404 173 "http://www.lxiao.net:8000/manage/blogs?t=1526958484756&page=2" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/66.0.3359.181 Safari/537.36"
INFO:root:Request: GET /api/blogs
INFO:root:Check user: GET /api/blogs
INFO:root:SQL: select `id`, `name`, `image`, `email`, `admin`, `created_at`, `passwd` from `users` where `id`=?
INFO:root:Rows returned: 1
INFO:root:Set current user: m15801021028@163.com
INFO:root:Response handler...
INFO:root:Call with arg: {'page': '2', 'request': <Request GET /api/blogs >}
INFO:root:SQL: select count(id) _num_ from `blogs`
INFO:root:Rows returned: 1
INFO:root:SQL: select `id`, `user_name`, `created_at`, `user_image`, `name`, `private`, `summary`, `content`, `user_id` from `blogs` order by created_at desc limit ?, ?
INFO:root:Rows returned: 5
INFO:aiohttp.access:106.120.206.159 [22/May/2018:06:00:57 +0000] "GET /api/blogs?page=2 HTTP/1.1" 200 16891 "http://www.lxiao.net:8000/manage/blogs?t=1526958484756&page=2" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/66.0.3359.181 Safari/537.36"
INFO:root:Request: GET /manage/blogs
INFO:root:Check user: GET /manage/blogs
INFO:root:SQL: select `id`, `name`, `image`, `email`, `admin`, `created_at`, `passwd` from `users` where `id`=?
INFO:root:Rows returned: 1
INFO:root:Set current user: m15801021028@163.com
INFO:root:Response handler...
INFO:root:Call with arg: {'page': '1'}
INFO:aiohttp.access:106.120.206.159 [22/May/2018:06:00:58 +0000] "GET /manage/blogs?t=1526958484756&page=1 HTTP/1.1" 200 7132 "http://www.lxiao.net:8000/manage/blogs?t=1526958484756&page=2" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/66.0.3359.181 Safari/537.36"
INFO:root:Request: GET /manage/image.gif
INFO:root:Check user: GET /manage/image.gif
INFO:root:SQL: select `id`, `name`, `image`, `email`, `admin`, `created_at`, `passwd` from `users` where `id`=?
INFO:root:Rows returned: 1
INFO:root:Set current user: m15801021028@163.com
INFO:root:Response handler...
INFO:aiohttp.access:106.120.206.159 [22/May/2018:06:00:58 +0000] "GET /manage/image.gif HTTP/1.1" 404 173 "http://www.lxiao.net:8000/manage/blogs?t=1526958484756&page=1" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/66.0.3359.181 Safari/537.36"
INFO:root:Request: GET /api/blogs
INFO:root:Check user: GET /api/blogs
INFO:root:SQL: select `id`, `name`, `image`, `email`, `admin`, `created_at`, `passwd` from `users` where `id`=?
INFO:root:Rows returned: 1
INFO:root:Set current user: m15801021028@163.com
INFO:root:Response handler...
INFO:root:Call with arg: {'page': '1', 'request': <Request GET /api/blogs >}
INFO:root:SQL: select count(id) _num_ from `blogs`
INFO:root:Rows returned: 1
INFO:root:SQL: select `id`, `user_name`, `created_at`, `user_image`, `name`, `private`, `summary`, `content`, `user_id` from `blogs` order by created_at desc limit ?, ?
INFO:root:Rows returned: 5
INFO:aiohttp.access:106.120.206.159 [22/May/2018:06:00:58 +0000] "GET /api/blogs?page=1 HTTP/1.1" 200 29702 "http://www.lxiao.net:8000/manage/blogs?t=1526958484756&page=1" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/66.0.3359.181 Safari/537.36"
INFO:root:Found model: User (table: users)
INFO:root:  Found mapping: id ==> <IntegerField, bigint:None>
INFO:root:  Found mapping: name ==> <StringField, varchar(100):None>
INFO:root:Found model: User (table: users)
INFO:root:  Found mapping: created_at ==> <FloatField, real:None>
INFO:root:  Found mapping: email ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: admin ==> <BooleanField, boolean:None>
INFO:root:  Found mapping: image ==> <StringField, varchar(500):None>
INFO:root:  Found mapping: name ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: passwd ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: id ==> <StringField, varchar(50):None>
INFO:root:Found model: Blog (table: blogs)
INFO:root:  Found mapping: content ==> <TextField, text:None>
INFO:root:  Found mapping: private ==> <BooleanField, boolean:None>
INFO:root:  Found mapping: user_name ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: created_at ==> <FloatField, real:None>
INFO:root:  Found mapping: user_id ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: summary ==> <StringField, varchar(200):None>
INFO:root:  Found mapping: user_image ==> <StringField, varchar(500):None>
INFO:root:  Found mapping: name ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: id ==> <StringField, varchat(50):None>
INFO:root:Found model: Comment (table: comments)
INFO:root:  Found mapping: created_at ==> <FloatField, real:None>
INFO:root:  Found mapping: user_image ==> <StringField, varchar(500):None>
INFO:root:  Found mapping: user_name ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: content ==> <TextField, text:None>
INFO:root:  Found mapping: blog_id ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: user_id ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: id ==> <StringField, varchar(50):None>
INFO:root:Create database connection pool...
INFO:root:Init jinja2...
INFO:root:Set jinja2 template path: /home/admin/webapp/www/templates
INFO:root:add route GET /api/blogs => api_blogs(request, page)
INFO:root:add route GET /api/comments => api_comments(page)
INFO:root:add route POST /api/blogs => api_create_blog(request, name, summary, content, private)
INFO:root:add route POST /api/blogs/{id}/comments => api_create_comment(id, request, content)
INFO:root:add route POST /api/blogs/{id}/delete => api_delete_blog(id, request)
INFO:root:add route POST /api/comments/{id}/delete => api_delete_comment(id, request)
INFO:root:add route GET /api/blogs/{id} => api_get_blog(id)
INFO:root:add route GET /api/blogs/{id}/secret => api_get_private(id, request)
INFO:root:add route GET /api/users => api_get_users(page)
INFO:root:add route POST /api/users => api_register_user(email, name, passwd)
INFO:root:add route POST /api/blogs/{id}/secret => api_set_private(id, request)
INFO:root:add route POST /api/blogs/{id} => api_update_blog(id, request, name, summary, content, private)
INFO:root:add route POST /api/authenticate => authenticate(email, passwd)
INFO:root:add route GET /blog/{id} => get_blog(id)
INFO:root:add route GET / => index(request, page)
INFO:root:add route GET /manage/ => manage()
INFO:root:add route GET /manage/blogs => manage_blogs(page)
INFO:root:add route GET /manage/comments => manage_comments(page)
INFO:root:add route GET /manage/blogs/create => manage_create_blogs()
INFO:root:add route GET /manage/blogs/edit => manage_edit_blog(id)
INFO:root:add route GET /manage/users => manage_users(page)
INFO:root:add route GET /register => register()
INFO:root:add route GET /signin => signin()
INFO:root:add route GET /signout => signout(request)
INFO:root:add static /static/ => /home/admin/webapp/www/static
INFO:root:Server started at http://60.205.221.43:80...
INFO:root:Found model: User (table: users)
INFO:root:  Found mapping: id ==> <IntegerField, bigint:None>
INFO:root:  Found mapping: name ==> <StringField, varchar(100):None>
INFO:root:Found model: User (table: users)
INFO:root:  Found mapping: passwd ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: name ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: admin ==> <BooleanField, boolean:None>
INFO:root:  Found mapping: image ==> <StringField, varchar(500):None>
INFO:root:  Found mapping: created_at ==> <FloatField, real:None>
INFO:root:  Found mapping: email ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: id ==> <StringField, varchar(50):None>
INFO:root:Found model: Blog (table: blogs)
INFO:root:  Found mapping: content ==> <TextField, text:None>
INFO:root:  Found mapping: user_id ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: created_at ==> <FloatField, real:None>
INFO:root:  Found mapping: summary ==> <StringField, varchar(200):None>
INFO:root:  Found mapping: private ==> <BooleanField, boolean:None>
INFO:root:  Found mapping: user_name ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: name ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: user_image ==> <StringField, varchar(500):None>
INFO:root:  Found mapping: id ==> <StringField, varchat(50):None>
INFO:root:Found model: Comment (table: comments)
INFO:root:  Found mapping: content ==> <TextField, text:None>
INFO:root:  Found mapping: user_name ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: user_id ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: created_at ==> <FloatField, real:None>
INFO:root:  Found mapping: user_image ==> <StringField, varchar(500):None>
INFO:root:  Found mapping: blog_id ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: id ==> <StringField, varchar(50):None>
INFO:root:Create database connection pool...
INFO:root:Init jinja2...
INFO:root:Set jinja2 template path: /home/admin/webapp/www/templates
INFO:root:add route GET /api/blogs => api_blogs(request, page)
INFO:root:add route GET /api/comments => api_comments(page)
INFO:root:add route POST /api/blogs => api_create_blog(request, name, summary, content, private)
INFO:root:add route POST /api/blogs/{id}/comments => api_create_comment(id, request, content)
INFO:root:add route POST /api/blogs/{id}/delete => api_delete_blog(id, request)
INFO:root:add route POST /api/comments/{id}/delete => api_delete_comment(id, request)
INFO:root:add route GET /api/blogs/{id} => api_get_blog(id)
INFO:root:add route GET /api/blogs/{id}/secret => api_get_private(id, request)
INFO:root:add route GET /api/users => api_get_users(page)
INFO:root:add route POST /api/users => api_register_user(email, name, passwd)
INFO:root:add route POST /api/blogs/{id}/secret => api_set_private(id, request)
INFO:root:add route POST /api/blogs/{id} => api_update_blog(id, request, name, summary, content, private)
INFO:root:add route POST /api/authenticate => authenticate(email, passwd)
INFO:root:add route GET /blog/{id} => get_blog(id)
INFO:root:add route GET / => index(request, page)
INFO:root:add route GET /manage/ => manage()
INFO:root:add route GET /manage/blogs => manage_blogs(page)
INFO:root:add route GET /manage/comments => manage_comments(page)
INFO:root:add route GET /manage/blogs/create => manage_create_blogs()
INFO:root:add route GET /manage/blogs/edit => manage_edit_blog(id)
INFO:root:add route GET /manage/users => manage_users(page)
INFO:root:add route GET /register => register()
INFO:root:add route GET /signin => signin()
INFO:root:add route GET /signout => signout(request)
INFO:root:add static /static/ => /home/admin/webapp/www/static
INFO:root:Server started at http://60.205.221.43:80...
INFO:root:Request: GET /manage/blogs
INFO:root:Check user: GET /manage/blogs
INFO:root:SQL: select `id`, `passwd`, `name`, `admin`, `image`, `created_at`, `email` from `users` where `id`=?
INFO:root:Rows returned: 1
INFO:root:Set current user: m15801021028@163.com
INFO:root:Response handler...
INFO:root:Call with arg: {'page': '1'}
INFO:aiohttp.access:106.120.206.159 [22/May/2018:06:03:09 +0000] "GET /manage/blogs?t=1526958484756&page=1 HTTP/1.1" 200 7219 "http://www.lxiao.net:8000/manage/blogs?t=1526958484756&page=2" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/66.0.3359.181 Safari/537.36"
INFO:root:Request: GET /manage/image.gif
INFO:root:Check user: GET /manage/image.gif
INFO:root:SQL: select `id`, `passwd`, `name`, `admin`, `image`, `created_at`, `email` from `users` where `id`=?
INFO:root:Rows returned: 1
INFO:root:Set current user: m15801021028@163.com
INFO:root:Response handler...
INFO:aiohttp.access:106.120.206.159 [22/May/2018:06:03:09 +0000] "GET /manage/image.gif HTTP/1.1" 404 173 "http://www.lxiao.net:8000/manage/blogs?t=1526958484756&page=1" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/66.0.3359.181 Safari/537.36"
INFO:root:Request: GET /api/blogs
INFO:root:Check user: GET /api/blogs
INFO:root:SQL: select `id`, `passwd`, `name`, `admin`, `image`, `created_at`, `email` from `users` where `id`=?
INFO:root:Rows returned: 1
INFO:root:Set current user: m15801021028@163.com
INFO:root:Response handler...
INFO:root:Call with arg: {'page': '1', 'request': <Request GET /api/blogs >}
INFO:root:SQL: select count(id) _num_ from `blogs`
INFO:root:Rows returned: 1
INFO:root:SQL: select `id`, `content`, `user_id`, `created_at`, `summary`, `private`, `user_name`, `name`, `user_image` from `blogs` order by created_at desc limit ?, ?
INFO:root:Rows returned: 5
INFO:aiohttp.access:106.120.206.159 [22/May/2018:06:03:10 +0000] "GET /api/blogs?page=1 HTTP/1.1" 200 29702 "http://www.lxiao.net:8000/manage/blogs?t=1526958484756&page=1" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/66.0.3359.181 Safari/537.36"
INFO:root:Found model: User (table: users)
INFO:root:  Found mapping: id ==> <IntegerField, bigint:None>
INFO:root:  Found mapping: name ==> <StringField, varchar(100):None>
INFO:root:Found model: User (table: users)
INFO:root:  Found mapping: id ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: admin ==> <BooleanField, boolean:None>
INFO:root:  Found mapping: passwd ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: created_at ==> <FloatField, real:None>
INFO:root:  Found mapping: email ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: image ==> <StringField, varchar(500):None>
INFO:root:  Found mapping: name ==> <StringField, varchar(50):None>
INFO:root:Found model: Blog (table: blogs)
INFO:root:  Found mapping: private ==> <BooleanField, boolean:None>
INFO:root:  Found mapping: summary ==> <StringField, varchar(200):None>
INFO:root:  Found mapping: created_at ==> <FloatField, real:None>
INFO:root:  Found mapping: user_id ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: name ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: id ==> <StringField, varchat(50):None>
INFO:root:  Found mapping: user_name ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: user_image ==> <StringField, varchar(500):None>
INFO:root:  Found mapping: content ==> <TextField, text:None>
INFO:root:Found model: Comment (table: comments)
INFO:root:  Found mapping: id ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: user_id ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: user_image ==> <StringField, varchar(500):None>
INFO:root:  Found mapping: content ==> <TextField, text:None>
INFO:root:  Found mapping: blog_id ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: created_at ==> <FloatField, real:None>
INFO:root:  Found mapping: user_name ==> <StringField, varchar(50):None>
INFO:root:Create database connection pool...
INFO:root:Init jinja2...
INFO:root:Set jinja2 template path: /home/admin/webapp/www/templates
INFO:root:add route GET /api/blogs => api_blogs(request, page)
INFO:root:add route GET /api/comments => api_comments(page)
INFO:root:add route POST /api/blogs => api_create_blog(request, name, summary, content, private)
INFO:root:add route POST /api/blogs/{id}/comments => api_create_comment(id, request, content)
INFO:root:add route POST /api/blogs/{id}/delete => api_delete_blog(id, request)
INFO:root:add route POST /api/comments/{id}/delete => api_delete_comment(id, request)
INFO:root:add route GET /api/blogs/{id} => api_get_blog(id)
INFO:root:add route GET /api/blogs/{id}/secret => api_get_private(id, request)
INFO:root:add route GET /api/users => api_get_users(page)
INFO:root:add route POST /api/users => api_register_user(email, name, passwd)
INFO:root:add route POST /api/blogs/{id}/secret => api_set_private(id, request)
INFO:root:add route POST /api/blogs/{id} => api_update_blog(id, request, name, summary, content, private)
INFO:root:add route POST /api/authenticate => authenticate(email, passwd)
INFO:root:add route GET /blog/{id} => get_blog(id)
INFO:root:add route GET / => index(request, page)
INFO:root:add route GET /manage/ => manage()
INFO:root:add route GET /manage/blogs => manage_blogs(page)
INFO:root:add route GET /manage/comments => manage_comments(page)
INFO:root:add route GET /manage/blogs/create => manage_create_blogs()
INFO:root:add route GET /manage/blogs/edit => manage_edit_blog(id)
INFO:root:add route GET /manage/users => manage_users(page)
INFO:root:add route GET /register => register()
INFO:root:add route GET /signin => signin()
INFO:root:add route GET /signout => signout(request)
INFO:root:add static /static/ => /home/admin/webapp/www/static
INFO:root:Server started at http://60.205.221.43:80...
INFO:root:Found model: User (table: users)
INFO:root:  Found mapping: id ==> <IntegerField, bigint:None>
INFO:root:  Found mapping: name ==> <StringField, varchar(100):None>
INFO:root:Found model: User (table: users)
INFO:root:  Found mapping: id ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: email ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: admin ==> <BooleanField, boolean:None>
INFO:root:  Found mapping: passwd ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: created_at ==> <FloatField, real:None>
INFO:root:  Found mapping: name ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: image ==> <StringField, varchar(500):None>
INFO:root:Found model: Blog (table: blogs)
INFO:root:  Found mapping: id ==> <StringField, varchat(50):None>
INFO:root:  Found mapping: summary ==> <StringField, varchar(200):None>
INFO:root:  Found mapping: private ==> <BooleanField, boolean:None>
INFO:root:  Found mapping: user_image ==> <StringField, varchar(500):None>
INFO:root:  Found mapping: user_name ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: user_id ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: created_at ==> <FloatField, real:None>
INFO:root:  Found mapping: name ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: content ==> <TextField, text:None>
INFO:root:Found model: Comment (table: comments)
INFO:root:  Found mapping: id ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: blog_id ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: content ==> <TextField, text:None>
INFO:root:  Found mapping: user_name ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: user_id ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: created_at ==> <FloatField, real:None>
INFO:root:  Found mapping: user_image ==> <StringField, varchar(500):None>
INFO:root:Create database connection pool...
INFO:root:Init jinja2...
INFO:root:Set jinja2 template path: /home/admin/webapp/www/templates
INFO:root:add route GET /api/blogs => api_blogs(request, page)
INFO:root:add route GET /api/comments => api_comments(page)
INFO:root:add route POST /api/blogs => api_create_blog(request, name, summary, content, private)
INFO:root:add route POST /api/blogs/{id}/comments => api_create_comment(id, request, content)
INFO:root:add route POST /api/blogs/{id}/delete => api_delete_blog(id, request)
INFO:root:add route POST /api/comments/{id}/delete => api_delete_comment(id, request)
INFO:root:add route GET /api/blogs/{id} => api_get_blog(id)
INFO:root:add route GET /api/blogs/{id}/secret => api_get_private(id, request)
INFO:root:add route GET /api/users => api_get_users(page)
INFO:root:add route POST /api/users => api_register_user(email, name, passwd)
INFO:root:add route POST /api/blogs/{id}/secret => api_set_private(id, request)
INFO:root:add route POST /api/blogs/{id} => api_update_blog(id, request, name, summary, content, private)
INFO:root:add route POST /api/authenticate => authenticate(email, passwd)
INFO:root:add route GET /blog/{id} => get_blog(id)
INFO:root:add route GET / => index(request, page)
INFO:root:add route GET /manage/ => manage()
INFO:root:add route GET /manage/blogs => manage_blogs(page)
INFO:root:add route GET /manage/comments => manage_comments(page)
INFO:root:add route GET /manage/blogs/create => manage_create_blogs()
INFO:root:add route GET /manage/blogs/edit => manage_edit_blog(id)
INFO:root:add route GET /manage/users => manage_users(page)
INFO:root:add route GET /register => register()
INFO:root:add route GET /signin => signin()
INFO:root:add route GET /signout => signout(request)
INFO:root:add static /static/ => /home/admin/webapp/www/static
INFO:root:Server started at http://60.205.221.43:80...
INFO:root:Found model: User (table: users)
INFO:root:  Found mapping: id ==> <IntegerField, bigint:None>
INFO:root:  Found mapping: name ==> <StringField, varchar(100):None>
INFO:root:Found model: User (table: users)
INFO:root:  Found mapping: email ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: id ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: admin ==> <BooleanField, boolean:None>
INFO:root:  Found mapping: passwd ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: image ==> <StringField, varchar(500):None>
INFO:root:  Found mapping: created_at ==> <FloatField, real:None>
INFO:root:  Found mapping: name ==> <StringField, varchar(50):None>
INFO:root:Found model: Blog (table: blogs)
INFO:root:  Found mapping: summary ==> <StringField, varchar(200):None>
INFO:root:  Found mapping: created_at ==> <FloatField, real:None>
INFO:root:  Found mapping: user_name ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: name ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: id ==> <StringField, varchat(50):None>
INFO:root:  Found mapping: user_id ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: private ==> <BooleanField, boolean:None>
INFO:root:  Found mapping: content ==> <TextField, text:None>
INFO:root:  Found mapping: user_image ==> <StringField, varchar(500):None>
INFO:root:Found model: Comment (table: comments)
INFO:root:  Found mapping: id ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: user_id ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: blog_id ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: content ==> <TextField, text:None>
INFO:root:  Found mapping: created_at ==> <FloatField, real:None>
INFO:root:  Found mapping: user_name ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: user_image ==> <StringField, varchar(500):None>
INFO:root:Create database connection pool...
INFO:root:Init jinja2...
INFO:root:Set jinja2 template path: /home/admin/webapp/www/templates
INFO:root:add route GET /api/blogs => api_blogs(request, page)
INFO:root:add route GET /api/comments => api_comments(page)
INFO:root:add route POST /api/blogs => api_create_blog(request, name, summary, content, private)
INFO:root:add route POST /api/blogs/{id}/comments => api_create_comment(id, request, content)
INFO:root:add route POST /api/blogs/{id}/delete => api_delete_blog(id, request)
INFO:root:add route POST /api/comments/{id}/delete => api_delete_comment(id, request)
INFO:root:add route GET /api/blogs/{id} => api_get_blog(id)
INFO:root:add route GET /api/blogs/{id}/secret => api_get_private(id, request)
INFO:root:add route GET /api/users => api_get_users(page)
INFO:root:add route POST /api/users => api_register_user(email, name, passwd)
INFO:root:add route POST /api/blogs/{id}/secret => api_set_private(id, request)
INFO:root:add route POST /api/blogs/{id} => api_update_blog(id, request, name, summary, content, private)
INFO:root:add route POST /api/authenticate => authenticate(email, passwd)
INFO:root:add route GET /blog/{id} => get_blog(id)
INFO:root:add route GET / => index(request, page)
INFO:root:add route GET /manage/ => manage()
INFO:root:add route GET /manage/blogs => manage_blogs(page)
INFO:root:add route GET /manage/comments => manage_comments(page)
INFO:root:add route GET /manage/blogs/create => manage_create_blogs()
INFO:root:add route GET /manage/blogs/edit => manage_edit_blog(id)
INFO:root:add route GET /manage/users => manage_users(page)
INFO:root:add route GET /register => register()
INFO:root:add route GET /signin => signin()
INFO:root:add route GET /signout => signout(request)
INFO:root:add static /static/ => /home/admin/webapp/www/static
INFO:root:Server started at http://60.205.221.43:80...
INFO:root:Request: GET /manage/blogs
INFO:root:Check user: GET /manage/blogs
INFO:root:SQL: select `id`, `email`, `admin`, `passwd`, `image`, `created_at`, `name` from `users` where `id`=?
INFO:root:Rows returned: 1
INFO:root:Set current user: m15801021028@163.com
INFO:root:Response handler...
INFO:root:Call with arg: {'page': '1'}
INFO:aiohttp.access:106.120.206.159 [22/May/2018:06:08:15 +0000] "GET /manage/blogs?t=1526958484756&page=1 HTTP/1.1" 200 7184 "http://www.lxiao.net:8000/manage/blogs?t=1526958484756&page=2" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/66.0.3359.181 Safari/537.36"
INFO:root:Request: GET /manage/image.gif
INFO:root:Check user: GET /manage/image.gif
INFO:root:SQL: select `id`, `email`, `admin`, `passwd`, `image`, `created_at`, `name` from `users` where `id`=?
INFO:root:Rows returned: 1
INFO:root:Set current user: m15801021028@163.com
INFO:root:Response handler...
INFO:aiohttp.access:106.120.206.159 [22/May/2018:06:08:15 +0000] "GET /manage/image.gif HTTP/1.1" 404 173 "http://www.lxiao.net:8000/manage/blogs?t=1526958484756&page=1" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/66.0.3359.181 Safari/537.36"
INFO:root:Request: GET /api/blogs
INFO:root:Check user: GET /api/blogs
INFO:root:SQL: select `id`, `email`, `admin`, `passwd`, `image`, `created_at`, `name` from `users` where `id`=?
INFO:root:Rows returned: 1
INFO:root:Set current user: m15801021028@163.com
INFO:root:Response handler...
INFO:root:Call with arg: {'page': '1', 'request': <Request GET /api/blogs >}
INFO:root:SQL: select count(id) _num_ from `blogs`
INFO:root:Rows returned: 1
INFO:root:SQL: select `id`, `summary`, `created_at`, `user_name`, `name`, `user_id`, `private`, `content`, `user_image` from `blogs` order by created_at desc limit ?, ?
INFO:root:Rows returned: 5
INFO:aiohttp.access:106.120.206.159 [22/May/2018:06:08:15 +0000] "GET /api/blogs?page=1 HTTP/1.1" 200 29702 "http://www.lxiao.net:8000/manage/blogs?t=1526958484756&page=1" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/66.0.3359.181 Safari/537.36"
INFO:root:Request: POST /api/blogs/001526633743922ed51f806d7bc4231abdf715ea1b58f46000/secret
INFO:root:Check user: POST /api/blogs/001526633743922ed51f806d7bc4231abdf715ea1b58f46000/secret
INFO:root:SQL: select `id`, `email`, `admin`, `passwd`, `image`, `created_at`, `name` from `users` where `id`=?
INFO:root:Rows returned: 1
INFO:root:Set current user: m15801021028@163.com
INFO:root:Response handler...
INFO:root:Call with arg: {'id': '001526633743922ed51f806d7bc4231abdf715ea1b58f46000', 'request': <Request POST /api/blogs/001526633743922ed51f806d7bc4231abdf715ea1b58f46000/secret >}
INFO:root:SQL: select `id`, `summary`, `created_at`, `user_name`, `name`, `user_id`, `private`, `content`, `user_image` from `blogs` where `id`=?
INFO:root:Rows returned: 1
INFO:root:SQL: update `blogs` set `summary`=?, `created_at`=?, `user_name`=?, `name`=?, `user_id`=?, `private`=?, `content`=?, `user_image`=? where `id`=?
INFO:aiohttp.access:106.120.206.159 [22/May/2018:06:08:20 +0000] "POST /api/blogs/001526633743922ed51f806d7bc4231abdf715ea1b58f46000/secret HTTP/1.1" 200 151 "http://www.lxiao.net:8000/manage/blogs?t=1526958484756&page=1" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/66.0.3359.181 Safari/537.36"
INFO:root:Request: GET /manage/blogs
INFO:root:Check user: GET /manage/blogs
INFO:root:SQL: select `id`, `email`, `admin`, `passwd`, `image`, `created_at`, `name` from `users` where `id`=?
INFO:root:Rows returned: 1
INFO:root:Set current user: m15801021028@163.com
INFO:root:Response handler...
INFO:root:Call with arg: {'page': '1'}
INFO:aiohttp.access:106.120.206.159 [22/May/2018:06:08:20 +0000] "GET /manage/blogs?t=1526958484756&page=1&t=1526969302001 HTTP/1.1" 200 7184 "http://www.lxiao.net:8000/manage/blogs?t=1526958484756&page=1" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/66.0.3359.181 Safari/537.36"
INFO:root:Request: GET /manage/image.gif
INFO:root:Check user: GET /manage/image.gif
INFO:root:SQL: select `id`, `email`, `admin`, `passwd`, `image`, `created_at`, `name` from `users` where `id`=?
INFO:root:Rows returned: 1
INFO:root:Set current user: m15801021028@163.com
INFO:root:Response handler...
INFO:aiohttp.access:106.120.206.159 [22/May/2018:06:08:20 +0000] "GET /manage/image.gif HTTP/1.1" 404 173 "http://www.lxiao.net:8000/manage/blogs?t=1526958484756&page=1&t=1526969302001" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/66.0.3359.181 Safari/537.36"
INFO:root:Request: GET /api/blogs
INFO:root:Check user: GET /api/blogs
INFO:root:SQL: select `id`, `email`, `admin`, `passwd`, `image`, `created_at`, `name` from `users` where `id`=?
INFO:root:Rows returned: 1
INFO:root:Set current user: m15801021028@163.com
INFO:root:Response handler...
INFO:root:Call with arg: {'page': '1', 'request': <Request GET /api/blogs >}
INFO:root:SQL: select count(id) _num_ from `blogs`
INFO:root:Rows returned: 1
INFO:root:SQL: select `id`, `summary`, `created_at`, `user_name`, `name`, `user_id`, `private`, `content`, `user_image` from `blogs` order by created_at desc limit ?, ?
INFO:root:Rows returned: 5
INFO:aiohttp.access:106.120.206.159 [22/May/2018:06:08:20 +0000] "GET /api/blogs?page=1 HTTP/1.1" 200 29702 "http://www.lxiao.net:8000/manage/blogs?t=1526958484756&page=1&t=1526969302001" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/66.0.3359.181 Safari/537.36"
INFO:root:Found model: User (table: users)
INFO:root:  Found mapping: id ==> <IntegerField, bigint:None>
INFO:root:  Found mapping: name ==> <StringField, varchar(100):None>
INFO:root:Found model: User (table: users)
INFO:root:  Found mapping: id ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: admin ==> <BooleanField, boolean:None>
INFO:root:  Found mapping: image ==> <StringField, varchar(500):None>
INFO:root:  Found mapping: created_at ==> <FloatField, real:None>
INFO:root:  Found mapping: email ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: passwd ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: name ==> <StringField, varchar(50):None>
INFO:root:Found model: Blog (table: blogs)
INFO:root:  Found mapping: content ==> <TextField, text:None>
INFO:root:  Found mapping: created_at ==> <FloatField, real:None>
INFO:root:  Found mapping: summary ==> <StringField, varchar(200):None>
INFO:root:  Found mapping: user_id ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: user_name ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: private ==> <BooleanField, boolean:None>
INFO:root:  Found mapping: id ==> <StringField, varchat(50):None>
INFO:root:  Found mapping: user_image ==> <StringField, varchar(500):None>
INFO:root:  Found mapping: name ==> <StringField, varchar(50):None>
INFO:root:Found model: Comment (table: comments)
INFO:root:  Found mapping: id ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: user_image ==> <StringField, varchar(500):None>
INFO:root:  Found mapping: content ==> <TextField, text:None>
INFO:root:  Found mapping: created_at ==> <FloatField, real:None>
INFO:root:  Found mapping: blog_id ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: user_name ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: user_id ==> <StringField, varchar(50):None>
INFO:root:Create database connection pool...
INFO:root:Init jinja2...
INFO:root:Set jinja2 template path: /home/admin/webapp/www/templates
INFO:root:add route GET /api/blogs => api_blogs(request, page)
INFO:root:add route GET /api/comments => api_comments(page)
INFO:root:add route POST /api/blogs => api_create_blog(request, name, summary, content, private)
INFO:root:add route POST /api/blogs/{id}/comments => api_create_comment(id, request, content)
INFO:root:add route POST /api/blogs/{id}/delete => api_delete_blog(id, request)
INFO:root:add route POST /api/comments/{id}/delete => api_delete_comment(id, request)
INFO:root:add route GET /api/blogs/{id} => api_get_blog(id)
INFO:root:add route GET /api/blogs/{id}/secret => api_get_private(id, request)
INFO:root:add route GET /api/users => api_get_users(page)
INFO:root:add route POST /api/users => api_register_user(email, name, passwd)
INFO:root:add route POST /api/blogs/{id}/secret => api_set_private(id, request)
INFO:root:add route POST /api/blogs/{id} => api_update_blog(id, request, name, summary, content, private)
INFO:root:add route POST /api/authenticate => authenticate(email, passwd)
INFO:root:add route GET /blog/{id} => get_blog(id)
INFO:root:add route GET / => index(request, page)
INFO:root:add route GET /manage/ => manage()
INFO:root:add route GET /manage/blogs => manage_blogs(page)
INFO:root:add route GET /manage/comments => manage_comments(page)
INFO:root:add route GET /manage/blogs/create => manage_create_blogs()
INFO:root:add route GET /manage/blogs/edit => manage_edit_blog(id)
INFO:root:add route GET /manage/users => manage_users(page)
INFO:root:add route GET /register => register()
INFO:root:add route GET /signin => signin()
INFO:root:add route GET /signout => signout(request)
INFO:root:add static /static/ => /home/admin/webapp/www/static
INFO:root:Server started at http://60.205.221.43:80...
INFO:root:Request: GET /manage/blogs
INFO:root:Check user: GET /manage/blogs
INFO:root:SQL: select `id`, `admin`, `image`, `created_at`, `email`, `passwd`, `name` from `users` where `id`=?
INFO:root:Rows returned: 1
INFO:root:Set current user: m15801021028@163.com
INFO:root:Response handler...
INFO:root:Call with arg: {'page': '1'}
INFO:aiohttp.access:106.120.206.159 [22/May/2018:06:08:51 +0000] "GET /manage/blogs?t=1526958484756&page=1&t=1526969302001 HTTP/1.1" 200 7162 "http://www.lxiao.net:8000/manage/blogs?t=1526958484756&page=1" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/66.0.3359.181 Safari/537.36"
INFO:root:Request: GET /manage/image.gif
INFO:root:Check user: GET /manage/image.gif
INFO:root:SQL: select `id`, `admin`, `image`, `created_at`, `email`, `passwd`, `name` from `users` where `id`=?
INFO:root:Rows returned: 1
INFO:root:Set current user: m15801021028@163.com
INFO:root:Response handler...
INFO:aiohttp.access:106.120.206.159 [22/May/2018:06:08:51 +0000] "GET /manage/image.gif HTTP/1.1" 404 173 "http://www.lxiao.net:8000/manage/blogs?t=1526958484756&page=1&t=1526969302001" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/66.0.3359.181 Safari/537.36"
INFO:root:Request: GET /api/blogs
INFO:root:Check user: GET /api/blogs
INFO:root:SQL: select `id`, `admin`, `image`, `created_at`, `email`, `passwd`, `name` from `users` where `id`=?
INFO:root:Rows returned: 1
INFO:root:Set current user: m15801021028@163.com
INFO:root:Response handler...
INFO:root:Call with arg: {'page': '1', 'request': <Request GET /api/blogs >}
INFO:root:SQL: select count(id) _num_ from `blogs`
INFO:root:Rows returned: 1
INFO:root:SQL: select `id`, `content`, `created_at`, `summary`, `user_id`, `user_name`, `private`, `user_image`, `name` from `blogs` order by created_at desc limit ?, ?
INFO:root:Rows returned: 5
INFO:aiohttp.access:106.120.206.159 [22/May/2018:06:08:51 +0000] "GET /api/blogs?page=1 HTTP/1.1" 200 29702 "http://www.lxiao.net:8000/manage/blogs?t=1526958484756&page=1&t=1526969302001" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/66.0.3359.181 Safari/537.36"
INFO:root:Request: POST /api/blogs/001525919711164b6d2cea4fb824990b5da4573c830c651000/secret
INFO:root:Check user: POST /api/blogs/001525919711164b6d2cea4fb824990b5da4573c830c651000/secret
INFO:root:SQL: select `id`, `admin`, `image`, `created_at`, `email`, `passwd`, `name` from `users` where `id`=?
INFO:root:Rows returned: 1
INFO:root:Set current user: m15801021028@163.com
INFO:root:Response handler...
INFO:root:Call with arg: {'id': '001525919711164b6d2cea4fb824990b5da4573c830c651000', 'request': <Request POST /api/blogs/001525919711164b6d2cea4fb824990b5da4573c830c651000/secret >}
INFO:root:SQL: select `id`, `content`, `created_at`, `summary`, `user_id`, `user_name`, `private`, `user_image`, `name` from `blogs` where `id`=?
INFO:root:Rows returned: 1
INFO:root:SQL: update `blogs` set `content`=?, `created_at`=?, `summary`=?, `user_id`=?, `user_name`=?, `private`=?, `user_image`=?, `name`=? where `id`=?
INFO:aiohttp.access:106.120.206.159 [22/May/2018:06:08:54 +0000] "POST /api/blogs/001525919711164b6d2cea4fb824990b5da4573c830c651000/secret HTTP/1.1" 200 151 "http://www.lxiao.net:8000/manage/blogs?t=1526958484756&page=1&t=1526969302001" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/66.0.3359.181 Safari/537.36"
INFO:root:Request: GET /manage/blogs
INFO:root:Check user: GET /manage/blogs
INFO:root:SQL: select `id`, `admin`, `image`, `created_at`, `email`, `passwd`, `name` from `users` where `id`=?
INFO:root:Rows returned: 1
INFO:root:Set current user: m15801021028@163.com
INFO:root:Response handler...
INFO:root:Call with arg: {'page': '1'}
INFO:aiohttp.access:106.120.206.159 [22/May/2018:06:08:54 +0000] "GET /manage/blogs?t=1526958484756&page=1&t=1526969302001&t=1526969336087 HTTP/1.1" 200 7162 "http://www.lxiao.net:8000/manage/blogs?t=1526958484756&page=1&t=1526969302001" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/66.0.3359.181 Safari/537.36"
INFO:root:Request: GET /manage/image.gif
INFO:root:Check user: GET /manage/image.gif
INFO:root:SQL: select `id`, `admin`, `image`, `created_at`, `email`, `passwd`, `name` from `users` where `id`=?
INFO:root:Rows returned: 1
INFO:root:Set current user: m15801021028@163.com
INFO:root:Response handler...
INFO:aiohttp.access:106.120.206.159 [22/May/2018:06:08:54 +0000] "GET /manage/image.gif HTTP/1.1" 404 173 "http://www.lxiao.net:8000/manage/blogs?t=1526958484756&page=1&t=1526969302001&t=1526969336087" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/66.0.3359.181 Safari/537.36"
INFO:root:Request: GET /api/blogs
INFO:root:Check user: GET /api/blogs
INFO:root:SQL: select `id`, `admin`, `image`, `created_at`, `email`, `passwd`, `name` from `users` where `id`=?
INFO:root:Rows returned: 1
INFO:root:Set current user: m15801021028@163.com
INFO:root:Response handler...
INFO:root:Call with arg: {'page': '1', 'request': <Request GET /api/blogs >}
INFO:root:SQL: select count(id) _num_ from `blogs`
INFO:root:Rows returned: 1
INFO:root:SQL: select `id`, `content`, `created_at`, `summary`, `user_id`, `user_name`, `private`, `user_image`, `name` from `blogs` order by created_at desc limit ?, ?
INFO:root:Rows returned: 5
INFO:aiohttp.access:106.120.206.159 [22/May/2018:06:08:54 +0000] "GET /api/blogs?page=1 HTTP/1.1" 200 29702 "http://www.lxiao.net:8000/manage/blogs?t=1526958484756&page=1&t=1526969302001&t=1526969336087" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/66.0.3359.181 Safari/537.36"
INFO:root:Request: GET /manage/blogs
INFO:root:Check user: GET /manage/blogs
INFO:root:SQL: select `id`, `admin`, `image`, `created_at`, `email`, `passwd`, `name` from `users` where `id`=?
INFO:root:Rows returned: 1
INFO:root:Set current user: m15801021028@163.com
INFO:root:Response handler...
INFO:root:Call with arg: {'page': '2'}
INFO:aiohttp.access:106.120.206.159 [22/May/2018:06:08:56 +0000] "GET /manage/blogs?t=1526969336087&page=2 HTTP/1.1" 200 7162 "http://www.lxiao.net:8000/manage/blogs?t=1526958484756&page=1&t=1526969302001&t=1526969336087" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/66.0.3359.181 Safari/537.36"
INFO:root:Request: GET /manage/image.gif
INFO:root:Check user: GET /manage/image.gif
INFO:root:SQL: select `id`, `admin`, `image`, `created_at`, `email`, `passwd`, `name` from `users` where `id`=?
INFO:root:Rows returned: 1
INFO:root:Set current user: m15801021028@163.com
INFO:root:Response handler...
INFO:aiohttp.access:106.120.206.159 [22/May/2018:06:08:56 +0000] "GET /manage/image.gif HTTP/1.1" 404 173 "http://www.lxiao.net:8000/manage/blogs?t=1526969336087&page=2" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/66.0.3359.181 Safari/537.36"
INFO:root:Request: GET /api/blogs
INFO:root:Check user: GET /api/blogs
INFO:root:SQL: select `id`, `admin`, `image`, `created_at`, `email`, `passwd`, `name` from `users` where `id`=?
INFO:root:Rows returned: 1
INFO:root:Set current user: m15801021028@163.com
INFO:root:Response handler...
INFO:root:Call with arg: {'page': '2', 'request': <Request GET /api/blogs >}
INFO:root:SQL: select count(id) _num_ from `blogs`
INFO:root:Rows returned: 1
INFO:root:SQL: select `id`, `content`, `created_at`, `summary`, `user_id`, `user_name`, `private`, `user_image`, `name` from `blogs` order by created_at desc limit ?, ?
INFO:root:Rows returned: 5
INFO:aiohttp.access:106.120.206.159 [22/May/2018:06:08:57 +0000] "GET /api/blogs?page=2 HTTP/1.1" 200 16891 "http://www.lxiao.net:8000/manage/blogs?t=1526969336087&page=2" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/66.0.3359.181 Safari/537.36"
INFO:root:Request: POST /api/blogs/0015242104340470cdbb3deefdd47c39b4c22a2e5184aea000/secret
INFO:root:Check user: POST /api/blogs/0015242104340470cdbb3deefdd47c39b4c22a2e5184aea000/secret
INFO:root:SQL: select `id`, `admin`, `image`, `created_at`, `email`, `passwd`, `name` from `users` where `id`=?
INFO:root:Rows returned: 1
INFO:root:Set current user: m15801021028@163.com
INFO:root:Response handler...
INFO:root:Call with arg: {'id': '0015242104340470cdbb3deefdd47c39b4c22a2e5184aea000', 'request': <Request POST /api/blogs/0015242104340470cdbb3deefdd47c39b4c22a2e5184aea000/secret >}
INFO:root:SQL: select `id`, `content`, `created_at`, `summary`, `user_id`, `user_name`, `private`, `user_image`, `name` from `blogs` where `id`=?
INFO:root:Rows returned: 1
INFO:root:SQL: update `blogs` set `content`=?, `created_at`=?, `summary`=?, `user_id`=?, `user_name`=?, `private`=?, `user_image`=?, `name`=? where `id`=?
INFO:aiohttp.access:106.120.206.159 [22/May/2018:06:08:58 +0000] "POST /api/blogs/0015242104340470cdbb3deefdd47c39b4c22a2e5184aea000/secret HTTP/1.1" 200 151 "http://www.lxiao.net:8000/manage/blogs?t=1526969336087&page=2" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/66.0.3359.181 Safari/537.36"
INFO:root:Request: GET /manage/blogs
INFO:root:Check user: GET /manage/blogs
INFO:root:SQL: select `id`, `admin`, `image`, `created_at`, `email`, `passwd`, `name` from `users` where `id`=?
INFO:root:Rows returned: 1
INFO:root:Set current user: m15801021028@163.com
INFO:root:Response handler...
INFO:root:Call with arg: {'page': '2'}
INFO:aiohttp.access:106.120.206.159 [22/May/2018:06:08:58 +0000] "GET /manage/blogs?t=1526969336087&page=2&t=1526969340422 HTTP/1.1" 200 7162 "http://www.lxiao.net:8000/manage/blogs?t=1526969336087&page=2" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/66.0.3359.181 Safari/537.36"
INFO:root:Request: GET /manage/image.gif
INFO:root:Check user: GET /manage/image.gif
INFO:root:SQL: select `id`, `admin`, `image`, `created_at`, `email`, `passwd`, `name` from `users` where `id`=?
INFO:root:Rows returned: 1
INFO:root:Set current user: m15801021028@163.com
INFO:root:Response handler...
INFO:aiohttp.access:106.120.206.159 [22/May/2018:06:08:58 +0000] "GET /manage/image.gif HTTP/1.1" 404 173 "http://www.lxiao.net:8000/manage/blogs?t=1526969336087&page=2&t=1526969340422" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/66.0.3359.181 Safari/537.36"
INFO:root:Request: GET /api/blogs
INFO:root:Check user: GET /api/blogs
INFO:root:SQL: select `id`, `admin`, `image`, `created_at`, `email`, `passwd`, `name` from `users` where `id`=?
INFO:root:Rows returned: 1
INFO:root:Set current user: m15801021028@163.com
INFO:root:Response handler...
INFO:root:Call with arg: {'page': '2', 'request': <Request GET /api/blogs >}
INFO:root:SQL: select count(id) _num_ from `blogs`
INFO:root:Rows returned: 1
INFO:root:SQL: select `id`, `content`, `created_at`, `summary`, `user_id`, `user_name`, `private`, `user_image`, `name` from `blogs` order by created_at desc limit ?, ?
INFO:root:Rows returned: 5
INFO:aiohttp.access:106.120.206.159 [22/May/2018:06:08:59 +0000] "GET /api/blogs?page=2 HTTP/1.1" 200 16888 "http://www.lxiao.net:8000/manage/blogs?t=1526969336087&page=2&t=1526969340422" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/66.0.3359.181 Safari/537.36"
INFO:root:Request: GET /manage/blogs
INFO:root:Check user: GET /manage/blogs
INFO:root:SQL: select `id`, `admin`, `image`, `created_at`, `email`, `passwd`, `name` from `users` where `id`=?
INFO:root:Rows returned: 1
INFO:root:Set current user: m15801021028@163.com
INFO:root:Response handler...
INFO:root:Call with arg: {'page': '1'}
INFO:aiohttp.access:106.120.206.159 [22/May/2018:06:09:01 +0000] "GET /manage/blogs?t=1526969340422&page=1 HTTP/1.1" 200 7162 "http://www.lxiao.net:8000/manage/blogs?t=1526969336087&page=2&t=1526969340422" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/66.0.3359.181 Safari/537.36"
INFO:root:Request: GET /manage/image.gif
INFO:root:Check user: GET /manage/image.gif
INFO:root:SQL: select `id`, `admin`, `image`, `created_at`, `email`, `passwd`, `name` from `users` where `id`=?
INFO:root:Rows returned: 1
INFO:root:Set current user: m15801021028@163.com
INFO:root:Response handler...
INFO:aiohttp.access:106.120.206.159 [22/May/2018:06:09:01 +0000] "GET /manage/image.gif HTTP/1.1" 404 173 "http://www.lxiao.net:8000/manage/blogs?t=1526969340422&page=1" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/66.0.3359.181 Safari/537.36"
INFO:root:Request: GET /api/blogs
INFO:root:Check user: GET /api/blogs
INFO:root:SQL: select `id`, `admin`, `image`, `created_at`, `email`, `passwd`, `name` from `users` where `id`=?
INFO:root:Rows returned: 1
INFO:root:Set current user: m15801021028@163.com
INFO:root:Response handler...
INFO:root:Call with arg: {'page': '1', 'request': <Request GET /api/blogs >}
INFO:root:SQL: select count(id) _num_ from `blogs`
INFO:root:Rows returned: 1
INFO:root:SQL: select `id`, `content`, `created_at`, `summary`, `user_id`, `user_name`, `private`, `user_image`, `name` from `blogs` order by created_at desc limit ?, ?
INFO:root:Rows returned: 5
INFO:aiohttp.access:106.120.206.159 [22/May/2018:06:09:01 +0000] "GET /api/blogs?page=1 HTTP/1.1" 200 29702 "http://www.lxiao.net:8000/manage/blogs?t=1526969340422&page=1" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/66.0.3359.181 Safari/537.36"
INFO:root:Request: GET /signout
INFO:root:Check user: GET /signout
INFO:root:SQL: select `id`, `admin`, `image`, `created_at`, `email`, `passwd`, `name` from `users` where `id`=?
INFO:root:Rows returned: 1
INFO:root:Set current user: m15801021028@163.com
INFO:root:Response handler...
INFO:root:Call with arg: {'request': <Request GET /signout >}
INFO:root:User signed out.
INFO:aiohttp.access:106.120.206.159 [22/May/2018:06:09:08 +0000] "GET /signout HTTP/1.1" 302 300 "http://www.lxiao.net:8000/manage/blogs?t=1526969340422&page=1" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/66.0.3359.181 Safari/537.36"
INFO:root:Request: GET /manage/blogs
INFO:root:Check user: GET /manage/blogs
INFO:aiohttp.access:106.120.206.159 [22/May/2018:06:09:08 +0000] "GET /manage/blogs?t=1526969340422&page=1 HTTP/1.1" 302 184 "http://www.lxiao.net:8000/manage/blogs?t=1526969340422&page=1" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/66.0.3359.181 Safari/537.36"
INFO:root:Request: GET /signin
INFO:root:Check user: GET /signin
INFO:root:Response handler...
INFO:root:Call with arg: {}
INFO:aiohttp.access:106.120.206.159 [22/May/2018:06:09:08 +0000] "GET /signin HTTP/1.1" 200 2569 "http://www.lxiao.net:8000/manage/blogs?t=1526969340422&page=1" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/66.0.3359.181 Safari/537.36"
INFO:root:Request: GET /
INFO:root:Check user: GET /
INFO:root:Response handler...
INFO:root:Call with arg: {'request': <Request GET / >}
INFO:aiohttp.access:106.120.206.159 [22/May/2018:06:09:12 +0000] "GET / HTTP/1.1" 200 5383 "-" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/66.0.3359.181 Safari/537.36"
INFO:root:Request: GET /api/blogs
INFO:root:Check user: GET /api/blogs
INFO:root:Response handler...
INFO:root:Call with arg: {'page': '1', 'request': <Request GET /api/blogs >}
INFO:root:SQL: select count(id) _num_ from `blogs` where private is null or private is false
INFO:root:Rows returned: 1
INFO:root:SQL: select `id`, `content`, `created_at`, `summary`, `user_id`, `user_name`, `private`, `user_image`, `name` from `blogs` where private is null or private is false order by created_at desc limit ?, ?
INFO:root:Rows returned: 5
INFO:aiohttp.access:106.120.206.159 [22/May/2018:06:09:12 +0000] "GET /api/blogs?page=1 HTTP/1.1" 200 33815 "http://www.lxiao.net:8000/" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/66.0.3359.181 Safari/537.36"
INFO:root:Request: GET /
INFO:root:Check user: GET /
INFO:root:Response handler...
INFO:root:Call with arg: {'page': '2', 'request': <Request GET / >}
INFO:aiohttp.access:106.120.206.159 [22/May/2018:06:09:17 +0000] "GET /?page=2 HTTP/1.1" 200 5383 "http://www.lxiao.net:8000/" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/66.0.3359.181 Safari/537.36"
INFO:root:Request: GET /api/blogs
INFO:root:Check user: GET /api/blogs
INFO:root:Response handler...
INFO:root:Call with arg: {'page': '2', 'request': <Request GET /api/blogs >}
INFO:root:SQL: select count(id) _num_ from `blogs` where private is null or private is false
INFO:root:Rows returned: 1
INFO:root:SQL: select `id`, `content`, `created_at`, `summary`, `user_id`, `user_name`, `private`, `user_image`, `name` from `blogs` where private is null or private is false order by created_at desc limit ?, ?
INFO:root:Rows returned: 5
INFO:aiohttp.access:106.120.206.159 [22/May/2018:06:09:17 +0000] "GET /api/blogs?page=2 HTTP/1.1" 200 11010 "http://www.lxiao.net:8000/?page=2" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/66.0.3359.181 Safari/537.36"
INFO:root:Request: GET /signin
INFO:root:Check user: GET /signin
INFO:root:Response handler...
INFO:root:Call with arg: {}
INFO:aiohttp.access:106.120.206.159 [22/May/2018:06:09:23 +0000] "GET /signin HTTP/1.1" 200 2569 "http://www.lxiao.net:8000/" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/66.0.3359.181 Safari/537.36"
INFO:root:Request: POST /api/authenticate
INFO:root:Check user: POST /api/authenticate
INFO:root:Response handler...
INFO:root:Call with arg: {'email': 'm15801021028@163.com', 'passwd': '09fa2f95147f377ffdb2920a403d4be2031cb459'}
INFO:root:SQL: select `id`, `admin`, `image`, `created_at`, `email`, `passwd`, `name` from `users` where email=?
INFO:root:Rows returned: 1
INFO:aiohttp.access:106.120.206.159 [22/May/2018:06:09:23 +0000] "POST /api/authenticate HTTP/1.1" 200 569 "http://www.lxiao.net:8000/signin" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/66.0.3359.181 Safari/537.36"
INFO:root:Request: GET /
INFO:root:Check user: GET /
INFO:root:SQL: select `id`, `admin`, `image`, `created_at`, `email`, `passwd`, `name` from `users` where `id`=?
INFO:root:Rows returned: 1
INFO:root:Set current user: m15801021028@163.com
INFO:root:Response handler...
INFO:root:Call with arg: {'request': <Request GET / >}
INFO:aiohttp.access:106.120.206.159 [22/May/2018:06:09:23 +0000] "GET / HTTP/1.1" 200 5577 "http://www.lxiao.net:8000/signin" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/66.0.3359.181 Safari/537.36"
INFO:root:Request: GET /api/blogs
INFO:root:Check user: GET /api/blogs
INFO:root:SQL: select `id`, `admin`, `image`, `created_at`, `email`, `passwd`, `name` from `users` where `id`=?
INFO:root:Rows returned: 1
INFO:root:Set current user: m15801021028@163.com
INFO:root:Response handler...
INFO:root:Call with arg: {'page': '1', 'request': <Request GET /api/blogs >}
INFO:root:SQL: select count(id) _num_ from `blogs`
INFO:root:Rows returned: 1
INFO:root:SQL: select `id`, `content`, `created_at`, `summary`, `user_id`, `user_name`, `private`, `user_image`, `name` from `blogs` order by created_at desc limit ?, ?
INFO:root:Rows returned: 5
INFO:aiohttp.access:106.120.206.159 [22/May/2018:06:09:24 +0000] "GET /api/blogs?page=1 HTTP/1.1" 200 29702 "http://www.lxiao.net:8000/" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/66.0.3359.181 Safari/537.36"
INFO:root:Request: GET /manage/
INFO:root:Check user: GET /manage/
INFO:root:SQL: select `id`, `admin`, `image`, `created_at`, `email`, `passwd`, `name` from `users` where `id`=?
INFO:root:Rows returned: 1
INFO:root:Set current user: m15801021028@163.com
INFO:root:Response handler...
INFO:root:Call with arg: {}
INFO:aiohttp.access:106.120.206.159 [22/May/2018:06:09:25 +0000] "GET /manage/ HTTP/1.1" 302 190 "http://www.lxiao.net:8000/" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/66.0.3359.181 Safari/537.36"
INFO:root:Request: GET /manage/blogs
INFO:root:Check user: GET /manage/blogs
INFO:root:SQL: select `id`, `admin`, `image`, `created_at`, `email`, `passwd`, `name` from `users` where `id`=?
INFO:root:Rows returned: 1
INFO:root:Set current user: m15801021028@163.com
INFO:root:Response handler...
INFO:root:Call with arg: {}
INFO:aiohttp.access:106.120.206.159 [22/May/2018:06:09:25 +0000] "GET /manage/blogs HTTP/1.1" 200 7162 "http://www.lxiao.net:8000/" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/66.0.3359.181 Safari/537.36"
INFO:root:Request: GET /manage/image.gif
INFO:root:Check user: GET /manage/image.gif
INFO:root:SQL: select `id`, `admin`, `image`, `created_at`, `email`, `passwd`, `name` from `users` where `id`=?
INFO:root:Rows returned: 1
INFO:root:Set current user: m15801021028@163.com
INFO:root:Response handler...
INFO:aiohttp.access:106.120.206.159 [22/May/2018:06:09:25 +0000] "GET /manage/image.gif HTTP/1.1" 404 173 "http://www.lxiao.net:8000/manage/blogs" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/66.0.3359.181 Safari/537.36"
INFO:root:Request: GET /api/blogs
INFO:root:Check user: GET /api/blogs
INFO:root:SQL: select `id`, `admin`, `image`, `created_at`, `email`, `passwd`, `name` from `users` where `id`=?
INFO:root:Rows returned: 1
INFO:root:Set current user: m15801021028@163.com
INFO:root:Response handler...
INFO:root:Call with arg: {'page': '1', 'request': <Request GET /api/blogs >}
INFO:root:SQL: select count(id) _num_ from `blogs`
INFO:root:Rows returned: 1
INFO:root:SQL: select `id`, `content`, `created_at`, `summary`, `user_id`, `user_name`, `private`, `user_image`, `name` from `blogs` order by created_at desc limit ?, ?
INFO:root:Rows returned: 5
INFO:aiohttp.access:106.120.206.159 [22/May/2018:06:09:26 +0000] "GET /api/blogs?page=1 HTTP/1.1" 200 29702 "http://www.lxiao.net:8000/manage/blogs" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/66.0.3359.181 Safari/537.36"
INFO:root:Request: POST /api/blogs/001526633743922ed51f806d7bc4231abdf715ea1b58f46000/secret
INFO:root:Check user: POST /api/blogs/001526633743922ed51f806d7bc4231abdf715ea1b58f46000/secret
INFO:root:SQL: select `id`, `admin`, `image`, `created_at`, `email`, `passwd`, `name` from `users` where `id`=?
INFO:root:Rows returned: 1
INFO:root:Set current user: m15801021028@163.com
INFO:root:Response handler...
INFO:root:Call with arg: {'id': '001526633743922ed51f806d7bc4231abdf715ea1b58f46000', 'request': <Request POST /api/blogs/001526633743922ed51f806d7bc4231abdf715ea1b58f46000/secret >}
INFO:root:SQL: select `id`, `content`, `created_at`, `summary`, `user_id`, `user_name`, `private`, `user_image`, `name` from `blogs` where `id`=?
INFO:root:Rows returned: 1
INFO:root:SQL: update `blogs` set `content`=?, `created_at`=?, `summary`=?, `user_id`=?, `user_name`=?, `private`=?, `user_image`=?, `name`=? where `id`=?
INFO:aiohttp.access:106.120.206.159 [22/May/2018:06:09:29 +0000] "POST /api/blogs/001526633743922ed51f806d7bc4231abdf715ea1b58f46000/secret HTTP/1.1" 200 151 "http://www.lxiao.net:8000/manage/blogs" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/66.0.3359.181 Safari/537.36"
INFO:root:Request: GET /manage/blogs
INFO:root:Check user: GET /manage/blogs
INFO:root:SQL: select `id`, `admin`, `image`, `created_at`, `email`, `passwd`, `name` from `users` where `id`=?
INFO:root:Rows returned: 1
INFO:root:Set current user: m15801021028@163.com
INFO:root:Response handler...
INFO:root:Call with arg: {}
INFO:aiohttp.access:106.120.206.159 [22/May/2018:06:09:29 +0000] "GET /manage/blogs?t=1526969370924 HTTP/1.1" 200 7162 "http://www.lxiao.net:8000/manage/blogs" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/66.0.3359.181 Safari/537.36"
INFO:root:Request: GET /manage/image.gif
INFO:root:Check user: GET /manage/image.gif
INFO:root:SQL: select `id`, `admin`, `image`, `created_at`, `email`, `passwd`, `name` from `users` where `id`=?
INFO:root:Rows returned: 1
INFO:root:Set current user: m15801021028@163.com
INFO:root:Response handler...
INFO:aiohttp.access:106.120.206.159 [22/May/2018:06:09:29 +0000] "GET /manage/image.gif HTTP/1.1" 404 173 "http://www.lxiao.net:8000/manage/blogs?t=1526969370924" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/66.0.3359.181 Safari/537.36"
INFO:root:Request: GET /api/blogs
INFO:root:Check user: GET /api/blogs
INFO:root:SQL: select `id`, `admin`, `image`, `created_at`, `email`, `passwd`, `name` from `users` where `id`=?
INFO:root:Rows returned: 1
INFO:root:Set current user: m15801021028@163.com
INFO:root:Response handler...
INFO:root:Call with arg: {'page': '1', 'request': <Request GET /api/blogs >}
INFO:root:SQL: select count(id) _num_ from `blogs`
INFO:root:Rows returned: 1
INFO:root:SQL: select `id`, `content`, `created_at`, `summary`, `user_id`, `user_name`, `private`, `user_image`, `name` from `blogs` order by created_at desc limit ?, ?
INFO:root:Rows returned: 5
INFO:aiohttp.access:106.120.206.159 [22/May/2018:06:09:29 +0000] "GET /api/blogs?page=1 HTTP/1.1" 200 29702 "http://www.lxiao.net:8000/manage/blogs?t=1526969370924" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/66.0.3359.181 Safari/537.36"
INFO:root:Request: POST /api/blogs/001525919711164b6d2cea4fb824990b5da4573c830c651000/secret
INFO:root:Check user: POST /api/blogs/001525919711164b6d2cea4fb824990b5da4573c830c651000/secret
INFO:root:SQL: select `id`, `admin`, `image`, `created_at`, `email`, `passwd`, `name` from `users` where `id`=?
INFO:root:Rows returned: 1
INFO:root:Set current user: m15801021028@163.com
INFO:root:Response handler...
INFO:root:Call with arg: {'id': '001525919711164b6d2cea4fb824990b5da4573c830c651000', 'request': <Request POST /api/blogs/001525919711164b6d2cea4fb824990b5da4573c830c651000/secret >}
INFO:root:SQL: select `id`, `content`, `created_at`, `summary`, `user_id`, `user_name`, `private`, `user_image`, `name` from `blogs` where `id`=?
INFO:root:Rows returned: 1
INFO:root:SQL: update `blogs` set `content`=?, `created_at`=?, `summary`=?, `user_id`=?, `user_name`=?, `private`=?, `user_image`=?, `name`=? where `id`=?
INFO:aiohttp.access:106.120.206.159 [22/May/2018:06:09:31 +0000] "POST /api/blogs/001525919711164b6d2cea4fb824990b5da4573c830c651000/secret HTTP/1.1" 200 151 "http://www.lxiao.net:8000/manage/blogs?t=1526969370924" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/66.0.3359.181 Safari/537.36"
INFO:root:Request: GET /manage/blogs
INFO:root:Check user: GET /manage/blogs
INFO:root:SQL: select `id`, `admin`, `image`, `created_at`, `email`, `passwd`, `name` from `users` where `id`=?
INFO:root:Rows returned: 1
INFO:root:Set current user: m15801021028@163.com
INFO:root:Response handler...
INFO:root:Call with arg: {}
INFO:aiohttp.access:106.120.206.159 [22/May/2018:06:09:31 +0000] "GET /manage/blogs?t=1526969370924&t=1526969372819 HTTP/1.1" 200 7162 "http://www.lxiao.net:8000/manage/blogs?t=1526969370924" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/66.0.3359.181 Safari/537.36"
INFO:root:Request: GET /manage/image.gif
INFO:root:Check user: GET /manage/image.gif
INFO:root:SQL: select `id`, `admin`, `image`, `created_at`, `email`, `passwd`, `name` from `users` where `id`=?
INFO:root:Rows returned: 1
INFO:root:Set current user: m15801021028@163.com
INFO:root:Response handler...
INFO:aiohttp.access:106.120.206.159 [22/May/2018:06:09:31 +0000] "GET /manage/image.gif HTTP/1.1" 404 173 "http://www.lxiao.net:8000/manage/blogs?t=1526969370924&t=1526969372819" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/66.0.3359.181 Safari/537.36"
INFO:root:Request: GET /api/blogs
INFO:root:Check user: GET /api/blogs
INFO:root:SQL: select `id`, `admin`, `image`, `created_at`, `email`, `passwd`, `name` from `users` where `id`=?
INFO:root:Rows returned: 1
INFO:root:Set current user: m15801021028@163.com
INFO:root:Response handler...
INFO:root:Call with arg: {'page': '1', 'request': <Request GET /api/blogs >}
INFO:root:SQL: select count(id) _num_ from `blogs`
INFO:root:Rows returned: 1
INFO:root:SQL: select `id`, `content`, `created_at`, `summary`, `user_id`, `user_name`, `private`, `user_image`, `name` from `blogs` order by created_at desc limit ?, ?
INFO:root:Rows returned: 5
INFO:aiohttp.access:106.120.206.159 [22/May/2018:06:09:31 +0000] "GET /api/blogs?page=1 HTTP/1.1" 200 29702 "http://www.lxiao.net:8000/manage/blogs?t=1526969370924&t=1526969372819" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/66.0.3359.181 Safari/537.36"
INFO:root:Request: GET /signout
INFO:root:Check user: GET /signout
INFO:root:SQL: select `id`, `admin`, `image`, `created_at`, `email`, `passwd`, `name` from `users` where `id`=?
INFO:root:Rows returned: 1
INFO:root:Set current user: m15801021028@163.com
INFO:root:Response handler...
INFO:root:Call with arg: {'request': <Request GET /signout >}
INFO:root:User signed out.
INFO:aiohttp.access:106.120.206.159 [22/May/2018:06:09:33 +0000] "GET /signout HTTP/1.1" 302 309 "http://www.lxiao.net:8000/manage/blogs?t=1526969370924&t=1526969372819" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/66.0.3359.181 Safari/537.36"
INFO:root:Request: GET /manage/blogs
INFO:root:Check user: GET /manage/blogs
INFO:aiohttp.access:106.120.206.159 [22/May/2018:06:09:33 +0000] "GET /manage/blogs?t=1526969370924&t=1526969372819 HTTP/1.1" 302 184 "http://www.lxiao.net:8000/manage/blogs?t=1526969370924&t=1526969372819" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/66.0.3359.181 Safari/537.36"
INFO:root:Request: GET /signin
INFO:root:Check user: GET /signin
INFO:root:Response handler...
INFO:root:Call with arg: {}
INFO:aiohttp.access:106.120.206.159 [22/May/2018:06:09:33 +0000] "GET /signin HTTP/1.1" 200 2569 "http://www.lxiao.net:8000/manage/blogs?t=1526969370924&t=1526969372819" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/66.0.3359.181 Safari/537.36"
INFO:root:Request: GET /sign
INFO:root:Check user: GET /sign
INFO:root:Response handler...
INFO:aiohttp.access:106.120.206.159 [22/May/2018:06:09:38 +0000] "GET /sign HTTP/1.1" 404 173 "-" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/66.0.3359.181 Safari/537.36"
INFO:root:Request: GET /
INFO:root:Check user: GET /
INFO:root:Response handler...
INFO:root:Call with arg: {'request': <Request GET / >}
INFO:aiohttp.access:106.120.206.159 [22/May/2018:06:09:40 +0000] "GET / HTTP/1.1" 200 5383 "-" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/66.0.3359.181 Safari/537.36"
INFO:root:Request: GET /api/blogs
INFO:root:Check user: GET /api/blogs
INFO:root:Response handler...
INFO:root:Call with arg: {'page': '1', 'request': <Request GET /api/blogs >}
INFO:root:SQL: select count(id) _num_ from `blogs` where private is null or private is false
INFO:root:Rows returned: 1
INFO:root:SQL: select `id`, `content`, `created_at`, `summary`, `user_id`, `user_name`, `private`, `user_image`, `name` from `blogs` where private is null or private is false order by created_at desc limit ?, ?
INFO:root:Rows returned: 5
INFO:aiohttp.access:106.120.206.159 [22/May/2018:06:09:41 +0000] "GET /api/blogs?page=1 HTTP/1.1" 200 33755 "http://www.lxiao.net:8000/" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/66.0.3359.181 Safari/537.36"
INFO:root:Found model: User (table: users)
INFO:root:  Found mapping: id ==> <IntegerField, bigint:None>
INFO:root:  Found mapping: name ==> <StringField, varchar(100):None>
INFO:root:Found model: User (table: users)
INFO:root:  Found mapping: passwd ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: name ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: email ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: created_at ==> <FloatField, real:None>
INFO:root:  Found mapping: id ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: admin ==> <BooleanField, boolean:None>
INFO:root:  Found mapping: image ==> <StringField, varchar(500):None>
INFO:root:Found model: Blog (table: blogs)
INFO:root:  Found mapping: content ==> <TextField, text:None>
INFO:root:  Found mapping: user_image ==> <StringField, varchar(500):None>
INFO:root:  Found mapping: name ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: user_name ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: user_id ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: private ==> <BooleanField, boolean:None>
INFO:root:  Found mapping: summary ==> <StringField, varchar(200):None>
INFO:root:  Found mapping: id ==> <StringField, varchat(50):None>
INFO:root:  Found mapping: created_at ==> <FloatField, real:None>
INFO:root:Found model: Comment (table: comments)
INFO:root:  Found mapping: blog_id ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: content ==> <TextField, text:None>
INFO:root:  Found mapping: created_at ==> <FloatField, real:None>
INFO:root:  Found mapping: user_image ==> <StringField, varchar(500):None>
INFO:root:  Found mapping: user_id ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: id ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: user_name ==> <StringField, varchar(50):None>
INFO:root:Create database connection pool...
INFO:root:Init jinja2...
INFO:root:Set jinja2 template path: /home/admin/webapp/www/templates
INFO:root:add route GET /api/blogs => api_blogs(request, page)
INFO:root:add route GET /api/comments => api_comments(page)
INFO:root:add route POST /api/blogs => api_create_blog(request, name, summary, content, private)
INFO:root:add route POST /api/blogs/{id}/comments => api_create_comment(id, request, content)
INFO:root:add route POST /api/blogs/{id}/delete => api_delete_blog(id, request)
INFO:root:add route POST /api/comments/{id}/delete => api_delete_comment(id, request)
INFO:root:add route GET /api/blogs/{id} => api_get_blog(id)
INFO:root:add route GET /api/blogs/{id}/secret => api_get_private(id, request)
INFO:root:add route GET /api/users => api_get_users(page)
INFO:root:add route POST /api/users => api_register_user(email, name, passwd)
INFO:root:add route POST /api/blogs/{id}/secret => api_set_private(id, request)
INFO:root:add route POST /api/blogs/{id} => api_update_blog(id, request, name, summary, content, private)
INFO:root:add route POST /api/authenticate => authenticate(email, passwd)
INFO:root:add route GET /blog/{id} => get_blog(id)
INFO:root:add route GET / => index(request, page)
INFO:root:add route GET /manage/ => manage()
INFO:root:add route GET /manage/blogs => manage_blogs(page)
INFO:root:add route GET /manage/comments => manage_comments(page)
INFO:root:add route GET /manage/blogs/create => manage_create_blogs()
INFO:root:add route GET /manage/blogs/edit => manage_edit_blog(id)
INFO:root:add route GET /manage/users => manage_users(page)
INFO:root:add route GET /register => register()
INFO:root:add route GET /signin => signin()
INFO:root:add route GET /signout => signout(request)
INFO:root:add static /static/ => /home/admin/webapp/www/static
INFO:root:Server started at http://60.205.221.43:80...
INFO:root:Request: GET /
INFO:root:Check user: GET /
INFO:root:Response handler...
INFO:root:Call with arg: {'request': <Request GET / >}
INFO:aiohttp.access:106.120.206.159 [22/May/2018:06:11:28 +0000] "GET / HTTP/1.1" 200 5383 "http://www.lxiao.net:8000/" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/66.0.3359.181 Safari/537.36"
INFO:root:Request: GET /api/blogs
INFO:root:Check user: GET /api/blogs
INFO:root:Response handler...
INFO:root:Call with arg: {'request': <Request GET /api/blogs >, 'page': '1'}
INFO:root:SQL: select count(id) _num_ from `blogs` where private is null or private is false
INFO:root:Rows returned: 1
INFO:root:SQL: select `id`, `content`, `user_image`, `name`, `user_name`, `user_id`, `private`, `summary`, `created_at` from `blogs` where private is null or private is false order by created_at desc limit ?, ?
INFO:root:Rows returned: 5
INFO:aiohttp.access:106.120.206.159 [22/May/2018:06:11:28 +0000] "GET /api/blogs?page=1 HTTP/1.1" 200 33755 "http://www.lxiao.net:8000/" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/66.0.3359.181 Safari/537.36"
INFO:root:Request: GET /manage/
INFO:root:Check user: GET /manage/
INFO:aiohttp.access:106.120.206.159 [22/May/2018:06:11:30 +0000] "GET /manage/ HTTP/1.1" 302 184 "http://www.lxiao.net:8000/" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/66.0.3359.181 Safari/537.36"
INFO:root:Request: GET /signin
INFO:root:Check user: GET /signin
INFO:root:Response handler...
INFO:root:Call with arg: {}
INFO:aiohttp.access:106.120.206.159 [22/May/2018:06:11:30 +0000] "GET /signin HTTP/1.1" 200 2569 "http://www.lxiao.net:8000/" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/66.0.3359.181 Safari/537.36"
INFO:root:Request: POST /api/authenticate
INFO:root:Check user: POST /api/authenticate
INFO:root:Response handler...
INFO:root:Call with arg: {'passwd': '09fa2f95147f377ffdb2920a403d4be2031cb459', 'email': 'm15801021028@163.com'}
INFO:root:SQL: select `id`, `passwd`, `name`, `email`, `created_at`, `admin`, `image` from `users` where email=?
INFO:root:Rows returned: 1
INFO:aiohttp.access:106.120.206.159 [22/May/2018:06:11:31 +0000] "POST /api/authenticate HTTP/1.1" 200 569 "http://www.lxiao.net:8000/signin" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/66.0.3359.181 Safari/537.36"
INFO:root:Request: GET /
INFO:root:Check user: GET /
INFO:root:SQL: select `id`, `passwd`, `name`, `email`, `created_at`, `admin`, `image` from `users` where `id`=?
INFO:root:Rows returned: 1
INFO:root:Set current user: m15801021028@163.com
INFO:root:Response handler...
INFO:root:Call with arg: {'request': <Request GET / >}
INFO:aiohttp.access:106.120.206.159 [22/May/2018:06:11:31 +0000] "GET / HTTP/1.1" 200 5577 "http://www.lxiao.net:8000/signin" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/66.0.3359.181 Safari/537.36"
INFO:root:Request: GET /api/blogs
INFO:root:Check user: GET /api/blogs
INFO:root:SQL: select `id`, `passwd`, `name`, `email`, `created_at`, `admin`, `image` from `users` where `id`=?
INFO:root:Rows returned: 1
INFO:root:Set current user: m15801021028@163.com
INFO:root:Response handler...
INFO:root:Call with arg: {'request': <Request GET /api/blogs >, 'page': '1'}
INFO:root:SQL: select count(id) _num_ from `blogs`
INFO:root:Rows returned: 1
INFO:root:SQL: select `id`, `content`, `user_image`, `name`, `user_name`, `user_id`, `private`, `summary`, `created_at` from `blogs` order by created_at desc limit ?, ?
INFO:root:Rows returned: 5
INFO:aiohttp.access:106.120.206.159 [22/May/2018:06:11:32 +0000] "GET /api/blogs?page=1 HTTP/1.1" 200 29702 "http://www.lxiao.net:8000/" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/66.0.3359.181 Safari/537.36"
INFO:root:Request: GET /manage/
INFO:root:Check user: GET /manage/
INFO:root:SQL: select `id`, `passwd`, `name`, `email`, `created_at`, `admin`, `image` from `users` where `id`=?
INFO:root:Rows returned: 1
INFO:root:Set current user: m15801021028@163.com
INFO:root:Response handler...
INFO:root:Call with arg: {}
INFO:aiohttp.access:106.120.206.159 [22/May/2018:06:11:35 +0000] "GET /manage/ HTTP/1.1" 302 190 "http://www.lxiao.net:8000/" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/66.0.3359.181 Safari/537.36"
INFO:root:Request: GET /manage/blogs
INFO:root:Check user: GET /manage/blogs
INFO:root:SQL: select `id`, `passwd`, `name`, `email`, `created_at`, `admin`, `image` from `users` where `id`=?
INFO:root:Rows returned: 1
INFO:root:Set current user: m15801021028@163.com
INFO:root:Response handler...
INFO:root:Call with arg: {}
INFO:aiohttp.access:106.120.206.159 [22/May/2018:06:11:35 +0000] "GET /manage/blogs HTTP/1.1" 200 7192 "http://www.lxiao.net:8000/" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/66.0.3359.181 Safari/537.36"
INFO:root:Request: GET /manage/image.gif
INFO:root:Check user: GET /manage/image.gif
INFO:root:SQL: select `id`, `passwd`, `name`, `email`, `created_at`, `admin`, `image` from `users` where `id`=?
INFO:root:Rows returned: 1
INFO:root:Set current user: m15801021028@163.com
INFO:root:Response handler...
INFO:aiohttp.access:106.120.206.159 [22/May/2018:06:11:35 +0000] "GET /manage/image.gif HTTP/1.1" 404 173 "http://www.lxiao.net:8000/manage/blogs" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/66.0.3359.181 Safari/537.36"
INFO:root:Request: GET /api/blogs
INFO:root:Check user: GET /api/blogs
INFO:root:SQL: select `id`, `passwd`, `name`, `email`, `created_at`, `admin`, `image` from `users` where `id`=?
INFO:root:Rows returned: 1
INFO:root:Set current user: m15801021028@163.com
INFO:root:Response handler...
INFO:root:Call with arg: {'request': <Request GET /api/blogs >, 'page': '1'}
INFO:root:SQL: select count(id) _num_ from `blogs`
INFO:root:Rows returned: 1
INFO:root:SQL: select `id`, `content`, `user_image`, `name`, `user_name`, `user_id`, `private`, `summary`, `created_at` from `blogs` order by created_at desc limit ?, ?
INFO:root:Rows returned: 5
INFO:aiohttp.access:106.120.206.159 [22/May/2018:06:11:35 +0000] "GET /api/blogs?page=1 HTTP/1.1" 200 29702 "http://www.lxiao.net:8000/manage/blogs" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/66.0.3359.181 Safari/537.36"
INFO:root:Found model: User (table: users)
INFO:root:  Found mapping: id ==> <IntegerField, bigint:None>
INFO:root:  Found mapping: name ==> <StringField, varchar(100):None>
INFO:root:Found model: User (table: users)
INFO:root:  Found mapping: id ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: email ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: passwd ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: name ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: image ==> <StringField, varchar(500):None>
INFO:root:  Found mapping: created_at ==> <FloatField, real:None>
INFO:root:  Found mapping: admin ==> <BooleanField, boolean:None>
INFO:root:Found model: Blog (table: blogs)
INFO:root:  Found mapping: user_image ==> <StringField, varchar(500):None>
INFO:root:  Found mapping: summary ==> <StringField, varchar(200):None>
INFO:root:  Found mapping: name ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: user_name ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: content ==> <TextField, text:None>
INFO:root:  Found mapping: id ==> <StringField, varchat(50):None>
INFO:root:  Found mapping: private ==> <BooleanField, boolean:None>
INFO:root:  Found mapping: created_at ==> <FloatField, real:None>
INFO:root:  Found mapping: user_id ==> <StringField, varchar(50):None>
INFO:root:Found model: Comment (table: comments)
INFO:root:  Found mapping: id ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: user_image ==> <StringField, varchar(500):None>
INFO:root:  Found mapping: content ==> <TextField, text:None>
INFO:root:  Found mapping: blog_id ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: created_at ==> <FloatField, real:None>
INFO:root:  Found mapping: user_name ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: user_id ==> <StringField, varchar(50):None>
INFO:root:Create database connection pool...
INFO:root:Init jinja2...
INFO:root:Set jinja2 template path: /home/admin/webapp/www/templates
INFO:root:add route GET /api/blogs => api_blogs(request, page)
INFO:root:add route GET /api/comments => api_comments(page)
INFO:root:add route POST /api/blogs => api_create_blog(request, name, summary, content, private)
INFO:root:add route POST /api/blogs/{id}/comments => api_create_comment(id, request, content)
INFO:root:add route POST /api/blogs/{id}/delete => api_delete_blog(id, request)
INFO:root:add route POST /api/comments/{id}/delete => api_delete_comment(id, request)
INFO:root:add route GET /api/blogs/{id} => api_get_blog(id)
INFO:root:add route GET /api/blogs/{id}/secret => api_get_private(id, request)
INFO:root:add route GET /api/users => api_get_users(page)
INFO:root:add route POST /api/users => api_register_user(email, name, passwd)
INFO:root:add route POST /api/blogs/{id}/secret => api_set_private(id, request)
INFO:root:add route POST /api/blogs/{id} => api_update_blog(id, request, name, summary, content, private)
INFO:root:add route POST /api/authenticate => authenticate(email, passwd)
INFO:root:add route GET /blog/{id} => get_blog(id)
INFO:root:add route GET / => index(request, page)
INFO:root:add route GET /manage/ => manage()
INFO:root:add route GET /manage/blogs => manage_blogs(page)
INFO:root:add route GET /manage/comments => manage_comments(page)
INFO:root:add route GET /manage/blogs/create => manage_create_blogs()
INFO:root:add route GET /manage/blogs/edit => manage_edit_blog(id)
INFO:root:add route GET /manage/users => manage_users(page)
INFO:root:add route GET /register => register()
INFO:root:add route GET /signin => signin()
INFO:root:add route GET /signout => signout(request)
INFO:root:add static /static/ => /home/admin/webapp/www/static
INFO:root:Server started at http://60.205.221.43:80...
INFO:root:Request: GET /manage/blogs
INFO:root:Check user: GET /manage/blogs
INFO:root:SQL: select `id`, `email`, `passwd`, `name`, `image`, `created_at`, `admin` from `users` where `id`=?
INFO:root:Rows returned: 1
INFO:root:Set current user: m15801021028@163.com
INFO:root:Response handler...
INFO:root:Call with arg: {}
INFO:aiohttp.access:106.120.206.159 [22/May/2018:06:11:47 +0000] "GET /manage/blogs HTTP/1.1" 200 7190 "http://www.lxiao.net:8000/" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/66.0.3359.181 Safari/537.36"
INFO:root:Request: GET /manage/image.gif
INFO:root:Check user: GET /manage/image.gif
INFO:root:SQL: select `id`, `email`, `passwd`, `name`, `image`, `created_at`, `admin` from `users` where `id`=?
INFO:root:Rows returned: 1
INFO:root:Set current user: m15801021028@163.com
INFO:root:Response handler...
INFO:aiohttp.access:106.120.206.159 [22/May/2018:06:11:47 +0000] "GET /manage/image.gif HTTP/1.1" 404 173 "http://www.lxiao.net:8000/manage/blogs" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/66.0.3359.181 Safari/537.36"
INFO:root:Request: GET /api/blogs
INFO:root:Check user: GET /api/blogs
INFO:root:SQL: select `id`, `email`, `passwd`, `name`, `image`, `created_at`, `admin` from `users` where `id`=?
INFO:root:Rows returned: 1
INFO:root:Set current user: m15801021028@163.com
INFO:root:Response handler...
INFO:root:Call with arg: {'page': '1', 'request': <Request GET /api/blogs >}
INFO:root:SQL: select count(id) _num_ from `blogs`
INFO:root:Rows returned: 1
INFO:root:SQL: select `id`, `user_image`, `summary`, `name`, `user_name`, `content`, `private`, `created_at`, `user_id` from `blogs` order by created_at desc limit ?, ?
INFO:root:Rows returned: 5
INFO:aiohttp.access:106.120.206.159 [22/May/2018:06:11:47 +0000] "GET /api/blogs?page=1 HTTP/1.1" 200 29702 "http://www.lxiao.net:8000/manage/blogs" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/66.0.3359.181 Safari/537.36"
INFO:root:Found model: User (table: users)
INFO:root:  Found mapping: name ==> <StringField, varchar(100):None>
INFO:root:  Found mapping: id ==> <IntegerField, bigint:None>
INFO:root:Found model: User (table: users)
INFO:root:  Found mapping: created_at ==> <FloatField, real:None>
INFO:root:  Found mapping: name ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: image ==> <StringField, varchar(500):None>
INFO:root:  Found mapping: id ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: admin ==> <BooleanField, boolean:None>
INFO:root:  Found mapping: email ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: passwd ==> <StringField, varchar(50):None>
INFO:root:Found model: Blog (table: blogs)
INFO:root:  Found mapping: private ==> <BooleanField, boolean:None>
INFO:root:  Found mapping: user_id ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: name ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: content ==> <TextField, text:None>
INFO:root:  Found mapping: user_name ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: summary ==> <StringField, varchar(200):None>
INFO:root:  Found mapping: created_at ==> <FloatField, real:None>
INFO:root:  Found mapping: id ==> <StringField, varchat(50):None>
INFO:root:  Found mapping: user_image ==> <StringField, varchar(500):None>
INFO:root:Found model: Comment (table: comments)
INFO:root:  Found mapping: created_at ==> <FloatField, real:None>
INFO:root:  Found mapping: user_id ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: id ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: user_name ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: content ==> <TextField, text:None>
INFO:root:  Found mapping: blog_id ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: user_image ==> <StringField, varchar(500):None>
INFO:root:Create database connection pool...
INFO:root:Init jinja2...
INFO:root:Set jinja2 template path: /home/admin/webapp/www/templates
INFO:root:add route GET /api/blogs => api_blogs(request, page)
INFO:root:add route GET /api/comments => api_comments(page)
INFO:root:add route POST /api/blogs => api_create_blog(request, name, summary, content, private)
INFO:root:add route POST /api/blogs/{id}/comments => api_create_comment(id, request, content)
INFO:root:add route POST /api/blogs/{id}/delete => api_delete_blog(id, request)
INFO:root:add route POST /api/comments/{id}/delete => api_delete_comment(id, request)
INFO:root:add route GET /api/blogs/{id} => api_get_blog(id)
INFO:root:add route GET /api/blogs/{id}/secret => api_get_private(id, request)
INFO:root:add route GET /api/users => api_get_users(page)
INFO:root:add route POST /api/users => api_register_user(email, name, passwd)
INFO:root:add route POST /api/blogs/{id}/secret => api_set_private(id, request)
INFO:root:add route POST /api/blogs/{id} => api_update_blog(id, request, name, summary, content, private)
INFO:root:add route POST /api/authenticate => authenticate(email, passwd)
INFO:root:add route GET /blog/{id} => get_blog(id)
INFO:root:add route GET / => index(request, page)
INFO:root:add route GET /manage/ => manage()
INFO:root:add route GET /manage/blogs => manage_blogs(page)
INFO:root:add route GET /manage/comments => manage_comments(page)
INFO:root:add route GET /manage/blogs/create => manage_create_blogs()
INFO:root:add route GET /manage/blogs/edit => manage_edit_blog(id)
INFO:root:add route GET /manage/users => manage_users(page)
INFO:root:add route GET /register => register()
INFO:root:add route GET /signin => signin()
INFO:root:add route GET /signout => signout(request)
INFO:root:add static /static/ => /home/admin/webapp/www/static
INFO:root:Server started at http://60.205.221.43:80...
INFO:root:Request: GET /manage/blogs
INFO:root:Check user: GET /manage/blogs
INFO:root:SQL: select `id`, `created_at`, `name`, `image`, `admin`, `email`, `passwd` from `users` where `id`=?
INFO:root:Rows returned: 1
INFO:root:Set current user: m15801021028@163.com
INFO:root:Response handler...
INFO:root:Call with arg: {}
INFO:aiohttp.access:106.120.206.159 [22/May/2018:06:12:38 +0000] "GET /manage/blogs HTTP/1.1" 200 7191 "http://www.lxiao.net:8000/" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/66.0.3359.181 Safari/537.36"
INFO:root:Request: GET /manage/image.gif
INFO:root:Check user: GET /manage/image.gif
INFO:root:SQL: select `id`, `created_at`, `name`, `image`, `admin`, `email`, `passwd` from `users` where `id`=?
INFO:root:Rows returned: 1
INFO:root:Set current user: m15801021028@163.com
INFO:root:Response handler...
INFO:aiohttp.access:106.120.206.159 [22/May/2018:06:12:39 +0000] "GET /manage/image.gif HTTP/1.1" 404 173 "http://www.lxiao.net:8000/manage/blogs" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/66.0.3359.181 Safari/537.36"
INFO:root:Request: GET /api/blogs
INFO:root:Check user: GET /api/blogs
INFO:root:SQL: select `id`, `created_at`, `name`, `image`, `admin`, `email`, `passwd` from `users` where `id`=?
INFO:root:Rows returned: 1
INFO:root:Set current user: m15801021028@163.com
INFO:root:Response handler...
INFO:root:Call with arg: {'request': <Request GET /api/blogs >, 'page': '1'}
INFO:root:SQL: select count(id) _num_ from `blogs`
INFO:root:Rows returned: 1
INFO:root:SQL: select `id`, `private`, `user_id`, `name`, `content`, `user_name`, `summary`, `created_at`, `user_image` from `blogs` order by created_at desc limit ?, ?
INFO:root:Rows returned: 5
INFO:aiohttp.access:106.120.206.159 [22/May/2018:06:12:39 +0000] "GET /api/blogs?page=1 HTTP/1.1" 200 29702 "http://www.lxiao.net:8000/manage/blogs" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/66.0.3359.181 Safari/537.36"
INFO:root:Found model: User (table: users)
INFO:root:  Found mapping: id ==> <IntegerField, bigint:None>
INFO:root:  Found mapping: name ==> <StringField, varchar(100):None>
INFO:root:Found model: User (table: users)
INFO:root:  Found mapping: id ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: image ==> <StringField, varchar(500):None>
INFO:root:  Found mapping: created_at ==> <FloatField, real:None>
INFO:root:  Found mapping: name ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: passwd ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: email ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: admin ==> <BooleanField, boolean:None>
INFO:root:Found model: Blog (table: blogs)
INFO:root:  Found mapping: summary ==> <StringField, varchar(200):None>
INFO:root:  Found mapping: user_image ==> <StringField, varchar(500):None>
INFO:root:  Found mapping: content ==> <TextField, text:None>
INFO:root:  Found mapping: created_at ==> <FloatField, real:None>
INFO:root:  Found mapping: id ==> <StringField, varchat(50):None>
INFO:root:  Found mapping: name ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: user_name ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: private ==> <BooleanField, boolean:None>
INFO:root:  Found mapping: user_id ==> <StringField, varchar(50):None>
INFO:root:Found model: Comment (table: comments)
INFO:root:  Found mapping: blog_id ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: id ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: content ==> <TextField, text:None>
INFO:root:  Found mapping: user_name ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: created_at ==> <FloatField, real:None>
INFO:root:  Found mapping: user_image ==> <StringField, varchar(500):None>
INFO:root:  Found mapping: user_id ==> <StringField, varchar(50):None>
INFO:root:Create database connection pool...
INFO:root:Init jinja2...
INFO:root:Set jinja2 template path: /home/admin/webapp/www/templates
INFO:root:add route GET /api/blogs => api_blogs(request, page)
INFO:root:add route GET /api/comments => api_comments(page)
INFO:root:add route POST /api/blogs => api_create_blog(request, name, summary, content, private)
INFO:root:add route POST /api/blogs/{id}/comments => api_create_comment(id, request, content)
INFO:root:add route POST /api/blogs/{id}/delete => api_delete_blog(id, request)
INFO:root:add route POST /api/comments/{id}/delete => api_delete_comment(id, request)
INFO:root:add route GET /api/blogs/{id} => api_get_blog(id)
INFO:root:add route GET /api/blogs/{id}/secret => api_get_private(id, request)
INFO:root:add route GET /api/users => api_get_users(page)
INFO:root:add route POST /api/users => api_register_user(email, name, passwd)
INFO:root:add route POST /api/blogs/{id}/secret => api_set_private(id, request)
INFO:root:add route POST /api/blogs/{id} => api_update_blog(id, request, name, summary, content, private)
INFO:root:add route POST /api/authenticate => authenticate(email, passwd)
INFO:root:add route GET /blog/{id} => get_blog(id)
INFO:root:add route GET / => index(request, page)
INFO:root:add route GET /manage/ => manage()
INFO:root:add route GET /manage/blogs => manage_blogs(page)
INFO:root:add route GET /manage/comments => manage_comments(page)
INFO:root:add route GET /manage/blogs/create => manage_create_blogs()
INFO:root:add route GET /manage/blogs/edit => manage_edit_blog(id)
INFO:root:add route GET /manage/users => manage_users(page)
INFO:root:add route GET /register => register()
INFO:root:add route GET /signin => signin()
INFO:root:add route GET /signout => signout(request)
INFO:root:add static /static/ => /home/admin/webapp/www/static
INFO:root:Server started at http://60.205.221.43:80...
INFO:root:Request: GET /manage/blogs
INFO:root:Check user: GET /manage/blogs
INFO:root:SQL: select `id`, `image`, `created_at`, `name`, `passwd`, `email`, `admin` from `users` where `id`=?
INFO:root:Rows returned: 1
INFO:root:Set current user: m15801021028@163.com
INFO:root:Response handler...
INFO:root:Call with arg: {}
INFO:aiohttp.access:106.120.206.159 [22/May/2018:06:18:23 +0000] "GET /manage/blogs HTTP/1.1" 200 7205 "http://www.lxiao.net:8000/" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/66.0.3359.181 Safari/537.36"
INFO:root:Request: GET /manage/image.gif
INFO:root:Check user: GET /manage/image.gif
INFO:root:SQL: select `id`, `image`, `created_at`, `name`, `passwd`, `email`, `admin` from `users` where `id`=?
INFO:root:Rows returned: 1
INFO:root:Set current user: m15801021028@163.com
INFO:root:Response handler...
INFO:aiohttp.access:106.120.206.159 [22/May/2018:06:18:23 +0000] "GET /manage/image.gif HTTP/1.1" 404 173 "http://www.lxiao.net:8000/manage/blogs" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/66.0.3359.181 Safari/537.36"
INFO:root:Request: GET /api/blogs
INFO:root:Check user: GET /api/blogs
INFO:root:SQL: select `id`, `image`, `created_at`, `name`, `passwd`, `email`, `admin` from `users` where `id`=?
INFO:root:Rows returned: 1
INFO:root:Set current user: m15801021028@163.com
INFO:root:Response handler...
INFO:root:Call with arg: {'request': <Request GET /api/blogs >, 'page': '1'}
INFO:root:SQL: select count(id) _num_ from `blogs`
INFO:root:Rows returned: 1
INFO:root:SQL: select `id`, `summary`, `user_image`, `content`, `created_at`, `name`, `user_name`, `private`, `user_id` from `blogs` order by created_at desc limit ?, ?
INFO:root:Rows returned: 5
INFO:aiohttp.access:106.120.206.159 [22/May/2018:06:18:23 +0000] "GET /api/blogs?page=1 HTTP/1.1" 200 29702 "http://www.lxiao.net:8000/manage/blogs" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/66.0.3359.181 Safari/537.36"
INFO:root:Found model: User (table: users)
INFO:root:  Found mapping: id ==> <IntegerField, bigint:None>
INFO:root:  Found mapping: name ==> <StringField, varchar(100):None>
INFO:root:Found model: User (table: users)
INFO:root:  Found mapping: created_at ==> <FloatField, real:None>
INFO:root:  Found mapping: passwd ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: name ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: email ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: admin ==> <BooleanField, boolean:None>
INFO:root:  Found mapping: id ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: image ==> <StringField, varchar(500):None>
INFO:root:Found model: Blog (table: blogs)
INFO:root:  Found mapping: name ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: created_at ==> <FloatField, real:None>
INFO:root:  Found mapping: user_id ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: user_image ==> <StringField, varchar(500):None>
INFO:root:  Found mapping: user_name ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: content ==> <TextField, text:None>
INFO:root:  Found mapping: id ==> <StringField, varchat(50):None>
INFO:root:  Found mapping: summary ==> <StringField, varchar(200):None>
INFO:root:  Found mapping: private ==> <BooleanField, boolean:None>
INFO:root:Found model: Comment (table: comments)
INFO:root:  Found mapping: user_name ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: content ==> <TextField, text:None>
INFO:root:  Found mapping: created_at ==> <FloatField, real:None>
INFO:root:  Found mapping: id ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: user_id ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: user_image ==> <StringField, varchar(500):None>
INFO:root:  Found mapping: blog_id ==> <StringField, varchar(50):None>
INFO:root:Create database connection pool...
INFO:root:Init jinja2...
INFO:root:Set jinja2 template path: /home/admin/webapp/www/templates
INFO:root:add route GET /api/blogs => api_blogs(request, page)
INFO:root:add route GET /api/comments => api_comments(page)
INFO:root:add route POST /api/blogs => api_create_blog(request, name, summary, content, private)
INFO:root:add route POST /api/blogs/{id}/comments => api_create_comment(id, request, content)
INFO:root:add route POST /api/blogs/{id}/delete => api_delete_blog(id, request)
INFO:root:add route POST /api/comments/{id}/delete => api_delete_comment(id, request)
INFO:root:add route GET /api/blogs/{id} => api_get_blog(id)
INFO:root:add route GET /api/blogs/{id}/secret => api_get_private(id, request)
INFO:root:add route GET /api/users => api_get_users(page)
INFO:root:add route POST /api/users => api_register_user(email, name, passwd)
INFO:root:add route POST /api/blogs/{id}/secret => api_set_private(id, request)
INFO:root:add route POST /api/blogs/{id} => api_update_blog(id, request, name, summary, content, private)
INFO:root:add route POST /api/authenticate => authenticate(email, passwd)
INFO:root:add route GET /blog/{id} => get_blog(id)
INFO:root:add route GET / => index(request, page)
INFO:root:add route GET /manage/ => manage()
INFO:root:add route GET /manage/blogs => manage_blogs(page)
INFO:root:add route GET /manage/comments => manage_comments(page)
INFO:root:add route GET /manage/blogs/create => manage_create_blogs()
INFO:root:add route GET /manage/blogs/edit => manage_edit_blog(id)
INFO:root:add route GET /manage/users => manage_users(page)
INFO:root:add route GET /register => register()
INFO:root:add route GET /signin => signin()
INFO:root:add route GET /signout => signout(request)
INFO:root:add static /static/ => /home/admin/webapp/www/static
INFO:root:Server started at http://60.205.221.43:80...
INFO:root:Request: GET /manage/blogs
INFO:root:Check user: GET /manage/blogs
INFO:root:SQL: select `id`, `created_at`, `passwd`, `name`, `email`, `admin`, `image` from `users` where `id`=?
INFO:root:Rows returned: 1
INFO:root:Set current user: m15801021028@163.com
INFO:root:Response handler...
INFO:root:Call with arg: {}
INFO:aiohttp.access:106.120.206.159 [22/May/2018:06:18:54 +0000] "GET /manage/blogs HTTP/1.1" 200 7206 "http://www.lxiao.net:8000/" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/66.0.3359.181 Safari/537.36"
INFO:root:Request: GET /manage/image.gif
INFO:root:Check user: GET /manage/image.gif
INFO:root:SQL: select `id`, `created_at`, `passwd`, `name`, `email`, `admin`, `image` from `users` where `id`=?
INFO:root:Rows returned: 1
INFO:root:Set current user: m15801021028@163.com
INFO:root:Response handler...
INFO:aiohttp.access:106.120.206.159 [22/May/2018:06:18:54 +0000] "GET /manage/image.gif HTTP/1.1" 404 173 "http://www.lxiao.net:8000/manage/blogs" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/66.0.3359.181 Safari/537.36"
INFO:root:Request: GET /api/blogs
INFO:root:Check user: GET /api/blogs
INFO:root:SQL: select `id`, `created_at`, `passwd`, `name`, `email`, `admin`, `image` from `users` where `id`=?
INFO:root:Rows returned: 1
INFO:root:Set current user: m15801021028@163.com
INFO:root:Response handler...
INFO:root:Call with arg: {'page': '1', 'request': <Request GET /api/blogs >}
INFO:root:SQL: select count(id) _num_ from `blogs`
INFO:root:Rows returned: 1
INFO:root:SQL: select `id`, `name`, `created_at`, `user_id`, `user_image`, `user_name`, `content`, `summary`, `private` from `blogs` order by created_at desc limit ?, ?
INFO:root:Rows returned: 5
INFO:aiohttp.access:106.120.206.159 [22/May/2018:06:18:54 +0000] "GET /api/blogs?page=1 HTTP/1.1" 200 29702 "http://www.lxiao.net:8000/manage/blogs" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/66.0.3359.181 Safari/537.36"
INFO:root:Request: GET /manage/image.gif
INFO:root:Check user: GET /manage/image.gif
INFO:root:SQL: select `id`, `created_at`, `passwd`, `name`, `email`, `admin`, `image` from `users` where `id`=?
INFO:root:Rows returned: 1
INFO:root:Set current user: m15801021028@163.com
INFO:root:Response handler...
INFO:aiohttp.access:106.120.206.159 [22/May/2018:06:18:56 +0000] "GET /manage/image.gif HTTP/1.1" 404 173 "http://www.lxiao.net:8000/manage/blogs" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/66.0.3359.181 Safari/537.36"
INFO:root:Found model: User (table: users)
INFO:root:  Found mapping: name ==> <StringField, varchar(100):None>
INFO:root:  Found mapping: id ==> <IntegerField, bigint:None>
INFO:root:Found model: User (table: users)
INFO:root:  Found mapping: created_at ==> <FloatField, real:None>
INFO:root:  Found mapping: image ==> <StringField, varchar(500):None>
INFO:root:  Found mapping: name ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: passwd ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: admin ==> <BooleanField, boolean:None>
INFO:root:  Found mapping: email ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: id ==> <StringField, varchar(50):None>
INFO:root:Found model: Blog (table: blogs)
INFO:root:  Found mapping: created_at ==> <FloatField, real:None>
INFO:root:  Found mapping: content ==> <TextField, text:None>
INFO:root:  Found mapping: summary ==> <StringField, varchar(200):None>
INFO:root:  Found mapping: id ==> <StringField, varchat(50):None>
INFO:root:  Found mapping: user_name ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: user_image ==> <StringField, varchar(500):None>
INFO:root:  Found mapping: private ==> <BooleanField, boolean:None>
INFO:root:  Found mapping: name ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: user_id ==> <StringField, varchar(50):None>
INFO:root:Found model: Comment (table: comments)
INFO:root:  Found mapping: created_at ==> <FloatField, real:None>
INFO:root:  Found mapping: blog_id ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: user_name ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: content ==> <TextField, text:None>
INFO:root:  Found mapping: user_image ==> <StringField, varchar(500):None>
INFO:root:  Found mapping: id ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: user_id ==> <StringField, varchar(50):None>
INFO:root:Create database connection pool...
INFO:root:Init jinja2...
INFO:root:Set jinja2 template path: /home/admin/webapp/www/templates
INFO:root:add route GET /api/blogs => api_blogs(request, page)
INFO:root:add route GET /api/comments => api_comments(page)
INFO:root:add route POST /api/blogs => api_create_blog(request, name, summary, content, private)
INFO:root:add route POST /api/blogs/{id}/comments => api_create_comment(id, request, content)
INFO:root:add route POST /api/blogs/{id}/delete => api_delete_blog(id, request)
INFO:root:add route POST /api/comments/{id}/delete => api_delete_comment(id, request)
INFO:root:add route GET /api/blogs/{id} => api_get_blog(id)
INFO:root:add route GET /api/blogs/{id}/secret => api_get_private(id, request)
INFO:root:add route GET /api/users => api_get_users(page)
INFO:root:add route POST /api/users => api_register_user(email, name, passwd)
INFO:root:add route POST /api/blogs/{id}/secret => api_set_private(id, request)
INFO:root:add route POST /api/blogs/{id} => api_update_blog(id, request, name, summary, content, private)
INFO:root:add route POST /api/authenticate => authenticate(email, passwd)
INFO:root:add route GET /blog/{id} => get_blog(id)
INFO:root:add route GET / => index(request, page)
INFO:root:add route GET /manage/ => manage()
INFO:root:add route GET /manage/blogs => manage_blogs(page)
INFO:root:add route GET /manage/comments => manage_comments(page)
INFO:root:add route GET /manage/blogs/create => manage_create_blogs()
INFO:root:add route GET /manage/blogs/edit => manage_edit_blog(id)
INFO:root:add route GET /manage/users => manage_users(page)
INFO:root:add route GET /register => register()
INFO:root:add route GET /signin => signin()
INFO:root:add route GET /signout => signout(request)
INFO:root:add static /static/ => /home/admin/webapp/www/static
INFO:root:Server started at http://60.205.221.43:80...
INFO:root:Request: GET /manage/blogs
INFO:root:Check user: GET /manage/blogs
INFO:root:SQL: select `id`, `created_at`, `image`, `name`, `passwd`, `admin`, `email` from `users` where `id`=?
INFO:root:Rows returned: 1
INFO:root:Set current user: m15801021028@163.com
INFO:root:Response handler...
INFO:root:Call with arg: {}
INFO:aiohttp.access:106.120.206.159 [22/May/2018:06:25:17 +0000] "GET /manage/blogs HTTP/1.1" 200 7326 "http://www.lxiao.net:8000/" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/66.0.3359.181 Safari/537.36"
INFO:root:Request: GET /api/blogs
INFO:root:Check user: GET /api/blogs
INFO:root:SQL: select `id`, `created_at`, `image`, `name`, `passwd`, `admin`, `email` from `users` where `id`=?
INFO:root:Rows returned: 1
INFO:root:Set current user: m15801021028@163.com
INFO:root:Response handler...
INFO:root:Call with arg: {'request': <Request GET /api/blogs >, 'page': '1'}
INFO:root:SQL: select count(id) _num_ from `blogs`
INFO:root:Rows returned: 1
INFO:root:SQL: select `id`, `created_at`, `content`, `summary`, `user_name`, `user_image`, `private`, `name`, `user_id` from `blogs` order by created_at desc limit ?, ?
INFO:root:Rows returned: 5
INFO:aiohttp.access:106.120.206.159 [22/May/2018:06:25:17 +0000] "GET /api/blogs?page=1 HTTP/1.1" 200 29702 "http://www.lxiao.net:8000/manage/blogs" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/66.0.3359.181 Safari/537.36"
INFO:root:Found model: User (table: users)
INFO:root:  Found mapping: name ==> <StringField, varchar(100):None>
INFO:root:  Found mapping: id ==> <IntegerField, bigint:None>
INFO:root:Found model: User (table: users)
INFO:root:  Found mapping: email ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: image ==> <StringField, varchar(500):None>
INFO:root:  Found mapping: id ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: passwd ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: created_at ==> <FloatField, real:None>
INFO:root:  Found mapping: name ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: admin ==> <BooleanField, boolean:None>
INFO:root:Found model: Blog (table: blogs)
INFO:root:  Found mapping: summary ==> <StringField, varchar(200):None>
INFO:root:  Found mapping: private ==> <BooleanField, boolean:None>
INFO:root:  Found mapping: created_at ==> <FloatField, real:None>
INFO:root:  Found mapping: user_image ==> <StringField, varchar(500):None>
INFO:root:  Found mapping: user_id ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: user_name ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: name ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: id ==> <StringField, varchat(50):None>
INFO:root:  Found mapping: content ==> <TextField, text:None>
INFO:root:Found model: Comment (table: comments)
INFO:root:  Found mapping: user_name ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: id ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: blog_id ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: content ==> <TextField, text:None>
INFO:root:  Found mapping: created_at ==> <FloatField, real:None>
INFO:root:  Found mapping: user_image ==> <StringField, varchar(500):None>
INFO:root:  Found mapping: user_id ==> <StringField, varchar(50):None>
INFO:root:Create database connection pool...
INFO:root:Init jinja2...
INFO:root:Set jinja2 template path: /home/admin/webapp/www/templates
INFO:root:add route GET /api/blogs => api_blogs(request, page)
INFO:root:add route GET /api/comments => api_comments(page)
INFO:root:add route POST /api/blogs => api_create_blog(request, name, summary, content, private)
INFO:root:add route POST /api/blogs/{id}/comments => api_create_comment(id, request, content)
INFO:root:add route POST /api/blogs/{id}/delete => api_delete_blog(id, request)
INFO:root:add route POST /api/comments/{id}/delete => api_delete_comment(id, request)
INFO:root:add route GET /api/blogs/{id} => api_get_blog(id)
INFO:root:add route GET /api/blogs/{id}/secret => api_get_private(id, request)
INFO:root:add route GET /api/users => api_get_users(page)
INFO:root:add route POST /api/users => api_register_user(email, name, passwd)
INFO:root:add route POST /api/blogs/{id}/secret => api_set_private(id, request)
INFO:root:add route POST /api/blogs/{id} => api_update_blog(id, request, name, summary, content, private)
INFO:root:add route POST /api/authenticate => authenticate(email, passwd)
INFO:root:add route GET /blog/{id} => get_blog(id)
INFO:root:add route GET / => index(request, page)
INFO:root:add route GET /manage/ => manage()
INFO:root:add route GET /manage/blogs => manage_blogs(page)
INFO:root:add route GET /manage/comments => manage_comments(page)
INFO:root:add route GET /manage/blogs/create => manage_create_blogs()
INFO:root:add route GET /manage/blogs/edit => manage_edit_blog(id)
INFO:root:add route GET /manage/users => manage_users(page)
INFO:root:add route GET /register => register()
INFO:root:add route GET /signin => signin()
INFO:root:add route GET /signout => signout(request)
INFO:root:add static /static/ => /home/admin/webapp/www/static
INFO:root:Server started at http://60.205.221.43:80...
INFO:root:Request: GET /manage/blogs
INFO:root:Check user: GET /manage/blogs
INFO:root:SQL: select `id`, `email`, `image`, `passwd`, `created_at`, `name`, `admin` from `users` where `id`=?
INFO:root:Rows returned: 1
INFO:root:Set current user: m15801021028@163.com
INFO:root:Response handler...
INFO:root:Call with arg: {}
INFO:aiohttp.access:106.120.206.159 [22/May/2018:06:27:26 +0000] "GET /manage/blogs HTTP/1.1" 200 7328 "http://www.lxiao.net:8000/" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/66.0.3359.181 Safari/537.36"
INFO:root:Request: GET /api/blogs
INFO:root:Check user: GET /api/blogs
INFO:root:SQL: select `id`, `email`, `image`, `passwd`, `created_at`, `name`, `admin` from `users` where `id`=?
INFO:root:Rows returned: 1
INFO:root:Set current user: m15801021028@163.com
INFO:root:Response handler...
INFO:root:Call with arg: {'request': <Request GET /api/blogs >, 'page': '1'}
INFO:root:SQL: select count(id) _num_ from `blogs`
INFO:root:Rows returned: 1
INFO:root:SQL: select `id`, `summary`, `private`, `created_at`, `user_image`, `user_id`, `user_name`, `name`, `content` from `blogs` order by created_at desc limit ?, ?
INFO:root:Rows returned: 5
INFO:aiohttp.access:106.120.206.159 [22/May/2018:06:27:26 +0000] "GET /api/blogs?page=1 HTTP/1.1" 200 29702 "http://www.lxiao.net:8000/manage/blogs" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/66.0.3359.181 Safari/537.36"
INFO:root:Found model: User (table: users)
INFO:root:  Found mapping: id ==> <IntegerField, bigint:None>
INFO:root:  Found mapping: name ==> <StringField, varchar(100):None>
INFO:root:Found model: User (table: users)
INFO:root:  Found mapping: image ==> <StringField, varchar(500):None>
INFO:root:  Found mapping: passwd ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: admin ==> <BooleanField, boolean:None>
INFO:root:  Found mapping: created_at ==> <FloatField, real:None>
INFO:root:  Found mapping: name ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: id ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: email ==> <StringField, varchar(50):None>
INFO:root:Found model: Blog (table: blogs)
INFO:root:  Found mapping: user_name ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: user_id ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: summary ==> <StringField, varchar(200):None>
INFO:root:  Found mapping: content ==> <TextField, text:None>
INFO:root:  Found mapping: private ==> <BooleanField, boolean:None>
INFO:root:  Found mapping: id ==> <StringField, varchat(50):None>
INFO:root:  Found mapping: created_at ==> <FloatField, real:None>
INFO:root:  Found mapping: user_image ==> <StringField, varchar(500):None>
INFO:root:  Found mapping: name ==> <StringField, varchar(50):None>
INFO:root:Found model: Comment (table: comments)
INFO:root:  Found mapping: created_at ==> <FloatField, real:None>
INFO:root:  Found mapping: user_id ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: content ==> <TextField, text:None>
INFO:root:  Found mapping: blog_id ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: user_name ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: id ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: user_image ==> <StringField, varchar(500):None>
INFO:root:Create database connection pool...
INFO:root:Init jinja2...
INFO:root:Set jinja2 template path: /home/admin/webapp/www/templates
INFO:root:add route GET /api/blogs => api_blogs(request, page)
INFO:root:add route GET /api/comments => api_comments(page)
INFO:root:add route POST /api/blogs => api_create_blog(request, name, summary, content, private)
INFO:root:add route POST /api/blogs/{id}/comments => api_create_comment(id, request, content)
INFO:root:add route POST /api/blogs/{id}/delete => api_delete_blog(id, request)
INFO:root:add route POST /api/comments/{id}/delete => api_delete_comment(id, request)
INFO:root:add route GET /api/blogs/{id} => api_get_blog(id)
INFO:root:add route GET /api/blogs/{id}/secret => api_get_private(id, request)
INFO:root:add route GET /api/users => api_get_users(page)
INFO:root:add route POST /api/users => api_register_user(email, name, passwd)
INFO:root:add route POST /api/blogs/{id}/secret => api_set_private(id, request)
INFO:root:add route POST /api/blogs/{id} => api_update_blog(id, request, name, summary, content, private)
INFO:root:add route POST /api/authenticate => authenticate(email, passwd)
INFO:root:add route GET /blog/{id} => get_blog(id)
INFO:root:add route GET / => index(request, page)
INFO:root:add route GET /manage/ => manage()
INFO:root:add route GET /manage/blogs => manage_blogs(page)
INFO:root:add route GET /manage/comments => manage_comments(page)
INFO:root:add route GET /manage/blogs/create => manage_create_blogs()
INFO:root:add route GET /manage/blogs/edit => manage_edit_blog(id)
INFO:root:add route GET /manage/users => manage_users(page)
INFO:root:add route GET /register => register()
INFO:root:add route GET /signin => signin()
INFO:root:add route GET /signout => signout(request)
INFO:root:add static /static/ => /home/admin/webapp/www/static
INFO:root:Server started at http://60.205.221.43:80...
INFO:root:Found model: User (table: users)
INFO:root:  Found mapping: id ==> <IntegerField, bigint:None>
INFO:root:  Found mapping: name ==> <StringField, varchar(100):None>
INFO:root:Found model: User (table: users)
INFO:root:  Found mapping: email ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: created_at ==> <FloatField, real:None>
INFO:root:  Found mapping: passwd ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: name ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: image ==> <StringField, varchar(500):None>
INFO:root:  Found mapping: id ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: admin ==> <BooleanField, boolean:None>
INFO:root:Found model: Blog (table: blogs)
INFO:root:  Found mapping: id ==> <StringField, varchat(50):None>
INFO:root:  Found mapping: created_at ==> <FloatField, real:None>
INFO:root:  Found mapping: summary ==> <StringField, varchar(200):None>
INFO:root:  Found mapping: name ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: user_image ==> <StringField, varchar(500):None>
INFO:root:  Found mapping: user_id ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: private ==> <BooleanField, boolean:None>
INFO:root:  Found mapping: user_name ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: content ==> <TextField, text:None>
INFO:root:Found model: Comment (table: comments)
INFO:root:  Found mapping: created_at ==> <FloatField, real:None>
INFO:root:  Found mapping: blog_id ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: content ==> <TextField, text:None>
INFO:root:  Found mapping: user_name ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: user_image ==> <StringField, varchar(500):None>
INFO:root:  Found mapping: id ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: user_id ==> <StringField, varchar(50):None>
INFO:root:Create database connection pool...
INFO:root:Init jinja2...
INFO:root:Set jinja2 template path: /home/admin/webapp/www/templates
INFO:root:add route GET /api/blogs => api_blogs(request, page)
INFO:root:add route GET /api/comments => api_comments(page)
INFO:root:add route POST /api/blogs => api_create_blog(request, name, summary, content, private)
INFO:root:add route POST /api/blogs/{id}/comments => api_create_comment(id, request, content)
INFO:root:add route POST /api/blogs/{id}/delete => api_delete_blog(id, request)
INFO:root:add route POST /api/comments/{id}/delete => api_delete_comment(id, request)
INFO:root:add route GET /api/blogs/{id} => api_get_blog(id)
INFO:root:add route GET /api/blogs/{id}/secret => api_get_private(id, request)
INFO:root:add route GET /api/users => api_get_users(page)
INFO:root:add route POST /api/users => api_register_user(email, name, passwd)
INFO:root:add route POST /api/blogs/{id}/secret => api_set_private(id, request)
INFO:root:add route POST /api/blogs/{id} => api_update_blog(id, request, name, summary, content, private)
INFO:root:add route POST /api/authenticate => authenticate(email, passwd)
INFO:root:add route GET /blog/{id} => get_blog(id)
INFO:root:add route GET / => index(request, page)
INFO:root:add route GET /manage/ => manage()
INFO:root:add route GET /manage/blogs => manage_blogs(page)
INFO:root:add route GET /manage/comments => manage_comments(page)
INFO:root:add route GET /manage/blogs/create => manage_create_blogs()
INFO:root:add route GET /manage/blogs/edit => manage_edit_blog(id)
INFO:root:add route GET /manage/users => manage_users(page)
INFO:root:add route GET /register => register()
INFO:root:add route GET /signin => signin()
INFO:root:add route GET /signout => signout(request)
INFO:root:add static /static/ => /home/admin/webapp/www/static
INFO:root:Server started at http://60.205.221.43:80...
INFO:root:Request: GET /manage/blogs
INFO:root:Check user: GET /manage/blogs
INFO:root:SQL: select `id`, `email`, `created_at`, `passwd`, `name`, `image`, `admin` from `users` where `id`=?
INFO:root:Rows returned: 1
INFO:root:Set current user: m15801021028@163.com
INFO:root:Response handler...
INFO:root:Call with arg: {}
INFO:aiohttp.access:106.120.206.159 [22/May/2018:06:31:46 +0000] "GET /manage/blogs HTTP/1.1" 200 7317 "http://www.lxiao.net:8000/" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/66.0.3359.181 Safari/537.36"
INFO:root:Request: GET /api/blogs
INFO:root:Check user: GET /api/blogs
INFO:root:SQL: select `id`, `email`, `created_at`, `passwd`, `name`, `image`, `admin` from `users` where `id`=?
INFO:root:Rows returned: 1
INFO:root:Set current user: m15801021028@163.com
INFO:root:Response handler...
INFO:root:Call with arg: {'page': '1', 'request': <Request GET /api/blogs >}
INFO:root:SQL: select count(id) _num_ from `blogs`
INFO:root:Rows returned: 1
INFO:root:SQL: select `id`, `created_at`, `summary`, `name`, `user_image`, `user_id`, `private`, `user_name`, `content` from `blogs` order by created_at desc limit ?, ?
INFO:root:Rows returned: 5
INFO:aiohttp.access:106.120.206.159 [22/May/2018:06:31:47 +0000] "GET /api/blogs?page=1 HTTP/1.1" 200 29702 "http://www.lxiao.net:8000/manage/blogs" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/66.0.3359.181 Safari/537.36"
INFO:root:Found model: User (table: users)
INFO:root:  Found mapping: name ==> <StringField, varchar(100):None>
INFO:root:  Found mapping: id ==> <IntegerField, bigint:None>
INFO:root:Found model: User (table: users)
INFO:root:  Found mapping: id ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: name ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: created_at ==> <FloatField, real:None>
INFO:root:  Found mapping: passwd ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: admin ==> <BooleanField, boolean:None>
INFO:root:  Found mapping: image ==> <StringField, varchar(500):None>
INFO:root:  Found mapping: email ==> <StringField, varchar(50):None>
INFO:root:Found model: Blog (table: blogs)
INFO:root:  Found mapping: created_at ==> <FloatField, real:None>
INFO:root:  Found mapping: id ==> <StringField, varchat(50):None>
INFO:root:  Found mapping: content ==> <TextField, text:None>
INFO:root:  Found mapping: user_name ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: summary ==> <StringField, varchar(200):None>
INFO:root:  Found mapping: private ==> <BooleanField, boolean:None>
INFO:root:  Found mapping: user_image ==> <StringField, varchar(500):None>
INFO:root:  Found mapping: name ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: user_id ==> <StringField, varchar(50):None>
INFO:root:Found model: Comment (table: comments)
INFO:root:  Found mapping: id ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: content ==> <TextField, text:None>
INFO:root:  Found mapping: user_name ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: created_at ==> <FloatField, real:None>
INFO:root:  Found mapping: blog_id ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: user_id ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: user_image ==> <StringField, varchar(500):None>
INFO:root:Create database connection pool...
INFO:root:Init jinja2...
INFO:root:Set jinja2 template path: /home/admin/webapp/www/templates
INFO:root:add route GET /api/blogs => api_blogs(request, page)
INFO:root:add route GET /api/comments => api_comments(page)
INFO:root:add route POST /api/blogs => api_create_blog(request, name, summary, content, private)
INFO:root:add route POST /api/blogs/{id}/comments => api_create_comment(id, request, content)
INFO:root:add route POST /api/blogs/{id}/delete => api_delete_blog(id, request)
INFO:root:add route POST /api/comments/{id}/delete => api_delete_comment(id, request)
INFO:root:add route GET /api/blogs/{id} => api_get_blog(id)
INFO:root:add route GET /api/blogs/{id}/secret => api_get_private(id, request)
INFO:root:add route GET /api/users => api_get_users(page)
INFO:root:add route POST /api/users => api_register_user(email, name, passwd)
INFO:root:add route POST /api/blogs/{id}/secret => api_set_private(id, request)
INFO:root:add route POST /api/blogs/{id} => api_update_blog(id, request, name, summary, content, private)
INFO:root:add route POST /api/authenticate => authenticate(email, passwd)
INFO:root:add route GET /blog/{id} => get_blog(id)
INFO:root:add route GET / => index(request, page)
INFO:root:add route GET /manage/ => manage()
INFO:root:add route GET /manage/blogs => manage_blogs(page)
INFO:root:add route GET /manage/comments => manage_comments(page)
INFO:root:add route GET /manage/blogs/create => manage_create_blogs()
INFO:root:add route GET /manage/blogs/edit => manage_edit_blog(id)
INFO:root:add route GET /manage/users => manage_users(page)
INFO:root:add route GET /register => register()
INFO:root:add route GET /signin => signin()
INFO:root:add route GET /signout => signout(request)
INFO:root:add static /static/ => /home/admin/webapp/www/static
INFO:root:Server started at http://60.205.221.43:80...
INFO:root:Request: GET /manage/blogs
INFO:root:Check user: GET /manage/blogs
INFO:root:SQL: select `id`, `name`, `created_at`, `passwd`, `admin`, `image`, `email` from `users` where `id`=?
INFO:root:Rows returned: 1
INFO:root:Set current user: m15801021028@163.com
INFO:root:Response handler...
INFO:root:Call with arg: {}
INFO:aiohttp.access:106.120.206.159 [22/May/2018:06:32:00 +0000] "GET /manage/blogs HTTP/1.1" 200 7320 "http://www.lxiao.net:8000/" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/66.0.3359.181 Safari/537.36"
INFO:root:Request: GET /api/blogs
INFO:root:Check user: GET /api/blogs
INFO:root:SQL: select `id`, `name`, `created_at`, `passwd`, `admin`, `image`, `email` from `users` where `id`=?
INFO:root:Rows returned: 1
INFO:root:Set current user: m15801021028@163.com
INFO:root:Response handler...
INFO:root:Call with arg: {'request': <Request GET /api/blogs >, 'page': '1'}
INFO:root:SQL: select count(id) _num_ from `blogs`
INFO:root:Rows returned: 1
INFO:root:SQL: select `id`, `created_at`, `content`, `user_name`, `summary`, `private`, `user_image`, `name`, `user_id` from `blogs` order by created_at desc limit ?, ?
INFO:root:Rows returned: 5
INFO:aiohttp.access:106.120.206.159 [22/May/2018:06:32:00 +0000] "GET /api/blogs?page=1 HTTP/1.1" 200 29702 "http://www.lxiao.net:8000/manage/blogs" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/66.0.3359.181 Safari/537.36"
INFO:root:Found model: User (table: users)
INFO:root:  Found mapping: name ==> <StringField, varchar(100):None>
INFO:root:  Found mapping: id ==> <IntegerField, bigint:None>
INFO:root:Found model: User (table: users)
INFO:root:  Found mapping: created_at ==> <FloatField, real:None>
INFO:root:  Found mapping: name ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: passwd ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: image ==> <StringField, varchar(500):None>
INFO:root:  Found mapping: email ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: id ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: admin ==> <BooleanField, boolean:None>
INFO:root:Found model: Blog (table: blogs)
INFO:root:  Found mapping: user_name ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: name ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: created_at ==> <FloatField, real:None>
INFO:root:  Found mapping: user_id ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: private ==> <BooleanField, boolean:None>
INFO:root:  Found mapping: user_image ==> <StringField, varchar(500):None>
INFO:root:  Found mapping: content ==> <TextField, text:None>
INFO:root:  Found mapping: summary ==> <StringField, varchar(200):None>
INFO:root:  Found mapping: id ==> <StringField, varchat(50):None>
INFO:root:Found model: Comment (table: comments)
INFO:root:  Found mapping: user_id ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: blog_id ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: user_name ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: user_image ==> <StringField, varchar(500):None>
INFO:root:  Found mapping: content ==> <TextField, text:None>
INFO:root:  Found mapping: created_at ==> <FloatField, real:None>
INFO:root:  Found mapping: id ==> <StringField, varchar(50):None>
INFO:root:Create database connection pool...
INFO:root:Init jinja2...
INFO:root:Set jinja2 template path: /home/admin/webapp/www/templates
INFO:root:add route GET /api/blogs => api_blogs(request, page)
INFO:root:add route GET /api/comments => api_comments(page)
INFO:root:add route POST /api/blogs => api_create_blog(request, name, summary, content, private)
INFO:root:add route POST /api/blogs/{id}/comments => api_create_comment(id, request, content)
INFO:root:add route POST /api/blogs/{id}/delete => api_delete_blog(id, request)
INFO:root:add route POST /api/comments/{id}/delete => api_delete_comment(id, request)
INFO:root:add route GET /api/blogs/{id} => api_get_blog(id)
INFO:root:add route GET /api/blogs/{id}/secret => api_get_private(id, request)
INFO:root:add route GET /api/users => api_get_users(page)
INFO:root:add route POST /api/users => api_register_user(email, name, passwd)
INFO:root:add route POST /api/blogs/{id}/secret => api_set_private(id, request)
INFO:root:add route POST /api/blogs/{id} => api_update_blog(id, request, name, summary, content, private)
INFO:root:add route POST /api/authenticate => authenticate(email, passwd)
INFO:root:add route GET /blog/{id} => get_blog(id)
INFO:root:add route GET / => index(request, page)
INFO:root:add route GET /manage/ => manage()
INFO:root:add route GET /manage/blogs => manage_blogs(page)
INFO:root:add route GET /manage/comments => manage_comments(page)
INFO:root:add route GET /manage/blogs/create => manage_create_blogs()
INFO:root:add route GET /manage/blogs/edit => manage_edit_blog(id)
INFO:root:add route GET /manage/users => manage_users(page)
INFO:root:add route GET /register => register()
INFO:root:add route GET /signin => signin()
INFO:root:add route GET /signout => signout(request)
INFO:root:add static /static/ => /home/admin/webapp/www/static
INFO:root:Server started at http://60.205.221.43:80...
INFO:root:Request: GET /manage/blogs
INFO:root:Check user: GET /manage/blogs
INFO:root:SQL: select `id`, `created_at`, `name`, `passwd`, `image`, `email`, `admin` from `users` where `id`=?
INFO:root:Rows returned: 1
INFO:root:Set current user: m15801021028@163.com
INFO:root:Response handler...
INFO:root:Call with arg: {}
INFO:aiohttp.access:106.120.206.159 [22/May/2018:06:33:14 +0000] "GET /manage/blogs HTTP/1.1" 200 7321 "http://www.lxiao.net:8000/" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/66.0.3359.181 Safari/537.36"
INFO:root:Request: GET /api/blogs
INFO:root:Check user: GET /api/blogs
INFO:root:SQL: select `id`, `created_at`, `name`, `passwd`, `image`, `email`, `admin` from `users` where `id`=?
INFO:root:Rows returned: 1
INFO:root:Set current user: m15801021028@163.com
INFO:root:Response handler...
INFO:root:Call with arg: {'page': '1', 'request': <Request GET /api/blogs >}
INFO:root:SQL: select count(id) _num_ from `blogs`
INFO:root:Rows returned: 1
INFO:root:SQL: select `id`, `user_name`, `name`, `created_at`, `user_id`, `private`, `user_image`, `content`, `summary` from `blogs` order by created_at desc limit ?, ?
INFO:root:Rows returned: 5
INFO:aiohttp.access:106.120.206.159 [22/May/2018:06:33:14 +0000] "GET /api/blogs?page=1 HTTP/1.1" 200 29702 "http://www.lxiao.net:8000/manage/blogs" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/66.0.3359.181 Safari/537.36"
INFO:root:Found model: User (table: users)
INFO:root:  Found mapping: name ==> <StringField, varchar(100):None>
INFO:root:  Found mapping: id ==> <IntegerField, bigint:None>
INFO:root:Found model: User (table: users)
INFO:root:  Found mapping: email ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: admin ==> <BooleanField, boolean:None>
INFO:root:  Found mapping: image ==> <StringField, varchar(500):None>
INFO:root:  Found mapping: passwd ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: id ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: name ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: created_at ==> <FloatField, real:None>
INFO:root:Found model: Blog (table: blogs)
INFO:root:  Found mapping: user_id ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: id ==> <StringField, varchat(50):None>
INFO:root:  Found mapping: content ==> <TextField, text:None>
INFO:root:  Found mapping: user_image ==> <StringField, varchar(500):None>
INFO:root:  Found mapping: user_name ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: created_at ==> <FloatField, real:None>
INFO:root:  Found mapping: name ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: private ==> <BooleanField, boolean:None>
INFO:root:  Found mapping: summary ==> <StringField, varchar(200):None>
INFO:root:Found model: Comment (table: comments)
INFO:root:  Found mapping: user_name ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: user_id ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: id ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: blog_id ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: content ==> <TextField, text:None>
INFO:root:  Found mapping: created_at ==> <FloatField, real:None>
INFO:root:  Found mapping: user_image ==> <StringField, varchar(500):None>
INFO:root:Create database connection pool...
INFO:root:Init jinja2...
INFO:root:Set jinja2 template path: /home/admin/webapp/www/templates
INFO:root:add route GET /api/blogs => api_blogs(request, page)
INFO:root:add route GET /api/comments => api_comments(page)
INFO:root:add route POST /api/blogs => api_create_blog(request, name, summary, content, private)
INFO:root:add route POST /api/blogs/{id}/comments => api_create_comment(id, request, content)
INFO:root:add route POST /api/blogs/{id}/delete => api_delete_blog(id, request)
INFO:root:add route POST /api/comments/{id}/delete => api_delete_comment(id, request)
INFO:root:add route GET /api/blogs/{id} => api_get_blog(id)
INFO:root:add route GET /api/blogs/{id}/secret => api_get_private(id, request)
INFO:root:add route GET /api/users => api_get_users(page)
INFO:root:add route POST /api/users => api_register_user(email, name, passwd)
INFO:root:add route POST /api/blogs/{id}/secret => api_set_private(id, request)
INFO:root:add route POST /api/blogs/{id} => api_update_blog(id, request, name, summary, content, private)
INFO:root:add route POST /api/authenticate => authenticate(email, passwd)
INFO:root:add route GET /blog/{id} => get_blog(id)
INFO:root:add route GET / => index(request, page)
INFO:root:add route GET /manage/ => manage()
INFO:root:add route GET /manage/blogs => manage_blogs(page)
INFO:root:add route GET /manage/comments => manage_comments(page)
INFO:root:add route GET /manage/blogs/create => manage_create_blogs()
INFO:root:add route GET /manage/blogs/edit => manage_edit_blog(id)
INFO:root:add route GET /manage/users => manage_users(page)
INFO:root:add route GET /register => register()
INFO:root:add route GET /signin => signin()
INFO:root:add route GET /signout => signout(request)
INFO:root:add static /static/ => /home/admin/webapp/www/static
INFO:root:Server started at http://60.205.221.43:80...
INFO:root:Request: GET /manage/blogs
INFO:root:Check user: GET /manage/blogs
INFO:root:SQL: select `id`, `email`, `admin`, `image`, `passwd`, `name`, `created_at` from `users` where `id`=?
INFO:root:Rows returned: 1
INFO:root:Set current user: m15801021028@163.com
INFO:root:Response handler...
INFO:root:Call with arg: {}
INFO:aiohttp.access:106.120.206.159 [22/May/2018:06:34:21 +0000] "GET /manage/blogs HTTP/1.1" 200 7283 "http://www.lxiao.net:8000/" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/66.0.3359.181 Safari/537.36"
INFO:root:Request: GET /api/blogs
INFO:root:Check user: GET /api/blogs
INFO:root:SQL: select `id`, `email`, `admin`, `image`, `passwd`, `name`, `created_at` from `users` where `id`=?
INFO:root:Rows returned: 1
INFO:root:Set current user: m15801021028@163.com
INFO:root:Response handler...
INFO:root:Call with arg: {'request': <Request GET /api/blogs >, 'page': '1'}
INFO:root:SQL: select count(id) _num_ from `blogs`
INFO:root:Rows returned: 1
INFO:root:SQL: select `id`, `user_id`, `content`, `user_image`, `user_name`, `created_at`, `name`, `private`, `summary` from `blogs` order by created_at desc limit ?, ?
INFO:root:Rows returned: 5
INFO:aiohttp.access:106.120.206.159 [22/May/2018:06:34:21 +0000] "GET /api/blogs?page=1 HTTP/1.1" 200 29702 "http://www.lxiao.net:8000/manage/blogs" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/66.0.3359.181 Safari/537.36"

[Monitor] Process ended with code -9.
[Monitor] Start process python3 app.py...
[Monitor] HTML source file changed: /home/admin/webapp/www/templates/manage_blogs.html
[Monitor] Kill process [19423]...
[Monitor] Process ended with code -9.
[Monitor] Start process python3 app.py...
[Monitor] HTML source file changed: /home/admin/webapp/www/templates/manage_blogs.html
[Monitor] Kill process [19424]...
[Monitor] Process ended with code -9.
[Monitor] Start process python3 app.py...
[Monitor] HTML source file changed: /home/admin/webapp/www/templates/manage_blogs.html
[Monitor] Kill process [19429]...
[Monitor] Process ended with code -9.
[Monitor] Start process python3 app.py...
[Monitor] HTML source file changed: /home/admin/webapp/www/templates/manage_blogs.html
[Monitor] Kill process [19430]...
[Monitor] Process ended with code -9.
[Monitor] Start process python3 app.py...
[Monitor] HTML source file changed: /home/admin/webapp/www/templates/manage_blogs.html
[Monitor] Kill process [20212]...
[Monitor] Process ended with code -9.
[Monitor] Start process python3 app.py...
[Monitor] HTML source file changed: /home/admin/webapp/www/templates/manage_blogs.html
[Monitor] Kill process [20213]...
[Monitor] Process ended with code -9.
[Monitor] Start process python3 app.py...
[Monitor] HTML source file changed: /home/admin/webapp/www/templates/manage_blogs.html
[Monitor] Kill process [20244]...
[Monitor] Process ended with code -9.
[Monitor] Start process python3 app.py...
[Monitor] HTML source file changed: /home/admin/webapp/www/templates/manage_blogs.html
[Monitor] Kill process [20245]...
[Monitor] Process ended with code -9.
[Monitor] Start process python3 app.py...
[Monitor] HTML source file changed: /home/admin/webapp/www/templates/manage_blogs.html
[Monitor] Kill process [20266]...
[Monitor] Process ended with code -9.
[Monitor] Start process python3 app.py...
[Monitor] HTML source file changed: /home/admin/webapp/www/templates/manage_blogs.html
[Monitor] Kill process [20267]...
[Monitor] Process ended with code -9.
[Monitor] Start process python3 app.py...
[Monitor] HTML source file changed: /home/admin/webapp/www/templates/manage_blogs.html
[Monitor] Kill process [20273]...
[Monitor] Process ended with code -9.
[Monitor] Start process python3 app.py...
[Monitor] HTML source file changed: /home/admin/webapp/www/templates/manage_blogs.html
[Monitor] Kill process [20274]...
[Monitor] Process ended with code -9.
[Monitor] Start process python3 app.py...
[Monitor] HTML source file changed: /home/admin/webapp/www/templates/manage_blogs.html
[Monitor] Kill process [20284]...
[Monitor] Process ended with code -9.
[Monitor] Start process python3 app.py...
[Monitor] HTML source file changed: /home/admin/webapp/www/templates/manage_blogs.html
[Monitor] Kill process [20285]...
[Monitor] Process ended with code -9.
[Monitor] Start process python3 app.py...
[Monitor] HTML source file changed: /home/admin/webapp/www/templates/manage_blogs.html
[Monitor] Kill process [20291]...
[Monitor] Process ended with code -9.
[Monitor] Start process python3 app.py...
[Monitor] HTML source file changed: /home/admin/webapp/www/templates/manage_blogs.html
[Monitor] Kill process [20292]...
[Monitor] Process ended with code -9.
[Monitor] Start process python3 app.py...
[Monitor] HTML source file changed: /home/admin/webapp/www/templates/manage_blogs.html
[Monitor] Kill process [20311]...
[Monitor] Process ended with code -9.
[Monitor] Start process python3 app.py...
[Monitor] HTML source file changed: /home/admin/webapp/www/templates/manage_blogs.html
[Monitor] Kill process [20312]...
[Monitor] Process ended with code -9.
[Monitor] Start process python3 app.py...
[Monitor] HTML source file changed: /home/admin/webapp/www/templates/manage_blogs.html
[Monitor] Kill process [20317]...
[Monitor] Process ended with code -9.
[Monitor] Start process python3 app.py...
[Monitor] HTML source file changed: /home/admin/webapp/www/templates/manage_blogs.html
[Monitor] Kill process [20318]...
[Monitor] Process ended with code -9.
[Monitor] Start process python3 app.py...
[Monitor] HTML source file changed: /home/admin/webapp/www/templates/manage_blogs.html
[Monitor] Kill process [20324]...
[Monitor] Process ended with code -9.
[Monitor] Start process python3 app.py...
[Monitor] HTML source file changed: /home/admin/webapp/www/templates/manage_blogs.html
[Monitor] Kill process [20325]...
[Monitor] Process ended with code -9.
[Monitor] Start process python3 app.py...
[Monitor] HTML source file changed: /home/admin/webapp/www/templates/manage_blogs.html
[Monitor] Kill process [20361]...
[Monitor] Process ended with code -9.
[Monitor] Start process python3 app.py...
[Monitor] HTML source file changed: /home/admin/webapp/www/templates/manage_blogs.html
[Monitor] Kill process [20362]...
[Monitor] Process ended with code -9.
[Monitor] Start process python3 app.py...
[Monitor] HTML source file changed: /home/admin/webapp/www/templates/manage_blogs.html
[Monitor] Kill process [20367]...
[Monitor] Process ended with code -9.
[Monitor] Start process python3 app.py...
[Monitor] HTML source file changed: /home/admin/webapp/www/templates/manage_blogs.html
[Monitor] Kill process [20368]...
[Monitor] Process ended with code -9.
[Monitor] Start process python3 app.py...
[Monitor] HTML source file changed: /home/admin/webapp/www/templates/manage_blogs.html
[Monitor] Kill process [20404]...
[Monitor] Process ended with code -9.
[Monitor] Start process python3 app.py...
[Monitor] HTML source file changed: /home/admin/webapp/www/templates/manage_blogs.html
[Monitor] Kill process [20405]...
[Monitor] Process ended with code -9.
[Monitor] Start process python3 app.py...
[Monitor] HTML source file changed: /home/admin/webapp/www/templates/manage_blogs.html
[Monitor] Kill process [20418]...
[Monitor] Process ended with code -9.
[Monitor] Start process python3 app.py...
[Monitor] HTML source file changed: /home/admin/webapp/www/templates/manage_blogs.html
[Monitor] Kill process [20419]...
[Monitor] Process ended with code -9.
[Monitor] Start process python3 app.py...
[Monitor] HTML source file changed: /home/admin/webapp/www/templates/manage_blogs.html
[Monitor] Kill process [20437]...
[Monitor] Process ended with code -9.
[Monitor] Start process python3 app.py...
[Monitor] HTML source file changed: /home/admin/webapp/www/templates/manage_blogs.html
[Monitor] Kill process [20438]...
[Monitor] Process ended with code -9.
[Monitor] Start process python3 app.py...
[Monitor] HTML source file changed: /home/admin/webapp/www/templates/manage_blogs.html
[Monitor] Kill process [20445]...
[Monitor] Process ended with code -9.
[Monitor] Start process python3 app.py...
[Monitor] HTML source file changed: /home/admin/webapp/www/templates/manage_blogs.html
[Monitor] Kill process [20446]...
[Monitor] Process ended with code -9.
[Monitor] Start process python3 app.py...
[Monitor] HTML source file changed: /home/admin/webapp/www/templates/manage_blogs.html
[Monitor] Kill process [20450]...
[Monitor] Process ended with code -9.
[Monitor] Start process python3 app.py...
[Monitor] HTML source file changed: /home/admin/webapp/www/templates/manage_blogs.html
[Monitor] Kill process [20451]...
[Monitor] Process ended with code -9.
[Monitor] Start process python3 app.py...
[Monitor] HTML source file changed: /home/admin/webapp/www/templates/manage_blogs.html
[Monitor] Kill process [20462]...
[Monitor] Process ended with code -9.
[Monitor] Start process python3 app.py...
[Monitor] HTML source file changed: /home/admin/webapp/www/templates/manage_blogs.html
[Monitor] Kill process [20463]...
[Monitor] Process ended with code -9.
[Monitor] Start process python3 app.py...
[Monitor] HTML source file changed: /home/admin/webapp/www/templates/manage_blogs.html
[Monitor] Kill process [20471]...
[Monitor] Process ended with code -9.
[Monitor] Start process python3 app.py...
[Monitor] HTML source file changed: /home/admin/webapp/www/templates/manage_blogs.html
[Monitor] Kill process [20472]...
[Monitor] Process ended with code -9.
[Monitor] Start process python3 app.py...
[Monitor] HTML source file changed: /home/admin/webapp/www/templates/manage_blogs.htmlINFO:root:Found model: User (table: users)
INFO:root:  Found mapping: name ==> <StringField, varchar(100):None>
INFO:root:  Found mapping: id ==> <IntegerField, bigint:None>
INFO:root:Found model: User (table: users)
INFO:root:  Found mapping: email ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: admin ==> <BooleanField, boolean:None>
INFO:root:  Found mapping: name ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: passwd ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: created_at ==> <FloatField, real:None>
INFO:root:  Found mapping: id ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: image ==> <StringField, varchar(500):None>
INFO:root:Found model: Blog (table: blogs)
INFO:root:  Found mapping: content ==> <TextField, text:None>
INFO:root:  Found mapping: id ==> <StringField, varchat(50):None>
INFO:root:  Found mapping: user_name ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: user_id ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: summary ==> <StringField, varchar(200):None>
INFO:root:  Found mapping: created_at ==> <FloatField, real:None>
INFO:root:  Found mapping: user_image ==> <StringField, varchar(500):None>
INFO:root:  Found mapping: private ==> <BooleanField, boolean:None>
INFO:root:  Found mapping: name ==> <StringField, varchar(50):None>
INFO:root:Found model: Comment (table: comments)
INFO:root:  Found mapping: content ==> <TextField, text:None>
INFO:root:  Found mapping: user_name ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: user_id ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: blog_id ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: created_at ==> <FloatField, real:None>
INFO:root:  Found mapping: user_image ==> <StringField, varchar(500):None>
INFO:root:  Found mapping: id ==> <StringField, varchar(50):None>
INFO:root:Create database connection pool...
INFO:root:Init jinja2...
INFO:root:Set jinja2 template path: /home/admin/webapp/www/templates
INFO:root:add route GET /api/blogs => api_blogs(request, page)
INFO:root:add route GET /api/comments => api_comments(page)
INFO:root:add route POST /api/blogs => api_create_blog(request, name, summary, content, private)
INFO:root:add route POST /api/blogs/{id}/comments => api_create_comment(id, request, content)
INFO:root:add route POST /api/blogs/{id}/delete => api_delete_blog(id, request)
INFO:root:add route POST /api/comments/{id}/delete => api_delete_comment(id, request)
INFO:root:add route GET /api/blogs/{id} => api_get_blog(id)
INFO:root:add route GET /api/blogs/{id}/secret => api_get_private(id, request)
INFO:root:add route GET /api/users => api_get_users(page)
INFO:root:add route POST /api/users => api_register_user(email, name, passwd)
INFO:root:add route POST /api/blogs/{id}/secret => api_set_private(id, request)
INFO:root:add route POST /api/blogs/{id} => api_update_blog(id, request, name, summary, content, private)
INFO:root:add route POST /api/authenticate => authenticate(email, passwd)
INFO:root:add route GET /blog/{id} => get_blog(id)
INFO:root:add route GET / => index(request, page)
INFO:root:add route GET /manage/ => manage()
INFO:root:add route GET /manage/blogs => manage_blogs(page)
INFO:root:add route GET /manage/comments => manage_comments(page)
INFO:root:add route GET /manage/blogs/create => manage_create_blogs()
INFO:root:add route GET /manage/blogs/edit => manage_edit_blog(id)
INFO:root:add route GET /manage/users => manage_users(page)
INFO:root:add route GET /register => register()
INFO:root:add route GET /signin => signin()
INFO:root:add route GET /signout => signout(request)
INFO:root:add static /static/ => /home/admin/webapp/www/static
INFO:root:Server started at http://60.205.221.43:80...
INFO:root:Found model: User (table: users)
INFO:root:  Found mapping: name ==> <StringField, varchar(100):None>
INFO:root:  Found mapping: id ==> <IntegerField, bigint:None>
INFO:root:Found model: User (table: users)
INFO:root:  Found mapping: name ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: image ==> <StringField, varchar(500):None>
INFO:root:  Found mapping: created_at ==> <FloatField, real:None>
INFO:root:  Found mapping: passwd ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: admin ==> <BooleanField, boolean:None>
INFO:root:  Found mapping: email ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: id ==> <StringField, varchar(50):None>
INFO:root:Found model: Blog (table: blogs)
INFO:root:  Found mapping: name ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: private ==> <BooleanField, boolean:None>
INFO:root:  Found mapping: content ==> <TextField, text:None>
INFO:root:  Found mapping: id ==> <StringField, varchat(50):None>
INFO:root:  Found mapping: user_id ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: created_at ==> <FloatField, real:None>
INFO:root:  Found mapping: user_name ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: user_image ==> <StringField, varchar(500):None>
INFO:root:  Found mapping: summary ==> <StringField, varchar(200):None>
INFO:root:Found model: Comment (table: comments)
INFO:root:  Found mapping: user_id ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: created_at ==> <FloatField, real:None>
INFO:root:  Found mapping: user_name ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: user_image ==> <StringField, varchar(500):None>
INFO:root:  Found mapping: blog_id ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: content ==> <TextField, text:None>
INFO:root:  Found mapping: id ==> <StringField, varchar(50):None>
INFO:root:Create database connection pool...
INFO:root:Init jinja2...
INFO:root:Set jinja2 template path: /home/admin/webapp/www/templates
INFO:root:add route GET /api/blogs => api_blogs(request, page)
INFO:root:add route GET /api/comments => api_comments(page)
INFO:root:add route POST /api/blogs => api_create_blog(request, name, summary, content, private)
INFO:root:add route POST /api/blogs/{id}/comments => api_create_comment(id, request, content)
INFO:root:add route POST /api/blogs/{id}/delete => api_delete_blog(id, request)
INFO:root:add route POST /api/comments/{id}/delete => api_delete_comment(id, request)
INFO:root:add route GET /api/blogs/{id} => api_get_blog(id)
INFO:root:add route GET /api/blogs/{id}/secret => api_get_private(id, request)
INFO:root:add route GET /api/users => api_get_users(page)
INFO:root:add route POST /api/users => api_register_user(email, name, passwd)
INFO:root:add route POST /api/blogs/{id}/secret => api_set_private(id, request)
INFO:root:add route POST /api/blogs/{id} => api_update_blog(id, request, name, summary, content, private)
INFO:root:add route POST /api/authenticate => authenticate(email, passwd)
INFO:root:add route GET /blog/{id} => get_blog(id)
INFO:root:add route GET / => index(request, page)
INFO:root:add route GET /manage/ => manage()
INFO:root:add route GET /manage/blogs => manage_blogs(page)
INFO:root:add route GET /manage/comments => manage_comments(page)
INFO:root:add route GET /manage/blogs/create => manage_create_blogs()
INFO:root:add route GET /manage/blogs/edit => manage_edit_blog(id)
INFO:root:add route GET /manage/users => manage_users(page)
INFO:root:add route GET /register => register()
INFO:root:add route GET /signin => signin()
INFO:root:add route GET /signout => signout(request)
INFO:root:add static /static/ => /home/admin/webapp/www/static
INFO:root:Server started at http://60.205.221.43:80...
INFO:root:Request: GET /manage/blogs
INFO:root:Check user: GET /manage/blogs
INFO:root:SQL: select `id`, `name`, `image`, `created_at`, `passwd`, `admin`, `email` from `users` where `id`=?
INFO:root:Rows returned: 1
INFO:root:Set current user: m15801021028@163.com
INFO:root:Response handler...
INFO:root:Call with arg: {}
INFO:aiohttp.access:106.120.206.159 [22/May/2018:06:40:31 +0000] "GET /manage/blogs HTTP/1.1" 200 7283 "http://www.lxiao.net:8000/" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/66.0.3359.181 Safari/537.36"
INFO:root:Request: GET /api/blogs
INFO:root:Check user: GET /api/blogs
INFO:root:SQL: select `id`, `name`, `image`, `created_at`, `passwd`, `admin`, `email` from `users` where `id`=?
INFO:root:Rows returned: 1
INFO:root:Set current user: m15801021028@163.com
INFO:root:Response handler...
INFO:root:Call with arg: {'request': <Request GET /api/blogs >, 'page': '1'}
INFO:root:SQL: select count(id) _num_ from `blogs`
INFO:root:Rows returned: 1
INFO:root:SQL: select `id`, `name`, `private`, `content`, `user_id`, `created_at`, `user_name`, `user_image`, `summary` from `blogs` order by created_at desc limit ?, ?
INFO:root:Rows returned: 5
INFO:aiohttp.access:106.120.206.159 [22/May/2018:06:40:31 +0000] "GET /api/blogs?page=1 HTTP/1.1" 200 29702 "http://www.lxiao.net:8000/manage/blogs" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/66.0.3359.181 Safari/537.36"
INFO:root:Found model: User (table: users)
INFO:root:  Found mapping: id ==> <IntegerField, bigint:None>
INFO:root:  Found mapping: name ==> <StringField, varchar(100):None>
INFO:root:Found model: User (table: users)
INFO:root:  Found mapping: id ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: passwd ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: name ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: image ==> <StringField, varchar(500):None>
INFO:root:  Found mapping: created_at ==> <FloatField, real:None>
INFO:root:  Found mapping: admin ==> <BooleanField, boolean:None>
INFO:root:  Found mapping: email ==> <StringField, varchar(50):None>
INFO:root:Found model: Blog (table: blogs)
INFO:root:  Found mapping: id ==> <StringField, varchat(50):None>
INFO:root:  Found mapping: summary ==> <StringField, varchar(200):None>
INFO:root:  Found mapping: user_id ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: content ==> <TextField, text:None>
INFO:root:  Found mapping: user_image ==> <StringField, varchar(500):None>
INFO:root:  Found mapping: name ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: user_name ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: private ==> <BooleanField, boolean:None>
INFO:root:  Found mapping: created_at ==> <FloatField, real:None>
INFO:root:Found model: Comment (table: comments)
INFO:root:  Found mapping: id ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: user_id ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: user_name ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: content ==> <TextField, text:None>
INFO:root:  Found mapping: user_image ==> <StringField, varchar(500):None>
INFO:root:  Found mapping: created_at ==> <FloatField, real:None>
INFO:root:  Found mapping: blog_id ==> <StringField, varchar(50):None>
INFO:root:Create database connection pool...
INFO:root:Init jinja2...
INFO:root:Set jinja2 template path: /home/admin/webapp/www/templates
INFO:root:add route GET /api/blogs => api_blogs(request, page)
INFO:root:add route GET /api/comments => api_comments(page)
INFO:root:add route POST /api/blogs => api_create_blog(request, name, summary, content, private)
INFO:root:add route POST /api/blogs/{id}/comments => api_create_comment(id, request, content)
INFO:root:add route POST /api/blogs/{id}/delete => api_delete_blog(id, request)
INFO:root:add route POST /api/comments/{id}/delete => api_delete_comment(id, request)
INFO:root:add route GET /api/blogs/{id} => api_get_blog(id)
INFO:root:add route GET /api/blogs/{id}/secret => api_get_private(id, request)
INFO:root:add route GET /api/users => api_get_users(page)
INFO:root:add route POST /api/users => api_register_user(email, name, passwd)
INFO:root:add route POST /api/blogs/{id}/secret => api_set_private(id, request)
INFO:root:add route POST /api/blogs/{id} => api_update_blog(id, request, name, summary, content, private)
INFO:root:add route POST /api/authenticate => authenticate(email, passwd)
INFO:root:add route GET /blog/{id} => get_blog(id)
INFO:root:add route GET / => index(request, page)
INFO:root:add route GET /manage/ => manage()
INFO:root:add route GET /manage/blogs => manage_blogs(page)
INFO:root:add route GET /manage/comments => manage_comments(page)
INFO:root:add route GET /manage/blogs/create => manage_create_blogs()
INFO:root:add route GET /manage/blogs/edit => manage_edit_blog(id)
INFO:root:add route GET /manage/users => manage_users(page)
INFO:root:add route GET /register => register()
INFO:root:add route GET /signin => signin()
INFO:root:add route GET /signout => signout(request)
INFO:root:add static /static/ => /home/admin/webapp/www/static
INFO:root:Server started at http://60.205.221.43:80...
INFO:root:Request: GET /manage/blogs
INFO:root:Check user: GET /manage/blogs
INFO:root:SQL: select `id`, `passwd`, `name`, `image`, `created_at`, `admin`, `email` from `users` where `id`=?
INFO:root:Rows returned: 1
INFO:root:Set current user: m15801021028@163.com
INFO:root:Response handler...
INFO:root:Call with arg: {}
INFO:aiohttp.access:106.120.206.159 [22/May/2018:06:41:29 +0000] "GET /manage/blogs HTTP/1.1" 200 7439 "http://www.lxiao.net:8000/" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/66.0.3359.181 Safari/537.36"
INFO:root:Request: GET /api/blogs
INFO:root:Check user: GET /api/blogs
INFO:root:SQL: select `id`, `passwd`, `name`, `image`, `created_at`, `admin`, `email` from `users` where `id`=?
INFO:root:Rows returned: 1
INFO:root:Set current user: m15801021028@163.com
INFO:root:Response handler...
INFO:root:Call with arg: {'page': '1', 'request': <Request GET /api/blogs >}
INFO:root:SQL: select count(id) _num_ from `blogs`
INFO:root:Rows returned: 1
INFO:root:SQL: select `id`, `summary`, `user_id`, `content`, `user_image`, `name`, `user_name`, `private`, `created_at` from `blogs` order by created_at desc limit ?, ?
INFO:root:Rows returned: 5
INFO:aiohttp.access:106.120.206.159 [22/May/2018:06:41:30 +0000] "GET /api/blogs?page=1 HTTP/1.1" 200 29702 "http://www.lxiao.net:8000/manage/blogs" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/66.0.3359.181 Safari/537.36"
INFO:root:Request: POST /api/blogs/001526556821030ccf52786546147c2a8bff1c58626db9e000/secret
INFO:root:Check user: POST /api/blogs/001526556821030ccf52786546147c2a8bff1c58626db9e000/secret
INFO:root:SQL: select `id`, `passwd`, `name`, `image`, `created_at`, `admin`, `email` from `users` where `id`=?
INFO:root:Rows returned: 1
INFO:root:Set current user: m15801021028@163.com
INFO:root:Response handler...
INFO:root:Call with arg: {'id': '001526556821030ccf52786546147c2a8bff1c58626db9e000', 'request': <Request POST /api/blogs/001526556821030ccf52786546147c2a8bff1c58626db9e000/secret >}
INFO:root:SQL: select `id`, `summary`, `user_id`, `content`, `user_image`, `name`, `user_name`, `private`, `created_at` from `blogs` where `id`=?
INFO:root:Rows returned: 1
INFO:root:SQL: update `blogs` set `summary`=?, `user_id`=?, `content`=?, `user_image`=?, `name`=?, `user_name`=?, `private`=?, `created_at`=? where `id`=?
INFO:aiohttp.access:106.120.206.159 [22/May/2018:06:41:38 +0000] "POST /api/blogs/001526556821030ccf52786546147c2a8bff1c58626db9e000/secret HTTP/1.1" 200 151 "http://www.lxiao.net:8000/manage/blogs" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/66.0.3359.181 Safari/537.36"
INFO:root:Request: GET /manage/blogs
INFO:root:Check user: GET /manage/blogs
INFO:root:SQL: select `id`, `passwd`, `name`, `image`, `created_at`, `admin`, `email` from `users` where `id`=?
INFO:root:Rows returned: 1
INFO:root:Set current user: m15801021028@163.com
INFO:root:Response handler...
INFO:root:Call with arg: {}
INFO:aiohttp.access:106.120.206.159 [22/May/2018:06:41:38 +0000] "GET /manage/blogs?t=1526971299830 HTTP/1.1" 200 7439 "http://www.lxiao.net:8000/manage/blogs" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/66.0.3359.181 Safari/537.36"
INFO:root:Request: GET /api/blogs
INFO:root:Check user: GET /api/blogs
INFO:root:SQL: select `id`, `passwd`, `name`, `image`, `created_at`, `admin`, `email` from `users` where `id`=?
INFO:root:Rows returned: 1
INFO:root:Set current user: m15801021028@163.com
INFO:root:Response handler...
INFO:root:Call with arg: {'page': '1', 'request': <Request GET /api/blogs >}
INFO:root:SQL: select count(id) _num_ from `blogs`
INFO:root:Rows returned: 1
INFO:root:SQL: select `id`, `summary`, `user_id`, `content`, `user_image`, `name`, `user_name`, `private`, `created_at` from `blogs` order by created_at desc limit ?, ?
INFO:root:Rows returned: 5
INFO:aiohttp.access:106.120.206.159 [22/May/2018:06:41:38 +0000] "GET /api/blogs?page=1 HTTP/1.1" 200 29702 "http://www.lxiao.net:8000/manage/blogs?t=1526971299830" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/66.0.3359.181 Safari/537.36"
INFO:root:Request: GET /signout
INFO:root:Check user: GET /signout
INFO:root:SQL: select `id`, `passwd`, `name`, `image`, `created_at`, `admin`, `email` from `users` where `id`=?
INFO:root:Rows returned: 1
INFO:root:Set current user: m15801021028@163.com
INFO:root:Response handler...
INFO:root:Call with arg: {'request': <Request GET /signout >}
INFO:root:User signed out.
INFO:aiohttp.access:106.120.206.159 [22/May/2018:06:41:48 +0000] "GET /signout HTTP/1.1" 302 293 "http://www.lxiao.net:8000/manage/blogs?t=1526971299830" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/66.0.3359.181 Safari/537.36"
INFO:root:Request: GET /manage/blogs
INFO:root:Check user: GET /manage/blogs
INFO:aiohttp.access:106.120.206.159 [22/May/2018:06:41:48 +0000] "GET /manage/blogs?t=1526971299830 HTTP/1.1" 302 184 "http://www.lxiao.net:8000/manage/blogs?t=1526971299830" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/66.0.3359.181 Safari/537.36"
INFO:root:Request: GET /signin
INFO:root:Check user: GET /signin
INFO:root:Response handler...
INFO:root:Call with arg: {}
INFO:aiohttp.access:106.120.206.159 [22/May/2018:06:41:48 +0000] "GET /signin HTTP/1.1" 200 2569 "http://www.lxiao.net:8000/manage/blogs?t=1526971299830" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/66.0.3359.181 Safari/537.36"
INFO:root:Request: GET /
INFO:root:Check user: GET /
INFO:root:Response handler...
INFO:root:Call with arg: {'request': <Request GET / >}
INFO:aiohttp.access:106.120.206.159 [22/May/2018:06:41:52 +0000] "GET / HTTP/1.1" 200 5383 "-" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/66.0.3359.181 Safari/537.36"
INFO:root:Request: GET /api/blogs
INFO:root:Check user: GET /api/blogs
INFO:root:Response handler...
INFO:root:Call with arg: {'page': '1', 'request': <Request GET /api/blogs >}
INFO:root:SQL: select count(id) _num_ from `blogs` where private is null or private is false
INFO:root:Rows returned: 1
INFO:root:SQL: select `id`, `summary`, `user_id`, `content`, `user_image`, `name`, `user_name`, `private`, `created_at` from `blogs` where private is null or private is false order by created_at desc limit ?, ?
INFO:root:Rows returned: 5
INFO:aiohttp.access:106.120.206.159 [22/May/2018:06:41:52 +0000] "GET /api/blogs?page=1 HTTP/1.1" 200 28202 "http://www.lxiao.net:8000/" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/66.0.3359.181 Safari/537.36"
INFO:root:Found model: User (table: users)
INFO:root:  Found mapping: id ==> <IntegerField, bigint:None>
INFO:root:  Found mapping: name ==> <StringField, varchar(100):None>
INFO:root:Found model: User (table: users)
INFO:root:  Found mapping: passwd ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: name ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: admin ==> <BooleanField, boolean:None>
INFO:root:  Found mapping: created_at ==> <FloatField, real:None>
INFO:root:  Found mapping: email ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: id ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: image ==> <StringField, varchar(500):None>
INFO:root:Found model: Blog (table: blogs)
INFO:root:  Found mapping: name ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: content ==> <TextField, text:None>
INFO:root:  Found mapping: id ==> <StringField, varchat(50):None>
INFO:root:  Found mapping: summary ==> <StringField, varchar(200):None>
INFO:root:  Found mapping: private ==> <BooleanField, boolean:None>
INFO:root:  Found mapping: user_image ==> <StringField, varchar(500):None>
INFO:root:  Found mapping: created_at ==> <FloatField, real:None>
INFO:root:  Found mapping: user_id ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: user_name ==> <StringField, varchar(50):None>
INFO:root:Found model: Comment (table: comments)
INFO:root:  Found mapping: created_at ==> <FloatField, real:None>
INFO:root:  Found mapping: content ==> <TextField, text:None>
INFO:root:  Found mapping: user_id ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: id ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: user_name ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: blog_id ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: user_image ==> <StringField, varchar(500):None>
INFO:root:Create database connection pool...
INFO:root:Init jinja2...
INFO:root:Set jinja2 template path: /home/admin/webapp/www/templates
INFO:root:add route GET /api/blogs => api_blogs(request, page)
INFO:root:add route GET /api/comments => api_comments(page)
INFO:root:add route POST /api/blogs => api_create_blog(request, name, summary, content, private)
INFO:root:add route POST /api/blogs/{id}/comments => api_create_comment(id, request, content)
INFO:root:add route POST /api/blogs/{id}/delete => api_delete_blog(id, request)
INFO:root:add route POST /api/comments/{id}/delete => api_delete_comment(id, request)
INFO:root:add route GET /api/blogs/{id} => api_get_blog(id)
INFO:root:add route GET /api/users => api_get_users(page)
INFO:root:add route POST /api/users => api_register_user(email, name, passwd)
INFO:root:add route POST /api/blogs/{id}/secret => api_set_private(id, request)
INFO:root:add route POST /api/blogs/{id} => api_update_blog(id, request, name, summary, content, private)
INFO:root:add route POST /api/authenticate => authenticate(email, passwd)
INFO:root:add route GET /blog/{id} => get_blog(id)
INFO:root:add route GET / => index(request, page)
INFO:root:add route GET /manage/ => manage()
INFO:root:add route GET /manage/blogs => manage_blogs(page)
INFO:root:add route GET /manage/comments => manage_comments(page)
INFO:root:add route GET /manage/blogs/create => manage_create_blogs()
INFO:root:add route GET /manage/blogs/edit => manage_edit_blog(id)
INFO:root:add route GET /manage/users => manage_users(page)
INFO:root:add route GET /register => register()
INFO:root:add route GET /signin => signin()
INFO:root:add route GET /signout => signout(request)
INFO:root:add static /static/ => /home/admin/webapp/www/static
INFO:root:Server started at http://60.205.221.43:80...
INFO:root:Found model: User (table: users)
INFO:root:  Found mapping: name ==> <StringField, varchar(100):None>
INFO:root:  Found mapping: id ==> <IntegerField, bigint:None>
INFO:root:Found model: User (table: users)
INFO:root:  Found mapping: email ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: created_at ==> <FloatField, real:None>
INFO:root:  Found mapping: id ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: image ==> <StringField, varchar(500):None>
INFO:root:  Found mapping: name ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: admin ==> <BooleanField, boolean:None>
INFO:root:  Found mapping: passwd ==> <StringField, varchar(50):None>
INFO:root:Found model: Blog (table: blogs)
INFO:root:  Found mapping: id ==> <StringField, varchat(50):None>
INFO:root:  Found mapping: summary ==> <StringField, varchar(200):None>
INFO:root:  Found mapping: created_at ==> <FloatField, real:None>
INFO:root:  Found mapping: user_name ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: private ==> <BooleanField, boolean:None>
INFO:root:  Found mapping: user_id ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: content ==> <TextField, text:None>
INFO:root:  Found mapping: name ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: user_image ==> <StringField, varchar(500):None>
INFO:root:Found model: Comment (table: comments)
INFO:root:  Found mapping: content ==> <TextField, text:None>
INFO:root:  Found mapping: user_name ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: id ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: blog_id ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: created_at ==> <FloatField, real:None>
INFO:root:  Found mapping: user_id ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: user_image ==> <StringField, varchar(500):None>
INFO:root:Create database connection pool...
INFO:root:Init jinja2...
INFO:root:Set jinja2 template path: /home/admin/webapp/www/templates
INFO:root:add route GET /api/blogs => api_blogs(request, page)
INFO:root:add route GET /api/comments => api_comments(page)
INFO:root:add route POST /api/blogs => api_create_blog(request, name, summary, content, private)
INFO:root:add route POST /api/blogs/{id}/comments => api_create_comment(id, request, content)
INFO:root:add route POST /api/blogs/{id}/delete => api_delete_blog(id, request)
INFO:root:add route POST /api/comments/{id}/delete => api_delete_comment(id, request)
INFO:root:add route GET /api/blogs/{id} => api_get_blog(id)
INFO:root:add route GET /api/users => api_get_users(page)
INFO:root:add route POST /api/users => api_register_user(email, name, passwd)
INFO:root:add route POST /api/blogs/{id}/secret => api_set_private(id, request)
INFO:root:add route POST /api/blogs/{id} => api_update_blog(id, request, name, summary, content, private)
INFO:root:add route POST /api/authenticate => authenticate(email, passwd)
INFO:root:add route GET /blog/{id} => get_blog(id)
INFO:root:add route GET / => index(request, page)
INFO:root:add route GET /manage/ => manage()
INFO:root:add route GET /manage/blogs => manage_blogs(page)
INFO:root:add route GET /manage/comments => manage_comments(page)
INFO:root:add route GET /manage/blogs/create => manage_create_blogs()
INFO:root:add route GET /manage/blogs/edit => manage_edit_blog(id)
INFO:root:add route GET /manage/users => manage_users(page)
INFO:root:add route GET /register => register()
INFO:root:add route GET /signin => signin()
INFO:root:add route GET /signout => signout(request)
INFO:root:add static /static/ => /home/admin/webapp/www/static
INFO:root:Server started at http://60.205.221.43:80...
INFO:root:Request: GET /
INFO:root:Check user: GET /
INFO:root:Response handler...
INFO:root:Call with arg: {'request': <Request GET / >}
INFO:aiohttp.access:106.120.206.159 [22/May/2018:06:46:46 +0000] "GET / HTTP/1.1" 200 5383 "-" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/66.0.3359.181 Safari/537.36"
INFO:root:Request: GET /static/css/pygments-css/emacs.css
INFO:root:Check user: GET /static/css/pygments-css/emacs.css
INFO:root:Response handler...
INFO:aiohttp.access:106.120.206.159 [22/May/2018:06:46:46 +0000] "GET /static/css/pygments-css/emacs.css HTTP/1.1" 200 4620 "http://lxiao.net/" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/66.0.3359.181 Safari/537.36"
INFO:root:Request: GET /api/blogs
INFO:root:Check user: GET /api/blogs
INFO:root:Response handler...
INFO:root:Call with arg: {'request': <Request GET /api/blogs >, 'page': '1'}
INFO:root:SQL: select count(id) _num_ from `blogs` where private is null or private is false
INFO:root:Rows returned: 1
INFO:root:SQL: select `id`, `summary`, `created_at`, `user_name`, `private`, `user_id`, `content`, `name`, `user_image` from `blogs` where private is null or private is false order by created_at desc limit ?, ?
INFO:root:Rows returned: 5
INFO:aiohttp.access:106.120.206.159 [22/May/2018:06:46:48 +0000] "GET /api/blogs?page=1 HTTP/1.1" 200 28202 "http://lxiao.net/" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/66.0.3359.181 Safari/537.36"
INFO:root:Request: GET /favicon.ico
INFO:root:Check user: GET /favicon.ico
INFO:root:Response handler...
INFO:aiohttp.access:106.120.206.159 [22/May/2018:06:46:48 +0000] "GET /favicon.ico HTTP/1.1" 404 173 "http://lxiao.net/" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/66.0.3359.181 Safari/537.36"
INFO:root:Request: GET /signin
INFO:root:Check user: GET /signin
INFO:root:Response handler...
INFO:root:Call with arg: {}
INFO:aiohttp.access:106.120.206.159 [22/May/2018:06:46:52 +0000] "GET /signin HTTP/1.1" 200 2569 "http://lxiao.net/" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/66.0.3359.181 Safari/537.36"
INFO:root:Request: POST /api/authenticate
INFO:root:Check user: POST /api/authenticate
INFO:root:Response handler...
INFO:root:Call with arg: {'email': 'm15801021028@163.com', 'passwd': '09fa2f95147f377ffdb2920a403d4be2031cb459'}
INFO:root:SQL: select `id`, `email`, `created_at`, `image`, `name`, `admin`, `passwd` from `users` where email=?
INFO:root:Rows returned: 1
INFO:aiohttp.access:106.120.206.159 [22/May/2018:06:46:53 +0000] "POST /api/authenticate HTTP/1.1" 200 569 "http://lxiao.net/signin" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/66.0.3359.181 Safari/537.36"
INFO:root:Request: GET /
INFO:root:Check user: GET /
INFO:root:SQL: select `id`, `email`, `created_at`, `image`, `name`, `admin`, `passwd` from `users` where `id`=?
INFO:root:Rows returned: 1
INFO:root:Set current user: m15801021028@163.com
INFO:root:Response handler...
INFO:root:Call with arg: {'request': <Request GET / >}
INFO:aiohttp.access:106.120.206.159 [22/May/2018:06:46:53 +0000] "GET / HTTP/1.1" 200 5577 "http://lxiao.net/signin" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/66.0.3359.181 Safari/537.36"
INFO:root:Request: GET /api/blogs
INFO:root:Check user: GET /api/blogs
INFO:root:SQL: select `id`, `email`, `created_at`, `image`, `name`, `admin`, `passwd` from `users` where `id`=?
INFO:root:Rows returned: 1
INFO:root:Set current user: m15801021028@163.com
INFO:root:Response handler...
INFO:root:Call with arg: {'request': <Request GET /api/blogs >, 'page': '1'}
INFO:root:SQL: select count(id) _num_ from `blogs`
INFO:root:Rows returned: 1
INFO:root:SQL: select `id`, `summary`, `created_at`, `user_name`, `private`, `user_id`, `content`, `name`, `user_image` from `blogs` order by created_at desc limit ?, ?
INFO:root:Rows returned: 5
INFO:aiohttp.access:106.120.206.159 [22/May/2018:06:46:54 +0000] "GET /api/blogs?page=1 HTTP/1.1" 200 29702 "http://lxiao.net/" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/66.0.3359.181 Safari/537.36"
INFO:root:Request: GET /manage/
INFO:root:Check user: GET /manage/
INFO:root:SQL: select `id`, `email`, `created_at`, `image`, `name`, `admin`, `passwd` from `users` where `id`=?
INFO:root:Rows returned: 1
INFO:root:Set current user: m15801021028@163.com
INFO:root:Response handler...
INFO:root:Call with arg: {}
INFO:aiohttp.access:106.120.206.159 [22/May/2018:06:46:56 +0000] "GET /manage/ HTTP/1.1" 302 190 "http://lxiao.net/" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/66.0.3359.181 Safari/537.36"
INFO:root:Request: GET /manage/blogs
INFO:root:Check user: GET /manage/blogs
INFO:root:SQL: select `id`, `email`, `created_at`, `image`, `name`, `admin`, `passwd` from `users` where `id`=?
INFO:root:Rows returned: 1
INFO:root:Set current user: m15801021028@163.com
INFO:root:Response handler...
INFO:root:Call with arg: {}
INFO:aiohttp.access:106.120.206.159 [22/May/2018:06:46:56 +0000] "GET /manage/blogs HTTP/1.1" 200 7439 "http://lxiao.net/" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/66.0.3359.181 Safari/537.36"
INFO:root:Request: GET /api/blogs
INFO:root:Check user: GET /api/blogs
INFO:root:SQL: select `id`, `email`, `created_at`, `image`, `name`, `admin`, `passwd` from `users` where `id`=?
INFO:root:Rows returned: 1
INFO:root:Set current user: m15801021028@163.com
INFO:root:Response handler...
INFO:root:Call with arg: {'request': <Request GET /api/blogs >, 'page': '1'}
INFO:root:SQL: select count(id) _num_ from `blogs`
INFO:root:Rows returned: 1
INFO:root:SQL: select `id`, `summary`, `created_at`, `user_name`, `private`, `user_id`, `content`, `name`, `user_image` from `blogs` order by created_at desc limit ?, ?
INFO:root:Rows returned: 5
INFO:aiohttp.access:106.120.206.159 [22/May/2018:06:46:56 +0000] "GET /api/blogs?page=1 HTTP/1.1" 200 29702 "http://lxiao.net/manage/blogs" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/66.0.3359.181 Safari/537.36"
INFO:root:Request: POST /api/blogs/001526556821030ccf52786546147c2a8bff1c58626db9e000/secret
INFO:root:Check user: POST /api/blogs/001526556821030ccf52786546147c2a8bff1c58626db9e000/secret
INFO:root:SQL: select `id`, `email`, `created_at`, `image`, `name`, `admin`, `passwd` from `users` where `id`=?
INFO:root:Rows returned: 1
INFO:root:Set current user: m15801021028@163.com
INFO:root:Response handler...
INFO:root:Call with arg: {'request': <Request POST /api/blogs/001526556821030ccf52786546147c2a8bff1c58626db9e000/secret >, 'id': '001526556821030ccf52786546147c2a8bff1c58626db9e000'}
INFO:root:SQL: select `id`, `summary`, `created_at`, `user_name`, `private`, `user_id`, `content`, `name`, `user_image` from `blogs` where `id`=?
INFO:root:Rows returned: 1
INFO:root:SQL: update `blogs` set `summary`=?, `created_at`=?, `user_name`=?, `private`=?, `user_id`=?, `content`=?, `name`=?, `user_image`=? where `id`=?
INFO:aiohttp.access:106.120.206.159 [22/May/2018:06:47:08 +0000] "POST /api/blogs/001526556821030ccf52786546147c2a8bff1c58626db9e000/secret HTTP/1.1" 200 151 "http://lxiao.net/manage/blogs" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/66.0.3359.181 Safari/537.36"
INFO:root:Request: GET /manage/blogs
INFO:root:Check user: GET /manage/blogs
INFO:root:SQL: select `id`, `email`, `created_at`, `image`, `name`, `admin`, `passwd` from `users` where `id`=?
INFO:root:Rows returned: 1
INFO:root:Set current user: m15801021028@163.com
INFO:root:Response handler...
INFO:root:Call with arg: {}
INFO:aiohttp.access:106.120.206.159 [22/May/2018:06:47:08 +0000] "GET /manage/blogs?t=1526971630064 HTTP/1.1" 200 7439 "http://lxiao.net/manage/blogs" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/66.0.3359.181 Safari/537.36"
INFO:root:Request: GET /api/blogs
INFO:root:Check user: GET /api/blogs
INFO:root:SQL: select `id`, `email`, `created_at`, `image`, `name`, `admin`, `passwd` from `users` where `id`=?
INFO:root:Rows returned: 1
INFO:root:Set current user: m15801021028@163.com
INFO:root:Response handler...
INFO:root:Call with arg: {'request': <Request GET /api/blogs >, 'page': '1'}
INFO:root:SQL: select count(id) _num_ from `blogs`
INFO:root:Rows returned: 1
INFO:root:SQL: select `id`, `summary`, `created_at`, `user_name`, `private`, `user_id`, `content`, `name`, `user_image` from `blogs` order by created_at desc limit ?, ?
INFO:root:Rows returned: 5
INFO:aiohttp.access:106.120.206.159 [22/May/2018:06:47:08 +0000] "GET /api/blogs?page=1 HTTP/1.1" 200 29702 "http://lxiao.net/manage/blogs?t=1526971630064" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/66.0.3359.181 Safari/537.36"
INFO:root:Request: GET /manage/blogs
INFO:root:Check user: GET /manage/blogs
INFO:root:SQL: select `id`, `email`, `created_at`, `image`, `name`, `admin`, `passwd` from `users` where `id`=?
INFO:root:Rows returned: 1
INFO:root:Set current user: m15801021028@163.com
INFO:root:Response handler...
INFO:root:Call with arg: {'page': '2'}
INFO:aiohttp.access:106.120.206.159 [22/May/2018:06:47:11 +0000] "GET /manage/blogs?t=1526971630064&page=2 HTTP/1.1" 200 7439 "http://lxiao.net/manage/blogs?t=1526971630064" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/66.0.3359.181 Safari/537.36"
INFO:root:Request: GET /api/blogs
INFO:root:Check user: GET /api/blogs
INFO:root:SQL: select `id`, `email`, `created_at`, `image`, `name`, `admin`, `passwd` from `users` where `id`=?
INFO:root:Rows returned: 1
INFO:root:Set current user: m15801021028@163.com
INFO:root:Response handler...
INFO:root:Call with arg: {'request': <Request GET /api/blogs >, 'page': '2'}
INFO:root:SQL: select count(id) _num_ from `blogs`
INFO:root:Rows returned: 1
INFO:root:SQL: select `id`, `summary`, `created_at`, `user_name`, `private`, `user_id`, `content`, `name`, `user_image` from `blogs` order by created_at desc limit ?, ?
INFO:root:Rows returned: 5
INFO:aiohttp.access:106.120.206.159 [22/May/2018:06:47:11 +0000] "GET /api/blogs?page=2 HTTP/1.1" 200 16888 "http://lxiao.net/manage/blogs?t=1526971630064&page=2" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/66.0.3359.181 Safari/537.36"
INFO:root:Request: POST /api/blogs/0015253999173709e507cc1a92e423f990701bc344dce1b000/secret
INFO:root:Check user: POST /api/blogs/0015253999173709e507cc1a92e423f990701bc344dce1b000/secret
INFO:root:SQL: select `id`, `email`, `created_at`, `image`, `name`, `admin`, `passwd` from `users` where `id`=?
INFO:root:Rows returned: 1
INFO:root:Set current user: m15801021028@163.com
INFO:root:Response handler...
INFO:root:Call with arg: {'request': <Request POST /api/blogs/0015253999173709e507cc1a92e423f990701bc344dce1b000/secret >, 'id': '0015253999173709e507cc1a92e423f990701bc344dce1b000'}
INFO:root:SQL: select `id`, `summary`, `created_at`, `user_name`, `private`, `user_id`, `content`, `name`, `user_image` from `blogs` where `id`=?
INFO:root:Rows returned: 1
INFO:root:SQL: update `blogs` set `summary`=?, `created_at`=?, `user_name`=?, `private`=?, `user_id`=?, `content`=?, `name`=?, `user_image`=? where `id`=?
INFO:aiohttp.access:106.120.206.159 [22/May/2018:06:47:13 +0000] "POST /api/blogs/0015253999173709e507cc1a92e423f990701bc344dce1b000/secret HTTP/1.1" 200 151 "http://lxiao.net/manage/blogs?t=1526971630064&page=2" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/66.0.3359.181 Safari/537.36"
INFO:root:Request: GET /manage/blogs
INFO:root:Check user: GET /manage/blogs
INFO:root:SQL: select `id`, `email`, `created_at`, `image`, `name`, `admin`, `passwd` from `users` where `id`=?
INFO:root:Rows returned: 1
INFO:root:Set current user: m15801021028@163.com
INFO:root:Response handler...
INFO:root:Call with arg: {'page': '2'}
INFO:aiohttp.access:106.120.206.159 [22/May/2018:06:47:13 +0000] "GET /manage/blogs?t=1526971630064&page=2&t=1526971635269 HTTP/1.1" 200 7439 "http://lxiao.net/manage/blogs?t=1526971630064&page=2" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/66.0.3359.181 Safari/537.36"
INFO:root:Request: GET /api/blogs
INFO:root:Check user: GET /api/blogs
INFO:root:SQL: select `id`, `email`, `created_at`, `image`, `name`, `admin`, `passwd` from `users` where `id`=?
INFO:root:Rows returned: 1
INFO:root:Set current user: m15801021028@163.com
INFO:root:Response handler...
INFO:root:Call with arg: {'request': <Request GET /api/blogs >, 'page': '2'}
INFO:root:SQL: select count(id) _num_ from `blogs`
INFO:root:Rows returned: 1
INFO:root:SQL: select `id`, `summary`, `created_at`, `user_name`, `private`, `user_id`, `content`, `name`, `user_image` from `blogs` order by created_at desc limit ?, ?
INFO:root:Rows returned: 5
INFO:aiohttp.access:106.120.206.159 [22/May/2018:06:47:13 +0000] "GET /api/blogs?page=2 HTTP/1.1" 200 16885 "http://lxiao.net/manage/blogs?t=1526971630064&page=2&t=1526971635269" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/66.0.3359.181 Safari/537.36"
INFO:root:Request: POST /api/blogs/00152488287955178ea3eafa2f74754a6637ede51d9fdd8000/secret
INFO:root:Check user: POST /api/blogs/00152488287955178ea3eafa2f74754a6637ede51d9fdd8000/secret
INFO:root:SQL: select `id`, `email`, `created_at`, `image`, `name`, `admin`, `passwd` from `users` where `id`=?
INFO:root:Rows returned: 1
INFO:root:Set current user: m15801021028@163.com
INFO:root:Response handler...
INFO:root:Call with arg: {'request': <Request POST /api/blogs/00152488287955178ea3eafa2f74754a6637ede51d9fdd8000/secret >, 'id': '00152488287955178ea3eafa2f74754a6637ede51d9fdd8000'}
INFO:root:SQL: select `id`, `summary`, `created_at`, `user_name`, `private`, `user_id`, `content`, `name`, `user_image` from `blogs` where `id`=?
INFO:root:Rows returned: 1
INFO:root:SQL: update `blogs` set `summary`=?, `created_at`=?, `user_name`=?, `private`=?, `user_id`=?, `content`=?, `name`=?, `user_image`=? where `id`=?
INFO:aiohttp.access:106.120.206.159 [22/May/2018:06:47:15 +0000] "POST /api/blogs/00152488287955178ea3eafa2f74754a6637ede51d9fdd8000/secret HTTP/1.1" 200 151 "http://lxiao.net/manage/blogs?t=1526971630064&page=2&t=1526971635269" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/66.0.3359.181 Safari/537.36"
INFO:root:Request: GET /manage/blogs
INFO:root:Check user: GET /manage/blogs
INFO:root:SQL: select `id`, `email`, `created_at`, `image`, `name`, `admin`, `passwd` from `users` where `id`=?
INFO:root:Rows returned: 1
INFO:root:Set current user: m15801021028@163.com
INFO:root:Response handler...
INFO:root:Call with arg: {'page': '2'}
INFO:aiohttp.access:106.120.206.159 [22/May/2018:06:47:15 +0000] "GET /manage/blogs?t=1526971630064&page=2&t=1526971635269&t=1526971636609 HTTP/1.1" 200 7439 "http://lxiao.net/manage/blogs?t=1526971630064&page=2&t=1526971635269" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/66.0.3359.181 Safari/537.36"
INFO:root:Request: GET /api/blogs
INFO:root:Check user: GET /api/blogs
INFO:root:SQL: select `id`, `email`, `created_at`, `image`, `name`, `admin`, `passwd` from `users` where `id`=?
INFO:root:Rows returned: 1
INFO:root:Set current user: m15801021028@163.com
INFO:root:Response handler...
INFO:root:Call with arg: {'request': <Request GET /api/blogs >, 'page': '2'}
INFO:root:SQL: select count(id) _num_ from `blogs`
INFO:root:Rows returned: 1
INFO:root:SQL: select `id`, `summary`, `created_at`, `user_name`, `private`, `user_id`, `content`, `name`, `user_image` from `blogs` order by created_at desc limit ?, ?
INFO:root:Rows returned: 5
INFO:aiohttp.access:106.120.206.159 [22/May/2018:06:47:15 +0000] "GET /api/blogs?page=2 HTTP/1.1" 200 16882 "http://lxiao.net/manage/blogs?t=1526971630064&page=2&t=1526971635269&t=1526971636609" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/66.0.3359.181 Safari/537.36"
INFO:root:Request: POST /api/blogs/001524123402374fc9743a7e1854ae0a88a7a743a0d10a7000/secret
INFO:root:Check user: POST /api/blogs/001524123402374fc9743a7e1854ae0a88a7a743a0d10a7000/secret
INFO:root:SQL: select `id`, `email`, `created_at`, `image`, `name`, `admin`, `passwd` from `users` where `id`=?
INFO:root:Rows returned: 1
INFO:root:Set current user: m15801021028@163.com
INFO:root:Response handler...
INFO:root:Call with arg: {'request': <Request POST /api/blogs/001524123402374fc9743a7e1854ae0a88a7a743a0d10a7000/secret >, 'id': '001524123402374fc9743a7e1854ae0a88a7a743a0d10a7000'}
INFO:root:SQL: select `id`, `summary`, `created_at`, `user_name`, `private`, `user_id`, `content`, `name`, `user_image` from `blogs` where `id`=?
INFO:root:Rows returned: 1
INFO:root:SQL: update `blogs` set `summary`=?, `created_at`=?, `user_name`=?, `private`=?, `user_id`=?, `content`=?, `name`=?, `user_image`=? where `id`=?
INFO:aiohttp.access:106.120.206.159 [22/May/2018:06:47:18 +0000] "POST /api/blogs/001524123402374fc9743a7e1854ae0a88a7a743a0d10a7000/secret HTTP/1.1" 200 151 "http://lxiao.net/manage/blogs?t=1526971630064&page=2&t=1526971635269&t=1526971636609" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/66.0.3359.181 Safari/537.36"
INFO:root:Request: GET /manage/blogs
INFO:root:Check user: GET /manage/blogs
INFO:root:SQL: select `id`, `email`, `created_at`, `image`, `name`, `admin`, `passwd` from `users` where `id`=?
INFO:root:Rows returned: 1
INFO:root:Set current user: m15801021028@163.com
INFO:root:Response handler...
INFO:root:Call with arg: {'page': '2'}
INFO:aiohttp.access:106.120.206.159 [22/May/2018:06:47:19 +0000] "GET /manage/blogs?t=1526971630064&page=2&t=1526971635269&t=1526971636609&t=1526971640580 HTTP/1.1" 200 7439 "http://lxiao.net/manage/blogs?t=1526971630064&page=2&t=1526971635269&t=1526971636609" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/66.0.3359.181 Safari/537.36"
INFO:root:Request: GET /api/blogs
INFO:root:Check user: GET /api/blogs
INFO:root:SQL: select `id`, `email`, `created_at`, `image`, `name`, `admin`, `passwd` from `users` where `id`=?
INFO:root:Rows returned: 1
INFO:root:Set current user: m15801021028@163.com
INFO:root:Response handler...
INFO:root:Call with arg: {'request': <Request GET /api/blogs >, 'page': '2'}
INFO:root:SQL: select count(id) _num_ from `blogs`
INFO:root:Rows returned: 1
INFO:root:SQL: select `id`, `summary`, `created_at`, `user_name`, `private`, `user_id`, `content`, `name`, `user_image` from `blogs` order by created_at desc limit ?, ?
INFO:root:Rows returned: 5
INFO:aiohttp.access:106.120.206.159 [22/May/2018:06:47:19 +0000] "GET /api/blogs?page=2 HTTP/1.1" 200 16879 "http://lxiao.net/manage/blogs?t=1526971630064&page=2&t=1526971635269&t=1526971636609&t=1526971640580" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/66.0.3359.181 Safari/537.36"
INFO:root:Request: POST /api/blogs/001523845294488cbf2373e73b54f48a3941380cd96d60f000/secret
INFO:root:Check user: POST /api/blogs/001523845294488cbf2373e73b54f48a3941380cd96d60f000/secret
INFO:root:SQL: select `id`, `email`, `created_at`, `image`, `name`, `admin`, `passwd` from `users` where `id`=?
INFO:root:Rows returned: 1
INFO:root:Set current user: m15801021028@163.com
INFO:root:Response handler...
INFO:root:Call with arg: {'request': <Request POST /api/blogs/001523845294488cbf2373e73b54f48a3941380cd96d60f000/secret >, 'id': '001523845294488cbf2373e73b54f48a3941380cd96d60f000'}
INFO:root:SQL: select `id`, `summary`, `created_at`, `user_name`, `private`, `user_id`, `content`, `name`, `user_image` from `blogs` where `id`=?
INFO:root:Rows returned: 1
INFO:root:SQL: update `blogs` set `summary`=?, `created_at`=?, `user_name`=?, `private`=?, `user_id`=?, `content`=?, `name`=?, `user_image`=? where `id`=?
INFO:aiohttp.access:106.120.206.159 [22/May/2018:06:47:22 +0000] "POST /api/blogs/001523845294488cbf2373e73b54f48a3941380cd96d60f000/secret HTTP/1.1" 200 151 "http://lxiao.net/manage/blogs?t=1526971630064&page=2&t=1526971635269&t=1526971636609&t=1526971640580" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/66.0.3359.181 Safari/537.36"
INFO:root:Request: GET /manage/blogs
INFO:root:Check user: GET /manage/blogs
INFO:root:SQL: select `id`, `email`, `created_at`, `image`, `name`, `admin`, `passwd` from `users` where `id`=?
INFO:root:Rows returned: 1
INFO:root:Set current user: m15801021028@163.com
INFO:root:Response handler...
INFO:root:Call with arg: {'page': '2'}
INFO:aiohttp.access:106.120.206.159 [22/May/2018:06:47:22 +0000] "GET /manage/blogs?t=1526971630064&page=2&t=1526971635269&t=1526971636609&t=1526971640580&t=1526971643806 HTTP/1.1" 200 7439 "http://lxiao.net/manage/blogs?t=1526971630064&page=2&t=1526971635269&t=1526971636609&t=1526971640580" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/66.0.3359.181 Safari/537.36"
INFO:root:Request: GET /api/blogs
INFO:root:Check user: GET /api/blogs
INFO:root:SQL: select `id`, `email`, `created_at`, `image`, `name`, `admin`, `passwd` from `users` where `id`=?
INFO:root:Rows returned: 1
INFO:root:Set current user: m15801021028@163.com
INFO:root:Response handler...
INFO:root:Call with arg: {'request': <Request GET /api/blogs >, 'page': '2'}
INFO:root:SQL: select count(id) _num_ from `blogs`
INFO:root:Rows returned: 1
INFO:root:SQL: select `id`, `summary`, `created_at`, `user_name`, `private`, `user_id`, `content`, `name`, `user_image` from `blogs` order by created_at desc limit ?, ?
INFO:root:Rows returned: 5
INFO:aiohttp.access:106.120.206.159 [22/May/2018:06:47:22 +0000] "GET /api/blogs?page=2 HTTP/1.1" 200 16876 "http://lxiao.net/manage/blogs?t=1526971630064&page=2&t=1526971635269&t=1526971636609&t=1526971640580&t=1526971643806" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/66.0.3359.181 Safari/537.36"
INFO:root:Request: GET /manage/blogs
INFO:root:Check user: GET /manage/blogs
INFO:root:SQL: select `id`, `email`, `created_at`, `image`, `name`, `admin`, `passwd` from `users` where `id`=?
INFO:root:Rows returned: 1
INFO:root:Set current user: m15801021028@163.com
INFO:root:Response handler...
INFO:root:Call with arg: {'page': '3'}
INFO:aiohttp.access:106.120.206.159 [22/May/2018:06:47:24 +0000] "GET /manage/blogs?t=1526971643806&page=3 HTTP/1.1" 200 7439 "http://lxiao.net/manage/blogs?t=1526971630064&page=2&t=1526971635269&t=1526971636609&t=1526971640580&t=1526971643806" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/66.0.3359.181 Safari/537.36"
INFO:root:Request: GET /api/blogs
INFO:root:Check user: GET /api/blogs
INFO:root:SQL: select `id`, `email`, `created_at`, `image`, `name`, `admin`, `passwd` from `users` where `id`=?
INFO:root:Rows returned: 1
INFO:root:Set current user: m15801021028@163.com
INFO:root:Response handler...
INFO:root:Call with arg: {'request': <Request GET /api/blogs >, 'page': '3'}
INFO:root:SQL: select count(id) _num_ from `blogs`
INFO:root:Rows returned: 1
INFO:root:SQL: select `id`, `summary`, `created_at`, `user_name`, `private`, `user_id`, `content`, `name`, `user_image` from `blogs` order by created_at desc limit ?, ?
INFO:root:Rows returned: 5
INFO:aiohttp.access:106.120.206.159 [22/May/2018:06:47:24 +0000] "GET /api/blogs?page=3 HTTP/1.1" 200 13876 "http://lxiao.net/manage/blogs?t=1526971643806&page=3" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/66.0.3359.181 Safari/537.36"
INFO:root:Request: POST /api/blogs/0015237838811433ff723ad353d46ea90d30963144e5a2a000/secret
INFO:root:Check user: POST /api/blogs/0015237838811433ff723ad353d46ea90d30963144e5a2a000/secret
INFO:root:SQL: select `id`, `email`, `created_at`, `image`, `name`, `admin`, `passwd` from `users` where `id`=?
INFO:root:Rows returned: 1
INFO:root:Set current user: m15801021028@163.com
INFO:root:Response handler...
INFO:root:Call with arg: {'request': <Request POST /api/blogs/0015237838811433ff723ad353d46ea90d30963144e5a2a000/secret >, 'id': '0015237838811433ff723ad353d46ea90d30963144e5a2a000'}
INFO:root:SQL: select `id`, `summary`, `created_at`, `user_name`, `private`, `user_id`, `content`, `name`, `user_image` from `blogs` where `id`=?
INFO:root:Rows returned: 1
INFO:root:SQL: update `blogs` set `summary`=?, `created_at`=?, `user_name`=?, `private`=?, `user_id`=?, `content`=?, `name`=?, `user_image`=? where `id`=?
INFO:aiohttp.access:106.120.206.159 [22/May/2018:06:47:28 +0000] "POST /api/blogs/0015237838811433ff723ad353d46ea90d30963144e5a2a000/secret HTTP/1.1" 200 151 "http://lxiao.net/manage/blogs?t=1526971643806&page=3" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/66.0.3359.181 Safari/537.36"
INFO:root:Request: GET /manage/blogs
INFO:root:Check user: GET /manage/blogs
INFO:root:SQL: select `id`, `email`, `created_at`, `image`, `name`, `admin`, `passwd` from `users` where `id`=?
INFO:root:Rows returned: 1
INFO:root:Set current user: m15801021028@163.com
INFO:root:Response handler...
INFO:root:Call with arg: {'page': '3'}
INFO:aiohttp.access:106.120.206.159 [22/May/2018:06:47:28 +0000] "GET /manage/blogs?t=1526971643806&page=3&t=1526971650160 HTTP/1.1" 200 7439 "http://lxiao.net/manage/blogs?t=1526971643806&page=3" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/66.0.3359.181 Safari/537.36"
INFO:root:Request: GET /api/blogs
INFO:root:Check user: GET /api/blogs
INFO:root:SQL: select `id`, `email`, `created_at`, `image`, `name`, `admin`, `passwd` from `users` where `id`=?
INFO:root:Rows returned: 1
INFO:root:Set current user: m15801021028@163.com
INFO:root:Response handler...
INFO:root:Call with arg: {'request': <Request GET /api/blogs >, 'page': '3'}
INFO:root:SQL: select count(id) _num_ from `blogs`
INFO:root:Rows returned: 1
INFO:root:SQL: select `id`, `summary`, `created_at`, `user_name`, `private`, `user_id`, `content`, `name`, `user_image` from `blogs` order by created_at desc limit ?, ?
INFO:root:Rows returned: 5
INFO:aiohttp.access:106.120.206.159 [22/May/2018:06:47:28 +0000] "GET /api/blogs?page=3 HTTP/1.1" 200 13873 "http://lxiao.net/manage/blogs?t=1526971643806&page=3&t=1526971650160" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/66.0.3359.181 Safari/537.36"
INFO:root:Request: POST /api/blogs/001522854067968a41ad0a0babe4073bf86fa3728048326000/secret
INFO:root:Check user: POST /api/blogs/001522854067968a41ad0a0babe4073bf86fa3728048326000/secret
INFO:root:SQL: select `id`, `email`, `created_at`, `image`, `name`, `admin`, `passwd` from `users` where `id`=?
INFO:root:Rows returned: 1
INFO:root:Set current user: m15801021028@163.com
INFO:root:Response handler...
INFO:root:Call with arg: {'request': <Request POST /api/blogs/001522854067968a41ad0a0babe4073bf86fa3728048326000/secret >, 'id': '001522854067968a41ad0a0babe4073bf86fa3728048326000'}
INFO:root:SQL: select `id`, `summary`, `created_at`, `user_name`, `private`, `user_id`, `content`, `name`, `user_image` from `blogs` where `id`=?
INFO:root:Rows returned: 1
INFO:root:SQL: update `blogs` set `summary`=?, `created_at`=?, `user_name`=?, `private`=?, `user_id`=?, `content`=?, `name`=?, `user_image`=? where `id`=?
INFO:aiohttp.access:106.120.206.159 [22/May/2018:06:47:32 +0000] "POST /api/blogs/001522854067968a41ad0a0babe4073bf86fa3728048326000/secret HTTP/1.1" 200 151 "http://lxiao.net/manage/blogs?t=1526971643806&page=3&t=1526971650160" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/66.0.3359.181 Safari/537.36"
INFO:root:Request: GET /manage/blogs
INFO:root:Check user: GET /manage/blogs
INFO:root:SQL: select `id`, `email`, `created_at`, `image`, `name`, `admin`, `passwd` from `users` where `id`=?
INFO:root:Rows returned: 1
INFO:root:Set current user: m15801021028@163.com
INFO:root:Response handler...
INFO:root:Call with arg: {'page': '3'}
INFO:aiohttp.access:106.120.206.159 [22/May/2018:06:47:32 +0000] "GET /manage/blogs?t=1526971643806&page=3&t=1526971650160&t=1526971653887 HTTP/1.1" 200 7439 "http://lxiao.net/manage/blogs?t=1526971643806&page=3&t=1526971650160" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/66.0.3359.181 Safari/537.36"
INFO:root:Request: GET /api/blogs
INFO:root:Check user: GET /api/blogs
INFO:root:SQL: select `id`, `email`, `created_at`, `image`, `name`, `admin`, `passwd` from `users` where `id`=?
INFO:root:Rows returned: 1
INFO:root:Set current user: m15801021028@163.com
INFO:root:Response handler...
INFO:root:Call with arg: {'request': <Request GET /api/blogs >, 'page': '3'}
INFO:root:SQL: select count(id) _num_ from `blogs`
INFO:root:Rows returned: 1
INFO:root:SQL: select `id`, `summary`, `created_at`, `user_name`, `private`, `user_id`, `content`, `name`, `user_image` from `blogs` order by created_at desc limit ?, ?
INFO:root:Rows returned: 5
INFO:aiohttp.access:106.120.206.159 [22/May/2018:06:47:32 +0000] "GET /api/blogs?page=3 HTTP/1.1" 200 13870 "http://lxiao.net/manage/blogs?t=1526971643806&page=3&t=1526971650160&t=1526971653887" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/66.0.3359.181 Safari/537.36"
INFO:root:Request: POST /api/blogs/001522826886708b06083176cc6418a9a6744da80c93a4f000/secret
INFO:root:Check user: POST /api/blogs/001522826886708b06083176cc6418a9a6744da80c93a4f000/secret
INFO:root:SQL: select `id`, `email`, `created_at`, `image`, `name`, `admin`, `passwd` from `users` where `id`=?
INFO:root:Rows returned: 1
INFO:root:Set current user: m15801021028@163.com
INFO:root:Response handler...
INFO:root:Call with arg: {'request': <Request POST /api/blogs/001522826886708b06083176cc6418a9a6744da80c93a4f000/secret >, 'id': '001522826886708b06083176cc6418a9a6744da80c93a4f000'}
INFO:root:SQL: select `id`, `summary`, `created_at`, `user_name`, `private`, `user_id`, `content`, `name`, `user_image` from `blogs` where `id`=?
INFO:root:Rows returned: 1
INFO:root:SQL: update `blogs` set `summary`=?, `created_at`=?, `user_name`=?, `private`=?, `user_id`=?, `content`=?, `name`=?, `user_image`=? where `id`=?
INFO:aiohttp.access:106.120.206.159 [22/May/2018:06:47:34 +0000] "POST /api/blogs/001522826886708b06083176cc6418a9a6744da80c93a4f000/secret HTTP/1.1" 200 151 "http://lxiao.net/manage/blogs?t=1526971643806&page=3&t=1526971650160&t=1526971653887" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/66.0.3359.181 Safari/537.36"
INFO:root:Request: GET /manage/blogs
INFO:root:Check user: GET /manage/blogs
INFO:root:SQL: select `id`, `email`, `created_at`, `image`, `name`, `admin`, `passwd` from `users` where `id`=?
INFO:root:Rows returned: 1
INFO:root:Set current user: m15801021028@163.com
INFO:root:Response handler...
INFO:root:Call with arg: {'page': '3'}
INFO:aiohttp.access:106.120.206.159 [22/May/2018:06:47:34 +0000] "GET /manage/blogs?t=1526971643806&page=3&t=1526971650160&t=1526971653887&t=1526971656184 HTTP/1.1" 200 7439 "http://lxiao.net/manage/blogs?t=1526971643806&page=3&t=1526971650160&t=1526971653887" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/66.0.3359.181 Safari/537.36"
INFO:root:Request: GET /api/blogs
INFO:root:Check user: GET /api/blogs
INFO:root:SQL: select `id`, `email`, `created_at`, `image`, `name`, `admin`, `passwd` from `users` where `id`=?
INFO:root:Rows returned: 1
INFO:root:Set current user: m15801021028@163.com
INFO:root:Response handler...
INFO:root:Call with arg: {'request': <Request GET /api/blogs >, 'page': '3'}
INFO:root:SQL: select count(id) _num_ from `blogs`
INFO:root:Rows returned: 1
INFO:root:SQL: select `id`, `summary`, `created_at`, `user_name`, `private`, `user_id`, `content`, `name`, `user_image` from `blogs` order by created_at desc limit ?, ?
INFO:root:Rows returned: 5
INFO:aiohttp.access:106.120.206.159 [22/May/2018:06:47:34 +0000] "GET /api/blogs?page=3 HTTP/1.1" 200 13867 "http://lxiao.net/manage/blogs?t=1526971643806&page=3&t=1526971650160&t=1526971653887&t=1526971656184" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/66.0.3359.181 Safari/537.36"
INFO:root:Request: GET /manage/blogs
INFO:root:Check user: GET /manage/blogs
INFO:root:SQL: select `id`, `email`, `created_at`, `image`, `name`, `admin`, `passwd` from `users` where `id`=?
INFO:root:Rows returned: 1
INFO:root:Set current user: m15801021028@163.com
INFO:root:Response handler...
INFO:root:Call with arg: {'page': '4'}
INFO:aiohttp.access:106.120.206.159 [22/May/2018:06:47:36 +0000] "GET /manage/blogs?t=1526971656184&page=4 HTTP/1.1" 200 7439 "http://lxiao.net/manage/blogs?t=1526971643806&page=3&t=1526971650160&t=1526971653887&t=1526971656184" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/66.0.3359.181 Safari/537.36"
INFO:root:Request: GET /api/blogs
INFO:root:Check user: GET /api/blogs
INFO:root:SQL: select `id`, `email`, `created_at`, `image`, `name`, `admin`, `passwd` from `users` where `id`=?
INFO:root:Rows returned: 1
INFO:root:Set current user: m15801021028@163.com
INFO:root:Response handler...
INFO:root:Call with arg: {'request': <Request GET /api/blogs >, 'page': '4'}
INFO:root:SQL: select count(id) _num_ from `blogs`
INFO:root:Rows returned: 1
INFO:root:SQL: select `id`, `summary`, `created_at`, `user_name`, `private`, `user_id`, `content`, `name`, `user_image` from `blogs` order by created_at desc limit ?, ?
INFO:root:Rows returned: 5
INFO:aiohttp.access:106.120.206.159 [22/May/2018:06:47:37 +0000] "GET /api/blogs?page=4 HTTP/1.1" 200 26208 "http://lxiao.net/manage/blogs?t=1526971656184&page=4" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/66.0.3359.181 Safari/537.36"
INFO:root:Request: POST /api/blogs/001522593158329e330c435dd19481a80b37022e30c789e000/secret
INFO:root:Check user: POST /api/blogs/001522593158329e330c435dd19481a80b37022e30c789e000/secret
INFO:root:SQL: select `id`, `email`, `created_at`, `image`, `name`, `admin`, `passwd` from `users` where `id`=?
INFO:root:Rows returned: 1
INFO:root:Set current user: m15801021028@163.com
INFO:root:Response handler...
INFO:root:Call with arg: {'request': <Request POST /api/blogs/001522593158329e330c435dd19481a80b37022e30c789e000/secret >, 'id': '001522593158329e330c435dd19481a80b37022e30c789e000'}
INFO:root:SQL: select `id`, `summary`, `created_at`, `user_name`, `private`, `user_id`, `content`, `name`, `user_image` from `blogs` where `id`=?
INFO:root:Rows returned: 1
INFO:root:SQL: update `blogs` set `summary`=?, `created_at`=?, `user_name`=?, `private`=?, `user_id`=?, `content`=?, `name`=?, `user_image`=? where `id`=?
INFO:aiohttp.access:106.120.206.159 [22/May/2018:06:47:39 +0000] "POST /api/blogs/001522593158329e330c435dd19481a80b37022e30c789e000/secret HTTP/1.1" 200 151 "http://lxiao.net/manage/blogs?t=1526971656184&page=4" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/66.0.3359.181 Safari/537.36"
INFO:root:Request: GET /manage/blogs
INFO:root:Check user: GET /manage/blogs
INFO:root:SQL: select `id`, `email`, `created_at`, `image`, `name`, `admin`, `passwd` from `users` where `id`=?
INFO:root:Rows returned: 1
INFO:root:Set current user: m15801021028@163.com
INFO:root:Response handler...
INFO:root:Call with arg: {'page': '4'}
INFO:aiohttp.access:106.120.206.159 [22/May/2018:06:47:39 +0000] "GET /manage/blogs?t=1526971656184&page=4&t=1526971661535 HTTP/1.1" 200 7439 "http://lxiao.net/manage/blogs?t=1526971656184&page=4" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/66.0.3359.181 Safari/537.36"
INFO:root:Request: GET /api/blogs
INFO:root:Check user: GET /api/blogs
INFO:root:SQL: select `id`, `email`, `created_at`, `image`, `name`, `admin`, `passwd` from `users` where `id`=?
INFO:root:Rows returned: 1
INFO:root:Set current user: m15801021028@163.com
INFO:root:Response handler...
INFO:root:Call with arg: {'request': <Request GET /api/blogs >, 'page': '4'}
INFO:root:SQL: select count(id) _num_ from `blogs`
INFO:root:Rows returned: 1
INFO:root:SQL: select `id`, `summary`, `created_at`, `user_name`, `private`, `user_id`, `content`, `name`, `user_image` from `blogs` order by created_at desc limit ?, ?
INFO:root:Rows returned: 5
INFO:aiohttp.access:106.120.206.159 [22/May/2018:06:47:40 +0000] "GET /api/blogs?page=4 HTTP/1.1" 200 26205 "http://lxiao.net/manage/blogs?t=1526971656184&page=4&t=1526971661535" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/66.0.3359.181 Safari/537.36"
INFO:root:Request: POST /api/blogs/001522487213321f8b444f8895d49da9f6e471563fb9d40000/secret
INFO:root:Check user: POST /api/blogs/001522487213321f8b444f8895d49da9f6e471563fb9d40000/secret
INFO:root:SQL: select `id`, `email`, `created_at`, `image`, `name`, `admin`, `passwd` from `users` where `id`=?
INFO:root:Rows returned: 1
INFO:root:Set current user: m15801021028@163.com
INFO:root:Response handler...
INFO:root:Call with arg: {'request': <Request POST /api/blogs/001522487213321f8b444f8895d49da9f6e471563fb9d40000/secret >, 'id': '001522487213321f8b444f8895d49da9f6e471563fb9d40000'}
INFO:root:SQL: select `id`, `summary`, `created_at`, `user_name`, `private`, `user_id`, `content`, `name`, `user_image` from `blogs` where `id`=?
INFO:root:Rows returned: 1
INFO:root:SQL: update `blogs` set `summary`=?, `created_at`=?, `user_name`=?, `private`=?, `user_id`=?, `content`=?, `name`=?, `user_image`=? where `id`=?
INFO:aiohttp.access:106.120.206.159 [22/May/2018:06:47:44 +0000] "POST /api/blogs/001522487213321f8b444f8895d49da9f6e471563fb9d40000/secret HTTP/1.1" 200 151 "http://lxiao.net/manage/blogs?t=1526971656184&page=4&t=1526971661535" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/66.0.3359.181 Safari/537.36"
INFO:root:Request: GET /manage/blogs
INFO:root:Check user: GET /manage/blogs
INFO:root:SQL: select `id`, `email`, `created_at`, `image`, `name`, `admin`, `passwd` from `users` where `id`=?
INFO:root:Rows returned: 1
INFO:root:Set current user: m15801021028@163.com
INFO:root:Response handler...
INFO:root:Call with arg: {'page': '4'}
INFO:aiohttp.access:106.120.206.159 [22/May/2018:06:47:44 +0000] "GET /manage/blogs?t=1526971656184&page=4&t=1526971661535&t=1526971665926 HTTP/1.1" 200 7439 "http://lxiao.net/manage/blogs?t=1526971656184&page=4&t=1526971661535" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/66.0.3359.181 Safari/537.36"
INFO:root:Request: GET /api/blogs
INFO:root:Check user: GET /api/blogs
INFO:root:SQL: select `id`, `email`, `created_at`, `image`, `name`, `admin`, `passwd` from `users` where `id`=?
INFO:root:Rows returned: 1
INFO:root:Set current user: m15801021028@163.com
INFO:root:Response handler...
INFO:root:Call with arg: {'request': <Request GET /api/blogs >, 'page': '4'}
INFO:root:SQL: select count(id) _num_ from `blogs`
INFO:root:Rows returned: 1
INFO:root:SQL: select `id`, `summary`, `created_at`, `user_name`, `private`, `user_id`, `content`, `name`, `user_image` from `blogs` order by created_at desc limit ?, ?
INFO:root:Rows returned: 5
INFO:aiohttp.access:106.120.206.159 [22/May/2018:06:47:44 +0000] "GET /api/blogs?page=4 HTTP/1.1" 200 26202 "http://lxiao.net/manage/blogs?t=1526971656184&page=4&t=1526971661535&t=1526971665926" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/66.0.3359.181 Safari/537.36"
INFO:root:Request: GET /manage/blogs
INFO:root:Check user: GET /manage/blogs
INFO:root:SQL: select `id`, `email`, `created_at`, `image`, `name`, `admin`, `passwd` from `users` where `id`=?
INFO:root:Rows returned: 1
INFO:root:Set current user: m15801021028@163.com
INFO:root:Response handler...
INFO:root:Call with arg: {'page': '5'}
INFO:aiohttp.access:106.120.206.159 [22/May/2018:06:47:48 +0000] "GET /manage/blogs?t=1526971665926&page=5 HTTP/1.1" 200 7439 "http://lxiao.net/manage/blogs?t=1526971656184&page=4&t=1526971661535&t=1526971665926" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/66.0.3359.181 Safari/537.36"
INFO:root:Request: GET /api/blogs
INFO:root:Check user: GET /api/blogs
INFO:root:SQL: select `id`, `email`, `created_at`, `image`, `name`, `admin`, `passwd` from `users` where `id`=?
INFO:root:Rows returned: 1
INFO:root:Set current user: m15801021028@163.com
INFO:root:Response handler...
INFO:root:Call with arg: {'request': <Request GET /api/blogs >, 'page': '5'}
INFO:root:SQL: select count(id) _num_ from `blogs`
INFO:root:Rows returned: 1
INFO:root:SQL: select `id`, `summary`, `created_at`, `user_name`, `private`, `user_id`, `content`, `name`, `user_image` from `blogs` order by created_at desc limit ?, ?
INFO:root:Rows returned: 5
INFO:aiohttp.access:106.120.206.159 [22/May/2018:06:47:48 +0000] "GET /api/blogs?page=5 HTTP/1.1" 200 12215 "http://lxiao.net/manage/blogs?t=1526971665926&page=5" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/66.0.3359.181 Safari/537.36"
INFO:root:Request: GET /manage/blogs
INFO:root:Check user: GET /manage/blogs
INFO:root:SQL: select `id`, `email`, `created_at`, `image`, `name`, `admin`, `passwd` from `users` where `id`=?
INFO:root:Rows returned: 1
INFO:root:Set current user: m15801021028@163.com
INFO:root:Response handler...
INFO:root:Call with arg: {'page': '6'}
INFO:aiohttp.access:106.120.206.159 [22/May/2018:06:48:04 +0000] "GET /manage/blogs?t=1526971665926&page=6 HTTP/1.1" 200 7439 "http://lxiao.net/manage/blogs?t=1526971665926&page=5" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/66.0.3359.181 Safari/537.36"
INFO:root:Request: GET /api/blogs
INFO:root:Check user: GET /api/blogs
INFO:root:SQL: select `id`, `email`, `created_at`, `image`, `name`, `admin`, `passwd` from `users` where `id`=?
INFO:root:Rows returned: 1
INFO:root:Set current user: m15801021028@163.com
INFO:root:Response handler...
INFO:root:Call with arg: {'request': <Request GET /api/blogs >, 'page': '6'}
INFO:root:SQL: select count(id) _num_ from `blogs`
INFO:root:Rows returned: 1
INFO:root:SQL: select `id`, `summary`, `created_at`, `user_name`, `private`, `user_id`, `content`, `name`, `user_image` from `blogs` order by created_at desc limit ?, ?
INFO:root:Rows returned: 5
INFO:aiohttp.access:106.120.206.159 [22/May/2018:06:48:04 +0000] "GET /api/blogs?page=6 HTTP/1.1" 200 20211 "http://lxiao.net/manage/blogs?t=1526971665926&page=6" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/66.0.3359.181 Safari/537.36"
INFO:root:Request: POST /api/blogs/001520413014844113faf86a2e542fab9c57cea9d59d480000/delete
INFO:root:Check user: POST /api/blogs/001520413014844113faf86a2e542fab9c57cea9d59d480000/delete
INFO:root:SQL: select `id`, `email`, `created_at`, `image`, `name`, `admin`, `passwd` from `users` where `id`=?
INFO:root:Rows returned: 1
INFO:root:Set current user: m15801021028@163.com
INFO:root:Response handler...
INFO:root:Call with arg: {'request': <Request POST /api/blogs/001520413014844113faf86a2e542fab9c57cea9d59d480000/delete >, 'id': '001520413014844113faf86a2e542fab9c57cea9d59d480000'}
INFO:root:SQL: select `id`, `summary`, `created_at`, `user_name`, `private`, `user_id`, `content`, `name`, `user_image` from `blogs` where `id`=?
INFO:root:Rows returned: 1
INFO:root:SQL: delete from `blogs` where `id`=?
INFO:aiohttp.access:106.120.206.159 [22/May/2018:06:48:10 +0000] "POST /api/blogs/001520413014844113faf86a2e542fab9c57cea9d59d480000/delete HTTP/1.1" 200 217 "http://lxiao.net/manage/blogs?t=1526971665926&page=6" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/66.0.3359.181 Safari/537.36"
INFO:root:Request: GET /manage/blogs
INFO:root:Check user: GET /manage/blogs
INFO:root:SQL: select `id`, `email`, `created_at`, `image`, `name`, `admin`, `passwd` from `users` where `id`=?
INFO:root:Rows returned: 1
INFO:root:Set current user: m15801021028@163.com
INFO:root:Response handler...
INFO:root:Call with arg: {'page': '6'}
INFO:aiohttp.access:106.120.206.159 [22/May/2018:06:48:10 +0000] "GET /manage/blogs?t=1526971665926&page=6&t=1526971691747 HTTP/1.1" 200 7439 "http://lxiao.net/manage/blogs?t=1526971665926&page=6" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/66.0.3359.181 Safari/537.36"
INFO:root:Request: GET /api/blogs
INFO:root:Check user: GET /api/blogs
INFO:root:SQL: select `id`, `email`, `created_at`, `image`, `name`, `admin`, `passwd` from `users` where `id`=?
INFO:root:Rows returned: 1
INFO:root:Set current user: m15801021028@163.com
INFO:root:Response handler...
INFO:root:Call with arg: {'request': <Request GET /api/blogs >, 'page': '6'}
INFO:root:SQL: select count(id) _num_ from `blogs`
INFO:root:Rows returned: 1
INFO:root:SQL: select `id`, `summary`, `created_at`, `user_name`, `private`, `user_id`, `content`, `name`, `user_image` from `blogs` order by created_at desc limit ?, ?
INFO:root:Rows returned: 5
INFO:aiohttp.access:106.120.206.159 [22/May/2018:06:48:10 +0000] "GET /api/blogs?page=6 HTTP/1.1" 200 35396 "http://lxiao.net/manage/blogs?t=1526971665926&page=6&t=1526971691747" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/66.0.3359.181 Safari/537.36"
INFO:root:Request: GET /
INFO:root:Check user: GET /
INFO:root:SQL: select `id`, `email`, `created_at`, `image`, `name`, `admin`, `passwd` from `users` where `id`=?
INFO:root:Rows returned: 1
INFO:root:Set current user: m15801021028@163.com
INFO:root:Response handler...
INFO:root:Call with arg: {'request': <Request GET / >}
INFO:aiohttp.access:106.120.206.159 [22/May/2018:06:49:05 +0000] "GET / HTTP/1.1" 200 5577 "http://lxiao.net/manage/blogs?t=1526971665926&page=6&t=1526971691747" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/66.0.3359.181 Safari/537.36"
INFO:root:Request: GET /api/blogs
INFO:root:Check user: GET /api/blogs
INFO:root:SQL: select `id`, `email`, `created_at`, `image`, `name`, `admin`, `passwd` from `users` where `id`=?
INFO:root:Rows returned: 1
INFO:root:Set current user: m15801021028@163.com
INFO:root:Response handler...
INFO:root:Call with arg: {'request': <Request GET /api/blogs >, 'page': '1'}
INFO:root:SQL: select count(id) _num_ from `blogs`
INFO:root:Rows returned: 1
INFO:root:SQL: select `id`, `summary`, `created_at`, `user_name`, `private`, `user_id`, `content`, `name`, `user_image` from `blogs` order by created_at desc limit ?, ?
INFO:root:Rows returned: 5
INFO:aiohttp.access:106.120.206.159 [22/May/2018:06:49:05 +0000] "GET /api/blogs?page=1 HTTP/1.1" 200 29702 "http://lxiao.net/" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/66.0.3359.181 Safari/537.36"
INFO:root:Request: GET /
INFO:root:Check user: GET /
INFO:root:Response handler...
INFO:root:Call with arg: {'request': <Request GET / >}
INFO:aiohttp.access:47.97.62.124 [22/May/2018:07:52:35 +0000] "GET / HTTP/1.1" 200 5383 "http://60.205.221.43:80/" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/59.0.3071.115 Safari/537.36"
INFO:root:Request: GET /explicit_not_exist_path
INFO:root:Check user: GET /explicit_not_exist_path
INFO:root:Response handler...
INFO:aiohttp.access:47.97.62.124 [22/May/2018:07:52:35 +0000] "GET /explicit_not_exist_path HTTP/1.1" 404 173 "http://60.205.221.43/explicit_not_exist_path" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/59.0.3071.115 Safari/537.36"
INFO:root:Request: GET /index.html
INFO:root:Check user: GET /index.html
INFO:root:Response handler...
INFO:aiohttp.access:47.97.62.124 [22/May/2018:07:52:35 +0000] "GET /index.html HTTP/1.1" 404 173 "http://60.205.221.43/index.html" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/59.0.3071.115 Safari/537.36"
INFO:root:Request: GET /index.php
INFO:root:Check user: GET /index.php
INFO:root:Response handler...
INFO:aiohttp.access:47.97.62.124 [22/May/2018:07:52:36 +0000] "GET /index.php HTTP/1.1" 404 173 "http://60.205.221.43/index.php" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/59.0.3071.115 Safari/537.36"
INFO:root:Request: GET /index.jsp
INFO:root:Check user: GET /index.jsp
INFO:root:Response handler...
INFO:aiohttp.access:47.97.62.124 [22/May/2018:07:52:36 +0000] "GET /index.jsp HTTP/1.1" 404 173 "http://60.205.221.43/index.jsp" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/59.0.3071.115 Safari/537.36"
INFO:root:Request: GET /admin/
INFO:root:Check user: GET /admin/
INFO:root:Response handler...
INFO:aiohttp.access:47.97.62.124 [22/May/2018:07:52:36 +0000] "GET /admin/ HTTP/1.1" 404 173 "http://60.205.221.43/admin/" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/59.0.3071.115 Safari/537.36"
INFO:root:Request: GET /favicon.ico
INFO:root:Check user: GET /favicon.ico
INFO:root:Response handler...
INFO:aiohttp.access:47.97.62.124 [22/May/2018:07:52:36 +0000] "GET /favicon.ico HTTP/1.1" 404 173 "http://60.205.221.43/favicon.ico" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/59.0.3071.115 Safari/537.36"
INFO:root:Request: GET /README
INFO:root:Check user: GET /README
INFO:root:Response handler...
INFO:aiohttp.access:47.97.62.124 [22/May/2018:07:52:36 +0000] "GET /README HTTP/1.1" 404 173 "http://60.205.221.43/README" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/59.0.3071.115 Safari/537.36"
INFO:root:Request: GET /robots.txt
INFO:root:Check user: GET /robots.txt
INFO:root:Response handler...
INFO:aiohttp.access:47.97.62.124 [22/May/2018:07:52:37 +0000] "GET /robots.txt HTTP/1.1" 404 173 "http://60.205.221.43/robots.txt" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/59.0.3071.115 Safari/537.36"
INFO:root:Request: GET /phpMyAdmin/
INFO:root:Check user: GET /phpMyAdmin/
INFO:root:Response handler...
INFO:aiohttp.access:47.97.62.124 [22/May/2018:07:52:37 +0000] "GET /phpMyAdmin/ HTTP/1.1" 404 173 "http://60.205.221.43/phpMyAdmin/" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/59.0.3071.115 Safari/537.36"
INFO:root:Request: GET /phpmyadmin/
INFO:root:Check user: GET /phpmyadmin/
INFO:root:Response handler...
INFO:aiohttp.access:47.97.62.124 [22/May/2018:07:52:37 +0000] "GET /phpmyadmin/ HTTP/1.1" 404 173 "http://60.205.221.43/phpmyadmin/" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/59.0.3071.115 Safari/537.36"
INFO:root:Request: GET /pma/
INFO:root:Check user: GET /pma/
INFO:root:Response handler...
INFO:aiohttp.access:47.97.62.124 [22/May/2018:07:52:37 +0000] "GET /pma/ HTTP/1.1" 404 173 "http://60.205.221.43/pma/" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/59.0.3071.115 Safari/537.36"
INFO:root:Request: GET /solr/
INFO:root:Check user: GET /solr/
INFO:root:Response handler...
INFO:aiohttp.access:47.97.62.124 [22/May/2018:07:52:37 +0000] "GET /solr/ HTTP/1.1" 404 173 "http://60.205.221.43/solr/" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/59.0.3071.115 Safari/537.36"
INFO:root:Request: GET /wcm/
INFO:root:Check user: GET /wcm/
INFO:root:Response handler...
INFO:aiohttp.access:47.97.62.124 [22/May/2018:07:52:37 +0000] "GET /wcm/ HTTP/1.1" 404 173 "http://60.205.221.43/wcm/" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/59.0.3071.115 Safari/537.36"
INFO:root:Request: GET /
INFO:root:Check user: GET /
INFO:root:Response handler...
INFO:root:Call with arg: {'request': <Request GET / >}
INFO:aiohttp.access:114.215.45.101 [22/May/2018:08:43:23 +0000] "GET / HTTP/1.1" 200 5402 "-" "-"
INFO:root:Request: GET /
INFO:root:Check user: GET /
INFO:root:Response handler...
INFO:root:Call with arg: {'request': <Request GET / >}
INFO:aiohttp.access:220.181.108.183 [22/May/2018:08:57:52 +0000] "GET / HTTP/1.1" 200 5402 "-" "Mozilla/5.0 (compatible; Baiduspider/2.0; +http://www.baidu.com/search/spider.html)"
INFO:root:Request: GET /api/blogs
INFO:root:Check user: GET /api/blogs
INFO:root:Response handler...
INFO:root:Call with arg: {'request': <Request GET /api/blogs >, 'page': '1'}
INFO:root:SQL: select count(id) _num_ from `blogs` where private is null or private is false
INFO:root:Rows returned: 1
INFO:root:SQL: select `id`, `summary`, `created_at`, `user_name`, `private`, `user_id`, `content`, `name`, `user_image` from `blogs` where private is null or private is false order by created_at desc limit ?, ?
INFO:root:Rows returned: 5
INFO:aiohttp.access:111.206.221.93 [22/May/2018:08:57:53 +0000] "GET /api/blogs?page=1 HTTP/1.1" 200 27312 "http://www.lxiao.net/" "Mozilla/5.0 (compatible; Baiduspider-render/2.0; +http://www.baidu.com/search/spider.html)"
INFO:root:Request: GET /
INFO:root:Check user: GET /
INFO:root:Response handler...
INFO:root:Call with arg: {'request': <Request GET / >}
INFO:aiohttp.access:58.11.94.4 [22/May/2018:09:12:20 +0000] "GET / HTTP/1.1" 200 5383 "-" "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_11_6) AppleWebKit/601.7.7 (KHTML, like Gecko) Version/9.1.2 Safari/601.7.7"
INFO:root:Request: GET /user/password
INFO:root:Check user: GET /user/password
INFO:root:Response handler...
INFO:aiohttp.access:37.187.148.221 [22/May/2018:09:40:24 +0000] "GET /user/password HTTP/1.1" 404 173 "-" "Mozilla/5.0 (Windows NT 6.1; rv:32.0) Gecko/20100101 Firefox/32.0"
INFO:root:Request: GET /
INFO:root:Check user: GET /
INFO:root:Response handler...
INFO:root:Call with arg: {'request': <Request GET / >}
INFO:aiohttp.access:87.75.93.185 [22/May/2018:09:42:26 +0000] "GET / HTTP/1.1" 200 5383 "-" "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_11_6) AppleWebKit/601.7.7 (KHTML, like Gecko) Version/9.1.2 Safari/601.7.7"
INFO:root:Request: GET /cache/global/img/gs.gif
INFO:root:Check user: GET /cache/global/img/gs.gif
INFO:root:Response handler...
INFO:aiohttp.access:80.82.78.50 [22/May/2018:09:58:16 +0000] "GET http://www.baidu.com/cache/global/img/gs.gif HTTP/1.1" 404 173 "-" "Mozilla"
INFO:root:Request: GET /phpmyadmin-old/index.php
INFO:root:Check user: GET /phpmyadmin-old/index.php
INFO:root:Response handler...
INFO:aiohttp.access:118.126.108.131 [22/May/2018:10:21:31 +0000] "GET /phpmyadmin-old/index.php HTTP/1.1" 404 173 "-" "Mozilla/5.0"
INFO:root:Request: GET /phpMyAdminold/index.php
INFO:root:Check user: GET /phpMyAdminold/index.php
INFO:root:Response handler...
INFO:aiohttp.access:118.126.108.131 [22/May/2018:10:21:31 +0000] "GET /phpMyAdminold/index.php HTTP/1.1" 404 173 "-" "Mozilla/5.0"
INFO:root:Request: GET /phpMyAdmin.old/index.php
INFO:root:Check user: GET /phpMyAdmin.old/index.php
INFO:root:Response handler...
INFO:aiohttp.access:118.126.108.131 [22/May/2018:10:21:31 +0000] "GET /phpMyAdmin.old/index.php HTTP/1.1" 404 173 "-" "Mozilla/5.0"
INFO:root:Request: GET /pma-old/index.php
INFO:root:Check user: GET /pma-old/index.php
INFO:root:Response handler...
INFO:aiohttp.access:118.126.108.131 [22/May/2018:10:21:32 +0000] "GET /pma-old/index.php HTTP/1.1" 404 173 "-" "Mozilla/5.0"
INFO:root:Request: GET /claroline/phpMyAdmin/index.php
INFO:root:Check user: GET /claroline/phpMyAdmin/index.php
INFO:root:Response handler...
INFO:aiohttp.access:118.126.108.131 [22/May/2018:10:21:32 +0000] "GET /claroline/phpMyAdmin/index.php HTTP/1.1" 404 173 "-" "Mozilla/5.0"
INFO:root:Request: GET /typo3/phpmyadmin/index.php
INFO:root:Check user: GET /typo3/phpmyadmin/index.php
INFO:root:Response handler...
INFO:aiohttp.access:118.126.108.131 [22/May/2018:10:21:32 +0000] "GET /typo3/phpmyadmin/index.php HTTP/1.1" 404 173 "-" "Mozilla/5.0"
INFO:root:Request: GET /phpma/index.php
INFO:root:Check user: GET /phpma/index.php
INFO:root:Response handler...
INFO:aiohttp.access:118.126.108.131 [22/May/2018:10:21:32 +0000] "GET /phpma/index.php HTTP/1.1" 404 173 "-" "Mozilla/5.0"
INFO:root:Request: GET /phpmyadmin/phpmyadmin/index.php
INFO:root:Check user: GET /phpmyadmin/phpmyadmin/index.php
INFO:root:Response handler...
INFO:aiohttp.access:118.126.108.131 [22/May/2018:10:21:32 +0000] "GET /phpmyadmin/phpmyadmin/index.php HTTP/1.1" 404 173 "-" "Mozilla/5.0"
INFO:root:Request: GET /phpMyAdmin/phpMyAdmin/index.php
INFO:root:Check user: GET /phpMyAdmin/phpMyAdmin/index.php
INFO:root:Response handler...
INFO:aiohttp.access:118.126.108.131 [22/May/2018:10:21:32 +0000] "GET /phpMyAdmin/phpMyAdmin/index.php HTTP/1.1" 404 173 "-" "Mozilla/5.0"
INFO:root:Request: GET /
INFO:root:Check user: GET /
INFO:root:Response handler...
INFO:root:Call with arg: {'request': <Request GET / >}
INFO:aiohttp.access:152.250.191.211 [22/May/2018:10:27:22 +0000] "GET / HTTP/1.1" 200 5383 "-" "Mozilla/5.0 (Windows NT 6.1; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/52.0.2743.116 Safari/537.36"
INFO:root:Request: GET /
INFO:root:Check user: GET /
INFO:root:Response handler...
INFO:root:Call with arg: {'request': <Request GET / >}
INFO:aiohttp.access:196.52.43.125 [22/May/2018:10:34:15 +0000] "GET / HTTP/1.1" 200 5383 "-" "-"
INFO:root:Request: GET /cache/global/img/gs.gif
INFO:root:Check user: GET /cache/global/img/gs.gif
INFO:root:Response handler...
INFO:aiohttp.access:80.82.78.50 [22/May/2018:11:09:31 +0000] "GET http://www.baidu.com/cache/global/img/gs.gif HTTP/1.1" 404 173 "-" "Mozilla"
INFO:root:Request: HEAD /
INFO:root:Check user: HEAD /
INFO:root:Response handler...
INFO:aiohttp.access:219.140.120.84 [22/May/2018:11:37:22 +0000] "HEAD / HTTP/1.1" 405 180 "-" "curl/7.29.0"
INFO:root:Request: GET /
INFO:root:Check user: GET /
INFO:root:Response handler...
INFO:root:Call with arg: {'request': <Request GET / >}
INFO:aiohttp.access:81.198.211.225 [22/May/2018:11:47:58 +0000] "GET / HTTP/1.1" 200 5383 "-" "Mozilla/5.0 (Windows NT 10.0; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/51.0.2704.103 Safari/537.36"
INFO:root:Request: GET /
INFO:root:Check user: GET /
INFO:root:Response handler...
INFO:root:Call with arg: {'request': <Request GET / >}
INFO:aiohttp.access:23.236.77.30 [22/May/2018:11:52:35 +0000] "GET / HTTP/1.1" 200 5383 "-" "-"
INFO:root:Request: GET /
INFO:root:Check user: GET /
INFO:root:Response handler...
INFO:root:Call with arg: {'request': <Request GET / >}
INFO:aiohttp.access:103.73.183.48 [22/May/2018:12:11:45 +0000] "GET / HTTP/1.1" 200 5383 "-" "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_11_6) AppleWebKit/601.7.7 (KHTML, like Gecko) Version/9.1.2 Safari/601.7.7"
INFO:root:Request: GET /
INFO:root:Check user: GET /
INFO:root:Response handler...
INFO:root:Call with arg: {'request': <Request GET / >}
INFO:aiohttp.access:120.76.23.202 [22/May/2018:12:19:15 +0000] "GET / HTTP/1.1" 200 5402 "-" "-"
INFO:root:Request: GET /
INFO:root:Check user: GET /
INFO:root:Response handler...
INFO:root:Call with arg: {'request': <Request GET / >}
INFO:aiohttp.access:120.76.23.202 [22/May/2018:12:19:45 +0000] "GET / HTTP/1.1" 200 5402 "-" "-"
INFO:root:Request: GET /echo.php
INFO:root:Check user: GET /echo.php
INFO:root:Response handler...
INFO:aiohttp.access:139.162.88.63 [22/May/2018:12:24:34 +0000] "GET http://clientapi.ipip.net/echo.php?info=1234567890 HTTP/1.1" 404 192 "-" "Go-http-client/1.1"
INFO:root:Request: GET /robots.txt
INFO:root:Check user: GET /robots.txt
INFO:root:Response handler...
INFO:aiohttp.access:157.55.39.57 [22/May/2018:12:54:00 +0000] "GET /robots.txt HTTP/1.1" 404 173 "-" "Mozilla/5.0 (compatible; bingbot/2.0; +http://www.bing.com/bingbot.htm)"
INFO:root:Request: GET /
INFO:root:Check user: GET /
INFO:root:Response handler...
INFO:root:Call with arg: {'request': <Request GET / >}
INFO:aiohttp.access:157.55.39.84 [22/May/2018:12:54:14 +0000] "GET / HTTP/1.1" 200 5383 "-" "Mozilla/5.0 (compatible; bingbot/2.0; +http://www.bing.com/bingbot.htm)"
INFO:root:Request: GET /cache/global/img/gs.gif
INFO:root:Check user: GET /cache/global/img/gs.gif
INFO:root:Response handler...
INFO:aiohttp.access:80.82.70.187 [22/May/2018:13:32:45 +0000] "GET http://www.baidu.com/cache/global/img/gs.gif HTTP/1.1" 404 173 "-" "Mozilla"
INFO:root:Request: GET /
INFO:root:Check user: GET /
INFO:root:Response handler...
INFO:root:Call with arg: {'request': <Request GET / >}
INFO:aiohttp.access:185.10.68.241 [22/May/2018:14:06:30 +0000] "GET / HTTP/1.1" 200 5383 "-" "-"
INFO:root:Request: GET /
INFO:root:Check user: GET /
INFO:root:Response handler...
INFO:root:Call with arg: {'request': <Request GET / >}
INFO:aiohttp.access:203.189.156.236 [22/May/2018:14:11:43 +0000] "GET / HTTP/1.1" 200 5383 "-" "Mozilla/5.0 (Windows NT 10.0; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/51.0.2704.103 Safari/537.36"
INFO:root:Request: GET /
INFO:root:Check user: GET /
INFO:root:Response handler...
INFO:root:Call with arg: {'request': <Request GET / >}
INFO:aiohttp.access:186.43.228.240 [22/May/2018:14:30:43 +0000] "GET / HTTP/1.1" 200 5383 "-" "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_11_6) AppleWebKit/601.7.7 (KHTML, like Gecko) Version/9.1.2 Safari/601.7.7"
INFO:root:Request: GET /cache/global/img/gs.gif
INFO:root:Check user: GET /cache/global/img/gs.gif
INFO:root:Response handler...
INFO:aiohttp.access:172.82.166.210 [22/May/2018:14:37:36 +0000] "GET http://www.baidu.com/cache/global/img/gs.gif HTTP/1.1" 404 173 "-" "Mozilla"
INFO:root:Request: GET /
INFO:root:Check user: GET /
INFO:root:Response handler...
INFO:root:Call with arg: {'request': <Request GET / >}
INFO:aiohttp.access:69.63.65.238 [22/May/2018:14:47:09 +0000] "GET / HTTP/1.1" 200 5383 "-" "Mozilla/5.0 (Windows NT 10.0; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/52.0.2743.116 Safari/537.36"
INFO:root:Request: GET /
INFO:root:Check user: GET /
INFO:root:Response handler...
INFO:root:Call with arg: {'request': <Request GET / >}
INFO:aiohttp.access:201.92.12.97 [22/May/2018:15:43:03 +0000] "GET / HTTP/1.1" 200 5383 "-" "Mozilla/5.0 (Windows NT 6.1; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/52.0.2743.116 Safari/537.36"
INFO:root:Request: GET /
INFO:root:Check user: GET /
INFO:root:Response handler...
INFO:root:Call with arg: {'request': <Request GET / >}
INFO:aiohttp.access:139.162.106.181 [22/May/2018:16:01:33 +0000] "GET / HTTP/1.1" 200 5402 "-" "Go-http-client/1.1"
INFO:root:Request: GET /
INFO:root:Check user: GET /
INFO:root:Response handler...
INFO:root:Call with arg: {'request': <Request GET / >}
INFO:aiohttp.access:89.74.212.72 [22/May/2018:16:31:26 +0000] "GET / HTTP/1.1" 200 5383 "-" "Mozilla/5.0 (Windows NT 10.0; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/52.0.2743.116 Safari/537.36"
INFO:root:Request: GET /
INFO:root:Check user: GET /
INFO:root:Response handler...
INFO:root:Call with arg: {'request': <Request GET / >}
INFO:aiohttp.access:157.55.39.84 [22/May/2018:16:41:15 +0000] "GET / HTTP/1.1" 200 5383 "-" "Mozilla/5.0 (compatible; bingbot/2.0; +http://www.bing.com/bingbot.htm)"
INFO:root:Request: GET /
INFO:root:Check user: GET /
INFO:root:Response handler...
INFO:root:Call with arg: {'request': <Request GET / >}
INFO:aiohttp.access:47.93.112.232 [22/May/2018:16:55:52 +0000] "GET / HTTP/1.1" 200 5402 "-" "-"
INFO:root:Request: GET /
INFO:root:Check user: GET /
INFO:root:Response handler...
INFO:root:Call with arg: {'request': <Request GET / >}
INFO:aiohttp.access:119.23.174.205 [22/May/2018:16:59:57 +0000] "GET / HTTP/1.0" 200 5383 "-" "-"
INFO:root:Request: GET /
INFO:root:Check user: GET /
INFO:root:Response handler...
INFO:root:Call with arg: {'request': <Request GET / >}
INFO:aiohttp.access:220.181.108.119 [22/May/2018:17:03:20 +0000] "GET / HTTP/1.1" 200 5402 "-" "Mozilla/5.0 (compatible; Baiduspider/2.0; +http://www.baidu.com/search/spider.html)"
INFO:root:Request: GET /api/blogs
INFO:root:Check user: GET /api/blogs
INFO:root:Response handler...
INFO:root:Call with arg: {'request': <Request GET /api/blogs >, 'page': '1'}
INFO:root:SQL: select count(id) _num_ from `blogs` where private is null or private is false
INFO:root:Rows returned: 1
INFO:root:SQL: select `id`, `summary`, `created_at`, `user_name`, `private`, `user_id`, `content`, `name`, `user_image` from `blogs` where private is null or private is false order by created_at desc limit ?, ?
INFO:root:Rows returned: 5
INFO:aiohttp.access:111.206.221.8 [22/May/2018:17:03:29 +0000] "GET /api/blogs?page=1 HTTP/1.1" 200 27312 "http://www.lxiao.net/" "Mozilla/5.0 (compatible; Baiduspider-render/2.0; +http://www.baidu.com/search/spider.html)"
INFO:root:Request: GET /robots.txt
INFO:root:Check user: GET /robots.txt
INFO:root:Response handler...
INFO:aiohttp.access:123.125.71.98 [22/May/2018:17:22:17 +0000] "GET /robots.txt HTTP/1.1" 404 192 "-" "Mozilla/5.0 (compatible; Baiduspider/2.0; +http://www.baidu.com/search/spider.html)"
INFO:root:Request: GET /
INFO:root:Check user: GET /
INFO:root:Response handler...
INFO:root:Call with arg: {'request': <Request GET / >}
INFO:aiohttp.access:107.170.231.128 [22/May/2018:17:25:54 +0000] "GET / HTTP/1.1" 200 5383 "-" "Mozilla/5.0 zgrab/0.x"
INFO:root:Request: GET /cache/global/img/gs.gif
INFO:root:Check user: GET /cache/global/img/gs.gif
INFO:root:Response handler...
INFO:aiohttp.access:80.82.70.187 [22/May/2018:17:26:40 +0000] "GET http://www.baidu.com/cache/global/img/gs.gif HTTP/1.1" 404 173 "-" "Mozilla"
INFO:root:Request: GET /
INFO:root:Check user: GET /
INFO:root:Response handler...
INFO:root:Call with arg: {'request': <Request GET / >}
INFO:aiohttp.access:81.24.91.142 [22/May/2018:17:49:44 +0000] "GET / HTTP/1.1" 200 5383 "-" "Mozilla/5.0 (Windows NT 10.0; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/52.0.2743.116 Safari/537.36"
INFO:root:Request: GET /
INFO:root:Check user: GET /
INFO:root:Response handler...
INFO:root:Call with arg: {'request': <Request GET / >}
INFO:aiohttp.access:177.223.105.150 [22/May/2018:17:50:54 +0000] "GET / HTTP/1.1" 200 5383 "-" "Mozilla/5.0 (Windows NT 6.1; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/51.0.2704.103 Safari/537.36"
INFO:root:Request: GET /
INFO:root:Check user: GET /
INFO:root:Response handler...
INFO:root:Call with arg: {'request': <Request GET / >}
INFO:aiohttp.access:114.215.128.20 [22/May/2018:18:21:41 +0000] "GET / HTTP/1.1" 200 5402 "-" "-"
INFO:root:Request: GET /
INFO:root:Check user: GET /
INFO:root:Response handler...
INFO:root:Call with arg: {'request': <Request GET / >}
INFO:aiohttp.access:114.215.128.20 [22/May/2018:18:24:15 +0000] "GET / HTTP/1.1" 200 5402 "-" "-"
INFO:root:Request: GET /
INFO:root:Check user: GET /
INFO:root:Response handler...
INFO:root:Call with arg: {'request': <Request GET / >}
INFO:aiohttp.access:31.204.150.58 [22/May/2018:18:33:51 +0000] "GET / HTTP/1.1" 200 5402 "-" "libwww-perl/6.33"
INFO:root:Request: GET /
INFO:root:Check user: GET /
INFO:root:Response handler...
INFO:root:Call with arg: {'request': <Request GET / >}
INFO:aiohttp.access:31.204.150.58 [22/May/2018:18:38:03 +0000] "GET / HTTP/1.1" 200 5402 "-" "libwww-perl/6.33"
INFO:root:Request: GET /
INFO:root:Check user: GET /
INFO:root:Response handler...
INFO:root:Call with arg: {'request': <Request GET / >}
INFO:aiohttp.access:120.55.13.109 [22/May/2018:18:56:10 +0000] "GET / HTTP/1.0" 200 5383 "-" "-"
INFO:root:Request: GET /
INFO:root:Check user: GET /
INFO:root:Response handler...
INFO:root:Call with arg: {'request': <Request GET / >}
INFO:aiohttp.access:182.75.107.62 [22/May/2018:20:49:29 +0000] "GET / HTTP/1.1" 200 5383 "-" "Mozilla/5.0 (Windows NT 10.0; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/52.0.2743.116 Safari/537.36"
INFO:root:Request: GET /
INFO:root:Check user: GET /
INFO:root:Response handler...
INFO:root:Call with arg: {'request': <Request GET / >}
INFO:aiohttp.access:179.247.252.27 [22/May/2018:21:24:28 +0000] "GET / HTTP/1.1" 200 5383 "-" "Mozilla/5.0 (Windows NT 6.1; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/51.0.2704.103 Safari/537.36"
INFO:root:Request: GET /
INFO:root:Check user: GET /
INFO:root:Response handler...
INFO:root:Call with arg: {'request': <Request GET / >}
INFO:aiohttp.access:179.247.252.27 [22/May/2018:21:24:28 +0000] "GET / HTTP/1.1" 200 5383 "-" "Mozilla/5.0 (Windows NT 10.0; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/52.0.2743.116 Safari/537.36"
INFO:root:Request: GET /
INFO:root:Check user: GET /
INFO:root:Response handler...
INFO:root:Call with arg: {'request': <Request GET / >}
INFO:aiohttp.access:47.88.78.135 [22/May/2018:21:44:27 +0000] "GET / HTTP/1.1" 200 5402 "-" "-"
INFO:root:Request: GET /
INFO:root:Check user: GET /
INFO:root:Response handler...
INFO:root:Call with arg: {'request': <Request GET / >}
INFO:aiohttp.access:47.88.78.135 [22/May/2018:21:44:56 +0000] "GET / HTTP/1.1" 200 5402 "-" "-"
INFO:root:Request: GET /
INFO:root:Check user: GET /
INFO:root:Response handler...
INFO:root:Call with arg: {'request': <Request GET / >}
INFO:aiohttp.access:172.104.108.109 [22/May/2018:21:54:29 +0000] "GET / HTTP/1.1" 200 5402 "-" "Mozilla/5.0"
INFO:root:Request: GET /
INFO:root:Check user: GET /
INFO:root:Response handler...
INFO:root:Call with arg: {'request': <Request GET / >}
INFO:aiohttp.access:203.82.205.138 [22/May/2018:22:16:15 +0000] "GET / HTTP/1.1" 200 5383 "-" "Mozilla/5.0 (Windows NT 6.1; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/51.0.2704.103 Safari/537.36"
INFO:root:Request: GET /
INFO:root:Check user: GET /
INFO:root:Response handler...
INFO:root:Call with arg: {'request': <Request GET / >}
INFO:aiohttp.access:154.72.74.170 [22/May/2018:22:21:15 +0000] "GET / HTTP/1.1" 200 5383 "-" "Mozilla/5.0 (Windows NT 6.1; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/52.0.2743.116 Safari/537.36"
INFO:root:Request: GET /cache/global/img/gs.gif
INFO:root:Check user: GET /cache/global/img/gs.gif
INFO:root:Response handler...
INFO:aiohttp.access:80.82.70.187 [22/May/2018:22:47:07 +0000] "GET http://www.baidu.com/cache/global/img/gs.gif HTTP/1.1" 404 173 "-" "Mozilla"
INFO:root:Request: GET /
INFO:root:Check user: GET /
INFO:root:Response handler...
INFO:root:Call with arg: {'request': <Request GET / >}
INFO:aiohttp.access:106.11.242.198 [22/May/2018:23:42:29 +0000] "GET / HTTP/1.1" 200 5383 "-" "Mozilla/5.0 (iPad; CPU OS 9_1 like Mac OS X) AppleWebKit/601.1.46 (KHTML, like Gecko) Version/9.0 Mobile/13B143 Safari/601.1"
INFO:root:Request: GET /
INFO:root:Check user: GET /
INFO:root:Response handler...
INFO:root:Call with arg: {'request': <Request GET / >}
INFO:aiohttp.access:196.52.43.130 [22/May/2018:23:55:27 +0000] "GET / HTTP/1.0" 200 5383 "-" "Mozilla/5.0(WindowsNT6.1;rv:31.0)Gecko/20100101Firefox/31.0"
INFO:root:Request: GET /static/css/pygments-css/emacs.css
INFO:root:Check user: GET /static/css/pygments-css/emacs.css
INFO:root:Response handler...
INFO:aiohttp.access:106.11.155.66 [23/May/2018:00:00:22 +0000] "GET /static/css/pygments-css/emacs.css HTTP/1.1" 200 4620 "http://lxiao.net/" "YisouSpider"
INFO:root:Request: GET /
INFO:root:Check user: GET /
INFO:root:Response handler...
INFO:root:Call with arg: {'request': <Request GET / >}
INFO:aiohttp.access:47.92.2.133 [23/May/2018:00:02:36 +0000] "GET / HTTP/1.1" 200 5402 "-" "-"
INFO:root:Request: GET /
INFO:root:Check user: GET /
INFO:root:Response handler...
INFO:root:Call with arg: {'request': <Request GET / >}
INFO:aiohttp.access:47.92.2.133 [23/May/2018:00:04:33 +0000] "GET / HTTP/1.1" 200 5402 "-" "-"
INFO:root:Request: GET /
INFO:root:Check user: GET /
INFO:root:Response handler...
INFO:root:Call with arg: {'request': <Request GET / >}
INFO:aiohttp.access:203.76.107.138 [23/May/2018:00:14:40 +0000] "GET / HTTP/1.1" 200 5383 "-" "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_11_6) AppleWebKit/601.7.7 (KHTML, like Gecko) Version/9.1.2 Safari/601.7.7"
INFO:root:Request: GET /
INFO:root:Check user: GET /
INFO:root:Response handler...
INFO:root:Call with arg: {'request': <Request GET / >}
INFO:aiohttp.access:116.62.176.205 [23/May/2018:00:45:22 +0000] "GET / HTTP/1.1" 200 5402 "-" "-"
INFO:root:Request: GET /
INFO:root:Check user: GET /
INFO:root:Response handler...
INFO:root:Call with arg: {'request': <Request GET / >}
INFO:aiohttp.access:220.181.108.97 [23/May/2018:01:04:03 +0000] "GET / HTTP/1.1" 200 5402 "-" "Mozilla/5.0 (compatible; Baiduspider/2.0; +http://www.baidu.com/search/spider.html)"
INFO:root:Request: GET /api/blogs
INFO:root:Check user: GET /api/blogs
INFO:root:Response handler...
INFO:root:Call with arg: {'request': <Request GET /api/blogs >, 'page': '1'}
INFO:root:SQL: select count(id) _num_ from `blogs` where private is null or private is false
INFO:root:Rows returned: 1
INFO:root:SQL: select `id`, `summary`, `created_at`, `user_name`, `private`, `user_id`, `content`, `name`, `user_image` from `blogs` where private is null or private is false order by created_at desc limit ?, ?
INFO:root:Rows returned: 5
INFO:aiohttp.access:111.206.221.76 [23/May/2018:01:04:15 +0000] "GET /api/blogs?page=1 HTTP/1.1" 200 27312 "http://www.lxiao.net/" "Mozilla/5.0 (compatible; Baiduspider-render/2.0; +http://www.baidu.com/search/spider.html)"
INFO:root:Request: GET /
INFO:root:Check user: GET /
INFO:root:Response handler...
INFO:root:Call with arg: {'request': <Request GET / >}
INFO:aiohttp.access:187.147.188.52 [23/May/2018:01:24:49 +0000] "GET / HTTP/1.1" 200 5383 "-" "Mozilla/5.0 (Windows NT 6.1; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/52.0.2743.116 Safari/537.36"
INFO:root:Request: GET /
INFO:root:Check user: GET /
INFO:root:Response handler...
INFO:root:Call with arg: {'request': <Request GET / >}
INFO:aiohttp.access:84.52.122.130 [23/May/2018:01:40:44 +0000] "GET / HTTP/1.1" 200 5383 "-" "Mozilla/5.0 (Windows NT 10.0; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/51.0.2704.103 Safari/537.36"
INFO:root:Request: GET /
INFO:root:Check user: GET /
INFO:root:Response handler...
INFO:root:Call with arg: {'request': <Request GET / >}
INFO:aiohttp.access:207.46.13.129 [23/May/2018:01:41:51 +0000] "GET / HTTP/1.1" 200 5383 "-" "Mozilla/5.0 (compatible; bingbot/2.0; +http://www.bing.com/bingbot.htm)"
INFO:root:Request: GET /
INFO:root:Check user: GET /
INFO:root:Response handler...
INFO:root:Call with arg: {'request': <Request GET / >}
INFO:aiohttp.access:106.120.206.159 [23/May/2018:02:01:04 +0000] "GET / HTTP/1.1" 200 5383 "-" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/66.0.3359.181 Safari/537.36"
INFO:root:Request: GET /
INFO:root:Check user: GET /
INFO:root:SQL: select `id`, `email`, `created_at`, `image`, `name`, `admin`, `passwd` from `users` where `id`=?
INFO:root:Rows returned: 1
INFO:root:Set current user: m15801021028@163.com
INFO:root:Response handler...
INFO:root:Call with arg: {'request': <Request GET / >}
INFO:aiohttp.access:106.120.206.159 [23/May/2018:02:01:05 +0000] "GET / HTTP/1.1" 200 5577 "-" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/66.0.3359.181 Safari/537.36"
INFO:root:Request: GET /api/blogs
INFO:root:Check user: GET /api/blogs
INFO:root:SQL: select `id`, `email`, `created_at`, `image`, `name`, `admin`, `passwd` from `users` where `id`=?
INFO:root:Rows returned: 1
INFO:root:Set current user: m15801021028@163.com
INFO:root:Response handler...
INFO:root:Call with arg: {'request': <Request GET /api/blogs >, 'page': '1'}
INFO:root:SQL: select count(id) _num_ from `blogs`
INFO:root:Rows returned: 1
INFO:root:SQL: select `id`, `summary`, `created_at`, `user_name`, `private`, `user_id`, `content`, `name`, `user_image` from `blogs` order by created_at desc limit ?, ?
INFO:root:Rows returned: 5
INFO:aiohttp.access:106.120.206.159 [23/May/2018:02:01:06 +0000] "GET /api/blogs?page=1 HTTP/1.1" 200 29702 "http://lxiao.net/" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/66.0.3359.181 Safari/537.36"
INFO:root:Request: GET /manage/
INFO:root:Check user: GET /manage/
INFO:root:SQL: select `id`, `email`, `created_at`, `image`, `name`, `admin`, `passwd` from `users` where `id`=?
INFO:root:Rows returned: 1
INFO:root:Set current user: m15801021028@163.com
INFO:root:Response handler...
INFO:root:Call with arg: {}
INFO:aiohttp.access:106.120.206.159 [23/May/2018:02:01:19 +0000] "GET /manage/ HTTP/1.1" 302 190 "http://lxiao.net/" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/66.0.3359.181 Safari/537.36"
INFO:root:Request: GET /manage/blogs
INFO:root:Check user: GET /manage/blogs
INFO:root:SQL: select `id`, `email`, `created_at`, `image`, `name`, `admin`, `passwd` from `users` where `id`=?
INFO:root:Rows returned: 1
INFO:root:Set current user: m15801021028@163.com
INFO:root:Response handler...
INFO:root:Call with arg: {}
INFO:aiohttp.access:106.120.206.159 [23/May/2018:02:01:19 +0000] "GET /manage/blogs HTTP/1.1" 200 7439 "http://lxiao.net/" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/66.0.3359.181 Safari/537.36"
INFO:root:Request: GET /api/blogs
INFO:root:Check user: GET /api/blogs
INFO:root:SQL: select `id`, `email`, `created_at`, `image`, `name`, `admin`, `passwd` from `users` where `id`=?
INFO:root:Rows returned: 1
INFO:root:Set current user: m15801021028@163.com
INFO:root:Response handler...
INFO:root:Call with arg: {'request': <Request GET /api/blogs >, 'page': '1'}
INFO:root:SQL: select count(id) _num_ from `blogs`
INFO:root:Rows returned: 1
INFO:root:SQL: select `id`, `summary`, `created_at`, `user_name`, `private`, `user_id`, `content`, `name`, `user_image` from `blogs` order by created_at desc limit ?, ?
INFO:root:Rows returned: 5
INFO:aiohttp.access:106.120.206.159 [23/May/2018:02:01:20 +0000] "GET /api/blogs?page=1 HTTP/1.1" 200 29702 "http://lxiao.net/manage/blogs" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/66.0.3359.181 Safari/537.36"
INFO:root:Request: GET /blog/001526633743922ed51f806d7bc4231abdf715ea1b58f46000
INFO:root:Check user: GET /blog/001526633743922ed51f806d7bc4231abdf715ea1b58f46000
INFO:root:SQL: select `id`, `email`, `created_at`, `image`, `name`, `admin`, `passwd` from `users` where `id`=?
INFO:root:Rows returned: 1
INFO:root:Set current user: m15801021028@163.com
INFO:root:Response handler...
INFO:root:Call with arg: {'id': '001526633743922ed51f806d7bc4231abdf715ea1b58f46000'}
INFO:root:SQL: select `id`, `summary`, `created_at`, `user_name`, `private`, `user_id`, `content`, `name`, `user_image` from `blogs` where `id`=?
INFO:root:Rows returned: 1
INFO:root:SQL: select `id`, `content`, `user_name`, `blog_id`, `created_at`, `user_id`, `user_image` from `comments` where blog_id=? order by created_at desc
INFO:root:Rows returned: 0
INFO:aiohttp.access:106.120.206.159 [23/May/2018:02:01:22 +0000] "GET /blog/001526633743922ed51f806d7bc4231abdf715ea1b58f46000 HTTP/1.1" 200 9963 "http://lxiao.net/manage/blogs" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/66.0.3359.181 Safari/537.36"
INFO:root:Request: GET /blog/0015263480308993f7c4c789b544d538fbf085cde42cac5000
INFO:root:Check user: GET /blog/0015263480308993f7c4c789b544d538fbf085cde42cac5000
INFO:root:SQL: select `id`, `email`, `created_at`, `image`, `name`, `admin`, `passwd` from `users` where `id`=?
INFO:root:Rows returned: 1
INFO:root:Set current user: m15801021028@163.com
INFO:root:Response handler...
INFO:root:Call with arg: {'id': '0015263480308993f7c4c789b544d538fbf085cde42cac5000'}
INFO:root:SQL: select `id`, `summary`, `created_at`, `user_name`, `private`, `user_id`, `content`, `name`, `user_image` from `blogs` where `id`=?
INFO:root:Rows returned: 1
INFO:root:SQL: select `id`, `content`, `user_name`, `blog_id`, `created_at`, `user_id`, `user_image` from `comments` where blog_id=? order by created_at desc
INFO:root:Rows returned: 0
INFO:aiohttp.access:106.120.206.159 [23/May/2018:02:01:33 +0000] "GET /blog/0015263480308993f7c4c789b544d538fbf085cde42cac5000 HTTP/1.1" 200 12968 "http://lxiao.net/manage/blogs" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/66.0.3359.181 Safari/537.36"
INFO:root:Request: GET /manage/blogs/edit
INFO:root:Check user: GET /manage/blogs/edit
INFO:root:SQL: select `id`, `email`, `created_at`, `image`, `name`, `admin`, `passwd` from `users` where `id`=?
INFO:root:Rows returned: 1
INFO:root:Set current user: m15801021028@163.com
INFO:root:Response handler...
INFO:root:Call with arg: {'id': '0015263480308993f7c4c789b544d538fbf085cde42cac5000'}
INFO:aiohttp.access:106.120.206.159 [23/May/2018:02:01:41 +0000] "GET /manage/blogs/edit?id=0015263480308993f7c4c789b544d538fbf085cde42cac5000 HTTP/1.1" 200 6889 "http://lxiao.net/blog/0015263480308993f7c4c789b544d538fbf085cde42cac5000" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/66.0.3359.181 Safari/537.36"
INFO:root:Request: GET /api/blogs/0015263480308993f7c4c789b544d538fbf085cde42cac5000
INFO:root:Check user: GET /api/blogs/0015263480308993f7c4c789b544d538fbf085cde42cac5000
INFO:root:SQL: select `id`, `email`, `created_at`, `image`, `name`, `admin`, `passwd` from `users` where `id`=?
INFO:root:Rows returned: 1
INFO:root:Set current user: m15801021028@163.com
INFO:root:Response handler...
INFO:root:Call with arg: {'id': '0015263480308993f7c4c789b544d538fbf085cde42cac5000'}
INFO:root:SQL: select `id`, `summary`, `created_at`, `user_name`, `private`, `user_id`, `content`, `name`, `user_image` from `blogs` where `id`=?
INFO:root:Rows returned: 1
INFO:aiohttp.access:106.120.206.159 [23/May/2018:02:01:42 +0000] "GET /api/blogs/0015263480308993f7c4c789b544d538fbf085cde42cac5000 HTTP/1.1" 200 6942 "http://lxiao.net/manage/blogs/edit?id=0015263480308993f7c4c789b544d538fbf085cde42cac5000" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/66.0.3359.181 Safari/537.36"
INFO:root:Request: POST /api/blogs/0015263480308993f7c4c789b544d538fbf085cde42cac5000
INFO:root:Check user: POST /api/blogs/0015263480308993f7c4c789b544d538fbf085cde42cac5000
INFO:root:SQL: select `id`, `email`, `created_at`, `image`, `name`, `admin`, `passwd` from `users` where `id`=?
INFO:root:Rows returned: 1
INFO:root:Set current user: m15801021028@163.com
INFO:root:Response handler...
INFO:root:Call with arg: {'request': <Request POST /api/blogs/0015263480308993f7c4c789b544d538fbf085cde42cac5000 >, 'id': '0015263480308993f7c4c789b544d538fbf085cde42cac5000', 'summary': '内存模型\n指针与指针变量', 'private': None, 'name': '[转] 深入理解 C/C++ 中的指针（一）', 'content': '##内存模型\n\u3000\u3000为了更好地理解指针，让我们来看一下计算机的内存模型。\n\n\u3000\u3000内存分为物理内存和虚拟内存，物理内存对应计算机中的内存条，虚拟内存是操作系统内存管理系统假象出来的。由于这些不是我们本文的重点，下面不做区分。有不清楚这些概念的同学，可以给我留言或者在线询问。\n\n\u3000\u3000在不考虑 CPU 缓存的情况下，计算机运行程序本质上就是对内存中的数据的操作，通俗地来说，就是将内存条某些部分的数据搬进搬出或者搬来搬去，其中“搬进搬出”是指将内存中的二进制数据搬入 CPU 寄存器及运算器中进行相应的加减运算或者将寄存器中的数据搬回内存单元中，而“搬来搬去”是指将内存中的数据由这个位置搬到另外一个位置（当然，一般不是直接搬，而是借助寄存器作为中间存储区）。如下图所示：\n\n![](https://upload-images.jianshu.io/upload_images/5418798-acaf578d1aac21ab.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)\n\n\u3000\u3000计算机为了方便管理内存，将内存的每个单元用一个数字编号，如下图所示：\n\n![](https://mmbiz.qpic.cn/mmbiz_jpg/TufFCFqd0g2gIGUg7lMl7cABgyfklHKZ4fCKkbnByVwIJqLzjAkSD2piaCURIXOkzm7AwrXzwvaW9Y0lY0d52ww/640?wx_fmt=jpeg&tp=webp&wxfrom=5&wx_lazy=1)\n\n\u3000\u3000  图中所示，是一个大小为 128 个字节的内存空间，其中每一个空格代表一个字节，所以内存编号是 0~127。\n\n\u3000\u3000对于一个 32 位的操作系统来说，内存空间中每一个字节的编号是一个 32 位二进制数，所以内存编号从 0000 0000 0000 0000 0000 0000 0000 0000 至 1111 1111 1111 1111 1111 1111 1111 1111，转换成 16 进制也就是 0x00000000 至 0xFFFFFFFF，由于是从 0 开始的，所以化成 10 进制就是 0 ~ 2的32次方-1；对于64位操作系统，内存编号也就是 64个0 ~ 64个1。\n\n\u3000\u3000大家需要注意的是，从上面两个图我们可以发现，我们一般将编号小的内存单元画在上面，编号大的画在下面，也就是说从上至下，内存编号越来越大。\n\n##指针与指针变量\n\u3000\u3000指针的本意就是内存地址，我们可以通俗地理解成内存编号，既然计算机通过编号来操作内存单元，这就造就了指针的高效率。\n\n\u3000\u3000那么什么是指针变量呢？指针变量可通俗地理解成存储指针的变量，也就是存储内存地址（内存编号）的变量。首先指针变量和整型变量、字符型变量以及其他数据类型的变量一样都是变量类型；但是，反过来，我们不应该按这样的方式来分类，即：整型指针变量、字符型指针变量、浮点型指针变量等等。\n\n\u3000\u3000为什么不推荐这样的分类方法呢？首先，指针变量就是一个数据类型，指针数据类型，这种数据类型首先是一个变量数据类型，那么它的大小是多少呢？很多同学理所当然地认为整型指针变量和一个字符指针变量的大小是不一样的，这种认识是错的。指针变量也是一个变量，它是一个用来存储其他变量的内存地址的，更准确地说，指针变量时用来存储其他变量的内存首地址的，因为不同的数据类型所占的内存大小不一样。\n\n\u3000\u3000举个例子，在 32 位机器上，假如 a 是 int 型变量，pa 是指向 a 的指针变量，b 是一个 double 型变量，pb 是指向 b 的指针变量，那么 a 在内存中占四个字节，b 在内存中占 8 个字节，假如 a 在内存中分布是从 0x11111110 ~ 0x11111113，而 b 在内存中分布是 0x11112221 至 0x11112228，那么指针变量 pa 中存储的内容是 0x11111110，而 pb 中存储就是 0x11112221，看到了吧，也就是说，pa 和 pb 中存储的都是地址，而且都是 32 位的二进制地址；再者，因为存储这样的地址需要 4 个字节，所以无论是 int 型指针变量 pa 或者是 double 型指针变量 pb，它们所占的内存大小都是四个字节，从这点来说，不管什么类型的指针都是一样的，所以不论按整型指针变量、字符型指针变量、浮点型指针变量等等来区分指针变量。\n\n\u3000\u3000总结起来，指针变量和 int、float、char 等类型一样同属变量类型，指针变量类型占四个字节（32 位机器下），存储的是 32 位的内存地址。下面的代码证明这一点：\n\n![](https://mmbiz.qpic.cn/mmbiz_jpg/TufFCFqd0g2gIGUg7lMl7cABgyfklHKZhBlGwXcQkKkj3rs5kzz6YwejCL3TfXPk28VKPylkrs1nCQgGibgItxg/640?wx_fmt=jpeg&tp=webp&wxfrom=5&wx_lazy=1)\n![](https://mmbiz.qpic.cn/mmbiz_jpg/TufFCFqd0g2gIGUg7lMl7cABgyfklHKZt64URZMqSxg4wlcATdyJVTeuRXs6pyAElNaLlyNrv4ELOXWJjicK4Bw/640?wx_fmt=jpeg&tp=webp&wxfrom=5&wx_lazy=1)\n\n\u3000\u3000上面介绍的是指针变量的一个方面，指针变量还有另外一层含义：在 C/C++ 中星号（*）被定义成取内容符号，虽然所有指针变量占的内存大小和存储的内存地址大小都是一样的，但是由于存储的只是数据的内存首地址，所以指针变量存储的内存地址所指向的数据类型决定着如何解析这个首地址，也就是说对于 int 型指针变量，我们需要从该指针变量存储的（首）地址开始向后一直搜索 4 个字节的内存空间，以图中的变量 a 为例就是从0x12ff60 ~ 0x12ff63，对于变量 b 就是 0x12ff44 ~ 0x12ff4b。\n\n\u3000\u3000所以从这个意义来上讲，当我们使用 *pa，必须先知道 pa 是一个整型的指针，这里强调“整型”，而 a 的值 1 也就存储在从 0x12ff60 ~ 0x12ff63 这四个字节里面，当我们使用 *pb，必须先知道 pb 是一个 double 型指针，这里强调"double"，也就是说值 2.0000 存储在 0x12ff44 ~ 0x12ff4b 这八个字节里面。\n\n\u3000\u3000因此，我们对指针变量进行算术运算，比如 pa+2、pb++ 之类的操作，是以数据类型大小为单位的，也就是说 pa+2，相当于 0x12ff60 + sizeof(int) * 2 = 0x12ff60 + 4 * 2 = 0x12ff68，不是 0x12ff60 + 2 哦；而 pb-- 相当于 0x12ff44 + sizeof(double) * 1 = 0x12ff44 + 8 * 1 = 0x12ff4c。\n\n\u3000\u3000理解这一点很重要。 同理 &a+2 和 &b-1 也是一样（注意由于 &b 是一个指针常量，所以写成 &b-- 是错误的）。'}
INFO:root:SQL: select `id`, `summary`, `created_at`, `user_name`, `private`, `user_id`, `content`, `name`, `user_image` from `blogs` where `id`=?
INFO:root:Rows returned: 1
INFO:root:SQL: update `blogs` set `summary`=?, `created_at`=?, `user_name`=?, `private`=?, `user_id`=?, `content`=?, `name`=?, `user_image`=? where `id`=?
WARNING:root:failed to update by primary key: affected rows: 0
INFO:aiohttp.access:106.120.206.159 [23/May/2018:02:01:44 +0000] "POST /api/blogs/0015263480308993f7c4c789b544d538fbf085cde42cac5000 HTTP/1.1" 200 6942 "http://lxiao.net/manage/blogs/edit?id=0015263480308993f7c4c789b544d538fbf085cde42cac5000" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/66.0.3359.181 Safari/537.36"
INFO:root:Request: GET /blog/0015263480308993f7c4c789b544d538fbf085cde42cac5000
INFO:root:Check user: GET /blog/0015263480308993f7c4c789b544d538fbf085cde42cac5000
INFO:root:SQL: select `id`, `email`, `created_at`, `image`, `name`, `admin`, `passwd` from `users` where `id`=?
INFO:root:Rows returned: 1
INFO:root:Set current user: m15801021028@163.com
INFO:root:Response handler...
INFO:root:Call with arg: {'id': '0015263480308993f7c4c789b544d538fbf085cde42cac5000'}
INFO:root:SQL: select `id`, `summary`, `created_at`, `user_name`, `private`, `user_id`, `content`, `name`, `user_image` from `blogs` where `id`=?
INFO:root:Rows returned: 1
INFO:root:SQL: select `id`, `content`, `user_name`, `blog_id`, `created_at`, `user_id`, `user_image` from `comments` where blog_id=? order by created_at desc
INFO:root:Rows returned: 0
INFO:aiohttp.access:106.120.206.159 [23/May/2018:02:01:44 +0000] "GET /blog/0015263480308993f7c4c789b544d538fbf085cde42cac5000 HTTP/1.1" 200 12968 "http://lxiao.net/manage/blogs/edit?id=0015263480308993f7c4c789b544d538fbf085cde42cac5000" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/66.0.3359.181 Safari/537.36"
INFO:root:Request: GET /manage/blogs
INFO:root:Check user: GET /manage/blogs
INFO:root:SQL: select `id`, `email`, `created_at`, `image`, `name`, `admin`, `passwd` from `users` where `id`=?
INFO:root:Rows returned: 1
INFO:root:Set current user: m15801021028@163.com
INFO:root:Response handler...
INFO:root:Call with arg: {}
INFO:aiohttp.access:106.120.206.159 [23/May/2018:02:01:47 +0000] "GET /manage/blogs HTTP/1.1" 200 7439 "http://lxiao.net/" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/66.0.3359.181 Safari/537.36"
INFO:root:Request: GET /api/blogs
INFO:root:Check user: GET /api/blogs
INFO:root:SQL: select `id`, `email`, `created_at`, `image`, `name`, `admin`, `passwd` from `users` where `id`=?
INFO:root:Rows returned: 1
INFO:root:Set current user: m15801021028@163.com
INFO:root:Response handler...
INFO:root:Call with arg: {'request': <Request GET /api/blogs >, 'page': '1'}
INFO:root:SQL: select count(id) _num_ from `blogs`
INFO:root:Rows returned: 1
INFO:root:SQL: select `id`, `summary`, `created_at`, `user_name`, `private`, `user_id`, `content`, `name`, `user_image` from `blogs` order by created_at desc limit ?, ?
INFO:root:Rows returned: 5
INFO:aiohttp.access:106.120.206.159 [23/May/2018:02:01:47 +0000] "GET /api/blogs?page=1 HTTP/1.1" 200 29702 "http://lxiao.net/manage/blogs" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/66.0.3359.181 Safari/537.36"
INFO:root:Request: GET /manage/
INFO:root:Check user: GET /manage/
INFO:root:SQL: select `id`, `email`, `created_at`, `image`, `name`, `admin`, `passwd` from `users` where `id`=?
INFO:root:Rows returned: 1
INFO:root:Set current user: m15801021028@163.com
INFO:root:Response handler...
INFO:root:Call with arg: {}
INFO:aiohttp.access:106.120.206.159 [23/May/2018:02:02:10 +0000] "GET /manage/ HTTP/1.1" 302 190 "http://lxiao.net/" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/66.0.3359.181 Safari/537.36"
INFO:root:Request: GET /manage/blogs
INFO:root:Check user: GET /manage/blogs
INFO:root:SQL: select `id`, `email`, `created_at`, `image`, `name`, `admin`, `passwd` from `users` where `id`=?
INFO:root:Rows returned: 1
INFO:root:Set current user: m15801021028@163.com
INFO:root:Response handler...
INFO:root:Call with arg: {}
INFO:aiohttp.access:106.120.206.159 [23/May/2018:02:02:10 +0000] "GET /manage/blogs HTTP/1.1" 200 7439 "http://lxiao.net/" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/66.0.3359.181 Safari/537.36"
INFO:root:Request: GET /api/blogs
INFO:root:Check user: GET /api/blogs
INFO:root:SQL: select `id`, `email`, `created_at`, `image`, `name`, `admin`, `passwd` from `users` where `id`=?
INFO:root:Rows returned: 1
INFO:root:Set current user: m15801021028@163.com
INFO:root:Response handler...
INFO:root:Call with arg: {'request': <Request GET /api/blogs >, 'page': '1'}
INFO:root:SQL: select count(id) _num_ from `blogs`
INFO:root:Rows returned: 1
INFO:root:SQL: select `id`, `summary`, `created_at`, `user_name`, `private`, `user_id`, `content`, `name`, `user_image` from `blogs` order by created_at desc limit ?, ?
INFO:root:Rows returned: 5
INFO:aiohttp.access:106.120.206.159 [23/May/2018:02:02:11 +0000] "GET /api/blogs?page=1 HTTP/1.1" 200 29702 "http://lxiao.net/manage/blogs" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/66.0.3359.181 Safari/537.36"
INFO:root:Request: GET /manage/blogs/create
INFO:root:Check user: GET /manage/blogs/create
INFO:root:SQL: select `id`, `email`, `created_at`, `image`, `name`, `admin`, `passwd` from `users` where `id`=?
INFO:root:Rows returned: 1
INFO:root:Set current user: m15801021028@163.com
INFO:root:Response handler...
INFO:root:Call with arg: {}
INFO:aiohttp.access:106.120.206.159 [23/May/2018:02:02:12 +0000] "GET /manage/blogs/create HTTP/1.1" 200 6788 "http://lxiao.net/manage/blogs" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/66.0.3359.181 Safari/537.36"
INFO:root:Request: POST /api/blogs
INFO:root:Check user: POST /api/blogs
INFO:root:SQL: select `id`, `email`, `created_at`, `image`, `name`, `admin`, `passwd` from `users` where `id`=?
INFO:root:Rows returned: 1
INFO:root:Set current user: m15801021028@163.com
INFO:root:Response handler...
INFO:root:Call with arg: {'private': True, 'name': 'C++ 实现 12306 刷票软件 （一）', 'content': '', 'request': <Request POST /api/blogs >, 'summary': '其核心原理是通过发送 http 请求模拟登录 12306 网站的购票过程。'}
INFO:aiohttp.access:106.120.206.159 [23/May/2018:02:04:09 +0000] "POST /api/blogs HTTP/1.1" 200 241 "http://lxiao.net/manage/blogs/create" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/66.0.3359.181 Safari/537.36"
INFO:root:Request: POST /api/blogs
INFO:root:Check user: POST /api/blogs
INFO:root:SQL: select `id`, `email`, `created_at`, `image`, `name`, `admin`, `passwd` from `users` where `id`=?
INFO:root:Rows returned: 1
INFO:root:Set current user: m15801021028@163.com
INFO:root:Response handler...
INFO:root:Call with arg: {'private': True, 'name': 'C++ 实现 12306 刷票软件 （一）', 'content': '预留', 'request': <Request POST /api/blogs >, 'summary': '其核心原理是通过发送 http 请求模拟登录 12306 网站的购票过程。'}
INFO:root:SQL: insert into `blogs` (`summary`, `created_at`, `user_name`, `private`, `user_id`, `content`, `name`, `user_image`, `id`) values (?, ?, ?, ?, ?, ?, ?, ?, ?)
INFO:aiohttp.access:106.120.206.159 [23/May/2018:02:04:16 +0000] "POST /api/blogs HTTP/1.1" 200 624 "http://lxiao.net/manage/blogs/create" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/66.0.3359.181 Safari/537.36"
INFO:root:Request: GET /blog/001527041056907a09ef9cfc4624a9c894db443b7302193000
INFO:root:Check user: GET /blog/001527041056907a09ef9cfc4624a9c894db443b7302193000
INFO:root:SQL: select `id`, `email`, `created_at`, `image`, `name`, `admin`, `passwd` from `users` where `id`=?
INFO:root:Rows returned: 1
INFO:root:Set current user: m15801021028@163.com
INFO:root:Response handler...
INFO:root:Call with arg: {'id': '001527041056907a09ef9cfc4624a9c894db443b7302193000'}
INFO:root:SQL: select `id`, `summary`, `created_at`, `user_name`, `private`, `user_id`, `content`, `name`, `user_image` from `blogs` where `id`=?
INFO:root:Rows returned: 1
INFO:root:SQL: select `id`, `content`, `user_name`, `blog_id`, `created_at`, `user_id`, `user_image` from `comments` where blog_id=? order by created_at desc
INFO:root:Rows returned: 0
INFO:aiohttp.access:106.120.206.159 [23/May/2018:02:04:16 +0000] "GET /blog/001527041056907a09ef9cfc4624a9c894db443b7302193000 HTTP/1.1" 200 6376 "http://lxiao.net/manage/blogs/create" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/66.0.3359.181 Safari/537.36"
INFO:root:Request: GET /
INFO:root:Check user: GET /
INFO:root:SQL: select `id`, `email`, `created_at`, `image`, `name`, `admin`, `passwd` from `users` where `id`=?
INFO:root:Rows returned: 1
INFO:root:Set current user: m15801021028@163.com
INFO:root:Response handler...
INFO:root:Call with arg: {'request': <Request GET / >}
INFO:aiohttp.access:106.120.206.159 [23/May/2018:02:04:19 +0000] "GET / HTTP/1.1" 200 5577 "http://lxiao.net/blog/001527041056907a09ef9cfc4624a9c894db443b7302193000" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/66.0.3359.181 Safari/537.36"
INFO:root:Request: GET /api/blogs
INFO:root:Check user: GET /api/blogs
INFO:root:SQL: select `id`, `email`, `created_at`, `image`, `name`, `admin`, `passwd` from `users` where `id`=?
INFO:root:Rows returned: 1
INFO:root:Set current user: m15801021028@163.com
INFO:root:Response handler...
INFO:root:Call with arg: {'request': <Request GET /api/blogs >, 'page': '1'}
INFO:root:SQL: select count(id) _num_ from `blogs`
INFO:root:Rows returned: 1
INFO:root:SQL: select `id`, `summary`, `created_at`, `user_name`, `private`, `user_id`, `content`, `name`, `user_image` from `blogs` order by created_at desc limit ?, ?
INFO:root:Rows returned: 5
INFO:aiohttp.access:106.120.206.159 [23/May/2018:02:04:19 +0000] "GET /api/blogs?page=1 HTTP/1.1" 200 26265 "http://lxiao.net/" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/66.0.3359.181 Safari/537.36"
INFO:root:Request: GET /manage/
INFO:root:Check user: GET /manage/
INFO:root:SQL: select `id`, `email`, `created_at`, `image`, `name`, `admin`, `passwd` from `users` where `id`=?
INFO:root:Rows returned: 1
INFO:root:Set current user: m15801021028@163.com
INFO:root:Response handler...
INFO:root:Call with arg: {}
INFO:aiohttp.access:106.120.206.159 [23/May/2018:02:05:55 +0000] "GET /manage/ HTTP/1.1" 302 190 "http://lxiao.net/" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/66.0.3359.181 Safari/537.36"
INFO:root:Request: GET /manage/blogs
INFO:root:Check user: GET /manage/blogs
INFO:root:SQL: select `id`, `email`, `created_at`, `image`, `name`, `admin`, `passwd` from `users` where `id`=?
INFO:root:Rows returned: 1
INFO:root:Set current user: m15801021028@163.com
INFO:root:Response handler...
INFO:root:Call with arg: {}
INFO:aiohttp.access:106.120.206.159 [23/May/2018:02:05:55 +0000] "GET /manage/blogs HTTP/1.1" 200 7439 "http://lxiao.net/" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/66.0.3359.181 Safari/537.36"
INFO:root:Request: GET /api/blogs
INFO:root:Check user: GET /api/blogs
INFO:root:SQL: select `id`, `email`, `created_at`, `image`, `name`, `admin`, `passwd` from `users` where `id`=?
INFO:root:Rows returned: 1
INFO:root:Set current user: m15801021028@163.com
INFO:root:Response handler...
INFO:root:Call with arg: {'request': <Request GET /api/blogs >, 'page': '1'}
INFO:root:SQL: select count(id) _num_ from `blogs`
INFO:root:Rows returned: 1
INFO:root:SQL: select `id`, `summary`, `created_at`, `user_name`, `private`, `user_id`, `content`, `name`, `user_image` from `blogs` order by created_at desc limit ?, ?
INFO:root:Rows returned: 5
INFO:aiohttp.access:106.120.206.159 [23/May/2018:02:05:55 +0000] "GET /api/blogs?page=1 HTTP/1.1" 200 26265 "http://lxiao.net/manage/blogs" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/66.0.3359.181 Safari/537.36"
INFO:root:Request: GET /manage/blogs/create
INFO:root:Check user: GET /manage/blogs/create
INFO:root:SQL: select `id`, `email`, `created_at`, `image`, `name`, `admin`, `passwd` from `users` where `id`=?
INFO:root:Rows returned: 1
INFO:root:Set current user: m15801021028@163.com
INFO:root:Response handler...
INFO:root:Call with arg: {}
INFO:aiohttp.access:106.120.206.159 [23/May/2018:02:05:57 +0000] "GET /manage/blogs/create HTTP/1.1" 200 6788 "http://lxiao.net/manage/blogs" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/66.0.3359.181 Safari/537.36"
INFO:root:Request: GET /blog/001526633743922ed51f806d7bc4231abdf715ea1b58f46000
INFO:root:Check user: GET /blog/001526633743922ed51f806d7bc4231abdf715ea1b58f46000
INFO:root:SQL: select `id`, `email`, `created_at`, `image`, `name`, `admin`, `passwd` from `users` where `id`=?
INFO:root:Rows returned: 1
INFO:root:Set current user: m15801021028@163.com
INFO:root:Response handler...
INFO:root:Call with arg: {'id': '001526633743922ed51f806d7bc4231abdf715ea1b58f46000'}
INFO:root:SQL: select `id`, `summary`, `created_at`, `user_name`, `private`, `user_id`, `content`, `name`, `user_image` from `blogs` where `id`=?
INFO:root:Rows returned: 1
INFO:root:SQL: select `id`, `content`, `user_name`, `blog_id`, `created_at`, `user_id`, `user_image` from `comments` where blog_id=? order by created_at desc
INFO:root:Rows returned: 0
INFO:aiohttp.access:106.120.206.159 [23/May/2018:02:14:49 +0000] "GET /blog/001526633743922ed51f806d7bc4231abdf715ea1b58f46000 HTTP/1.1" 200 9963 "http://lxiao.net/" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/66.0.3359.181 Safari/537.36"
INFO:root:Request: POST /api/blogs
INFO:root:Check user: POST /api/blogs
INFO:root:SQL: select `id`, `email`, `created_at`, `image`, `name`, `admin`, `passwd` from `users` where `id`=?
INFO:root:Rows returned: 1
INFO:root:Set current user: m15801021028@163.com
INFO:root:Response handler...
INFO:root:Call with arg: {'name': '[转] C++ 实现 HTTP 服务器（一）——基础篇', 'content': '##HTTP 协议介绍\n\u3000\u3000HTTP 协议是应用层协议，一般建立在 TCP 协议的基础之上，也就是说 HTTP 协议的数据收发是通过 TCP 协议的（当然非要基于 UDP 实现也是可以的）。\n\n\u3000\u3000HTTP 协议也分为 head 和 body 两部分，但是我们一般说的 html 中的 ```<head>``` 和 ```<body>``` 标记不是 HTTP 协议的头和身体，它们都是 HTTP 协议的 body 部分。如图：\n\n![](https://github.com/LXiao2015/pictures/blob/master/2018-05-23_101817.png?raw=true)\n\n\u3000\u3000HTTP 协议的格式如下：\n```\nGET 或 POST 请求的 url 路径（一般是去掉域名的路径） HTTP 协议版本号\\r\\n\n字段 1 名: 字段 1 值\\r\\n\n字段 2 名: 字段 2 值\\r\\n\n     …\n字段 n 名 : 字段 n 值\\r\\n\n\\r\\n\nHTTP 协议包体内容\n```', 'request': <Request POST /api/blogs >, 'summary': 'HTTP 协议的具体格式是啥样子的？HTTP GET 请求是什么形式？POST 请求的数据放在哪里？服务器如何识别和解析这些 POST 数据？ ...'}
ERROR:aiohttp.server:Error handling request
Traceback (most recent call last):
  File "/usr/local/lib/python3.5/dist-packages/aiohttp/web_protocol.py", line 416, in start
    resp = yield from self._request_handler(request)
  File "/usr/local/lib/python3.5/dist-packages/aiohttp/web.py", line 325, in _handle
    resp = yield from handler(request)
  File "/usr/local/lib/python3.5/dist-packages/aiohttp/web_middlewares.py", line 93, in impl
    return (yield from handler(request))
  File "app_80.py", line 42, in logger
    return (await handler(request))
  File "app_80.py", line 63, in auth
    return (await handler(request))
  File "app_80.py", line 82, in response
    r = await handler(request)
  File "/usr/local/lib/python3.5/dist-packages/aiohttp/web_urldispatcher.py", line 142, in handler_wrapper
    result = yield from result
  File "/home/admin/webapp/www/coroweb.py", line 152, in __call__
    r = await self._func(**kw)
  File "/usr/lib/python3.5/asyncio/coroutines.py", line 206, in coro
    res = func(*args, **kw)
  File "/home/admin/webapp/www/coroweb.py", line 33, in wrapper
    return func(*args, **kw)
TypeError: api_create_blog() missing 1 required keyword-only argument: 'private'
INFO:aiohttp.access:106.120.206.159 [23/May/2018:02:27:44 +0000] "POST /api/blogs HTTP/1.1" 500 331 "http://lxiao.net/manage/blogs/create" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/66.0.3359.181 Safari/537.36"
INFO:root:Request: POST /api/blogs
INFO:root:Check user: POST /api/blogs
INFO:root:SQL: select `id`, `email`, `created_at`, `image`, `name`, `admin`, `passwd` from `users` where `id`=?
INFO:root:Rows returned: 1
INFO:root:Set current user: m15801021028@163.com
INFO:root:Response handler...
INFO:root:Call with arg: {'private': True, 'name': '[转] C++ 实现 HTTP 服务器（一）——基础篇', 'content': '##HTTP 协议介绍\n\u3000\u3000HTTP 协议是应用层协议，一般建立在 TCP 协议的基础之上，也就是说 HTTP 协议的数据收发是通过 TCP 协议的（当然非要基于 UDP 实现也是可以的）。\n\n\u3000\u3000HTTP 协议也分为 head 和 body 两部分，但是我们一般说的 html 中的 ```<head>``` 和 ```<body>``` 标记不是 HTTP 协议的头和身体，它们都是 HTTP 协议的 body 部分。如图：\n\n![](https://github.com/LXiao2015/pictures/blob/master/2018-05-23_101817.png?raw=true)\n\n\u3000\u3000HTTP 协议的格式如下：\n```\nGET 或 POST 请求的 url 路径（一般是去掉域名的路径） HTTP 协议版本号\\r\\n\n字段 1 名: 字段 1 值\\r\\n\n字段 2 名: 字段 2 值\\r\\n\n     …\n字段 n 名 : 字段 n 值\\r\\n\n\\r\\n\nHTTP 协议包体内容\n```', 'request': <Request POST /api/blogs >, 'summary': 'HTTP 协议的具体格式是啥样子的？HTTP GET 请求是什么形式？POST 请求的数据放在哪里？服务器如何识别和解析这些 POST 数据？ ...'}
INFO:root:SQL: insert into `blogs` (`summary`, `created_at`, `user_name`, `private`, `user_id`, `content`, `name`, `user_image`, `id`) values (?, ?, ?, ?, ?, ?, ?, ?, ?)
INFO:aiohttp.access:106.120.206.159 [23/May/2018:02:27:49 +0000] "POST /api/blogs HTTP/1.1" 200 1534 "http://lxiao.net/manage/blogs/create" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/66.0.3359.181 Safari/537.36"
INFO:root:Request: GET /blog/00152704246942583a62e643dba43aab710bedefa4f155d000
INFO:root:Check user: GET /blog/00152704246942583a62e643dba43aab710bedefa4f155d000
INFO:root:SQL: select `id`, `email`, `created_at`, `image`, `name`, `admin`, `passwd` from `users` where `id`=?
INFO:root:Rows returned: 1
INFO:root:Set current user: m15801021028@163.com
INFO:root:Response handler...
INFO:root:Call with arg: {'id': '00152704246942583a62e643dba43aab710bedefa4f155d000'}
INFO:root:SQL: select `id`, `summary`, `created_at`, `user_name`, `private`, `user_id`, `content`, `name`, `user_image` from `blogs` where `id`=?
INFO:root:Rows returned: 1
INFO:root:SQL: select `id`, `content`, `user_name`, `blog_id`, `created_at`, `user_id`, `user_image` from `comments` where blog_id=? order by created_at desc
INFO:root:Rows returned: 0
INFO:aiohttp.access:106.120.206.159 [23/May/2018:02:27:49 +0000] "GET /blog/00152704246942583a62e643dba43aab710bedefa4f155d000 HTTP/1.1" 200 7280 "http://lxiao.net/manage/blogs/create" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/66.0.3359.181 Safari/537.36"
INFO:root:Request: GET /manage/blogs/edit
INFO:root:Check user: GET /manage/blogs/edit
INFO:root:SQL: select `id`, `email`, `created_at`, `image`, `name`, `admin`, `passwd` from `users` where `id`=?
INFO:root:Rows returned: 1
INFO:root:Set current user: m15801021028@163.com
INFO:root:Response handler...
INFO:root:Call with arg: {'id': '00152704246942583a62e643dba43aab710bedefa4f155d000'}
INFO:aiohttp.access:106.120.206.159 [23/May/2018:02:28:50 +0000] "GET /manage/blogs/edit?id=00152704246942583a62e643dba43aab710bedefa4f155d000 HTTP/1.1" 200 6889 "http://lxiao.net/blog/00152704246942583a62e643dba43aab710bedefa4f155d000" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/66.0.3359.181 Safari/537.36"
INFO:root:Request: GET /api/blogs/00152704246942583a62e643dba43aab710bedefa4f155d000
INFO:root:Check user: GET /api/blogs/00152704246942583a62e643dba43aab710bedefa4f155d000
INFO:root:SQL: select `id`, `email`, `created_at`, `image`, `name`, `admin`, `passwd` from `users` where `id`=?
INFO:root:Rows returned: 1
INFO:root:Set current user: m15801021028@163.com
INFO:root:Response handler...
INFO:root:Call with arg: {'id': '00152704246942583a62e643dba43aab710bedefa4f155d000'}
INFO:root:SQL: select `id`, `summary`, `created_at`, `user_name`, `private`, `user_id`, `content`, `name`, `user_image` from `blogs` where `id`=?
INFO:root:Rows returned: 1
INFO:aiohttp.access:106.120.206.159 [23/May/2018:02:28:51 +0000] "GET /api/blogs/00152704246942583a62e643dba43aab710bedefa4f155d000 HTTP/1.1" 200 1529 "http://lxiao.net/manage/blogs/edit?id=00152704246942583a62e643dba43aab710bedefa4f155d000" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/66.0.3359.181 Safari/537.36"
INFO:root:Request: POST /api/blogs/00152704246942583a62e643dba43aab710bedefa4f155d000
INFO:root:Check user: POST /api/blogs/00152704246942583a62e643dba43aab710bedefa4f155d000
INFO:root:SQL: select `id`, `email`, `created_at`, `image`, `name`, `admin`, `passwd` from `users` where `id`=?
INFO:root:Rows returned: 1
INFO:root:Set current user: m15801021028@163.com
INFO:root:Response handler...
INFO:root:Call with arg: {'request': <Request POST /api/blogs/00152704246942583a62e643dba43aab710bedefa4f155d000 >, 'id': '00152704246942583a62e643dba43aab710bedefa4f155d000', 'summary': 'HTTP 协议的具体格式是啥样子的？HTTP GET 请求是什么形式？POST 请求的数据放在哪里？服务器如何识别和解析这些 POST 数据？ ...', 'private': 1, 'name': '[转] C++ 实现 HTTP 服务器（一）——基础篇', 'content': '##HTTP 协议介绍\n\u3000\u3000HTTP 协议是应用层协议，一般建立在 TCP 协议的基础之上，也就是说 HTTP 协议的数据收发是通过 TCP 协议的（当然非要基于 UDP 实现也是可以的）。\n\n\u3000\u3000HTTP 协议也分为 head 和 body 两部分，但是我们一般说的 html 中的 ```<head>``` 和 ```<body>``` 标记不是 HTTP 协议的头和身体，它们都是 HTTP 协议的 body 部分。如图：\n\n![](https://github.com/LXiao2015/pictures/blob/master/2018-05-23_101817.png?raw=true)\n\n\u3000\u3000HTTP 协议的格式如下：\n```\nGET 或 POST 请求的 url 路径（一般是去掉域名的路径） HTTP 协议版本号\\r\\n\n字段 1 名: 字段 1 值\\r\\n\n字段 2 名: 字段 2 值\\r\\n\n     …\n字段 n 名 : 字段 n 值\\r\\n\n\\r\\n\nHTTP 协议包体内容\n```\n也就是说 HTTP 协议由两部分组成：包头和包体，包头与包体之间使用一个 \\r\\n 分割，由于 HTTP 协议包头的每一行都是以 \\r\\n 结束，所以 HTTP 协议包头一般以 \\r\\n\\r\\n 结束。\n\n举个例子，比如我们在浏览器中请求 http://www.hootina.org/index_2013.php 这个网址，这是一个典型的 GET 方法，浏览器组装的 HTTP 数据包格式如下：\n```\nGET /index_2013.php HTTP/1.1\\r\\n\nHost: www.hootina.org\\r\\n\nConnection: keep-alive\\r\\n\nUpgrade-Insecure-Requests: 1\\r\\n\nUser-Agent: Mozilla/5.0 (Windows NT 6.1; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/65.0.3325.146 Safari/537.36\\r\\n\nAccept: text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,image/apng,*/*;q=0.8\\r\\n\nAccept-Encoding: gzip, deflate\\r\\n\nAccept-Language: zh-CN,zh;q=0.9,en;q=0.8\\r\\n\n\\r\\n\n```'}
INFO:root:SQL: select `id`, `summary`, `created_at`, `user_name`, `private`, `user_id`, `content`, `name`, `user_image` from `blogs` where `id`=?
INFO:root:Rows returned: 1
INFO:root:SQL: update `blogs` set `summary`=?, `created_at`=?, `user_name`=?, `private`=?, `user_id`=?, `content`=?, `name`=?, `user_image`=? where `id`=?
INFO:aiohttp.access:106.120.206.159 [23/May/2018:02:30:14 +0000] "POST /api/blogs/00152704246942583a62e643dba43aab710bedefa4f155d000 HTTP/1.1" 200 2421 "http://lxiao.net/manage/blogs/edit?id=00152704246942583a62e643dba43aab710bedefa4f155d000" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/66.0.3359.181 Safari/537.36"
INFO:root:Request: GET /blog/00152704246942583a62e643dba43aab710bedefa4f155d000
INFO:root:Check user: GET /blog/00152704246942583a62e643dba43aab710bedefa4f155d000
INFO:root:SQL: select `id`, `email`, `created_at`, `image`, `name`, `admin`, `passwd` from `users` where `id`=?
INFO:root:Rows returned: 1
INFO:root:Set current user: m15801021028@163.com
INFO:root:Response handler...
INFO:root:Call with arg: {'id': '00152704246942583a62e643dba43aab710bedefa4f155d000'}
INFO:root:SQL: select `id`, `summary`, `created_at`, `user_name`, `private`, `user_id`, `content`, `name`, `user_image` from `blogs` where `id`=?
INFO:root:Rows returned: 1
INFO:root:SQL: select `id`, `content`, `user_name`, `blog_id`, `created_at`, `user_id`, `user_image` from `comments` where blog_id=? order by created_at desc
INFO:root:Rows returned: 0
INFO:aiohttp.access:106.120.206.159 [23/May/2018:02:30:14 +0000] "GET /blog/00152704246942583a62e643dba43aab710bedefa4f155d000 HTTP/1.1" 200 8165 "http://lxiao.net/manage/blogs/edit?id=00152704246942583a62e643dba43aab710bedefa4f155d000" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/66.0.3359.181 Safari/537.36"
INFO:root:Request: GET /manage/blogs/edit
INFO:root:Check user: GET /manage/blogs/edit
INFO:root:SQL: select `id`, `email`, `created_at`, `image`, `name`, `admin`, `passwd` from `users` where `id`=?
INFO:root:Rows returned: 1
INFO:root:Set current user: m15801021028@163.com
INFO:root:Response handler...
INFO:root:Call with arg: {'id': '00152704246942583a62e643dba43aab710bedefa4f155d000'}
INFO:aiohttp.access:106.120.206.159 [23/May/2018:02:30:39 +0000] "GET /manage/blogs/edit?id=00152704246942583a62e643dba43aab710bedefa4f155d000 HTTP/1.1" 200 6889 "http://lxiao.net/blog/00152704246942583a62e643dba43aab710bedefa4f155d000" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/66.0.3359.181 Safari/537.36"
INFO:root:Request: GET /api/blogs/00152704246942583a62e643dba43aab710bedefa4f155d000
INFO:root:Check user: GET /api/blogs/00152704246942583a62e643dba43aab710bedefa4f155d000
INFO:root:SQL: select `id`, `email`, `created_at`, `image`, `name`, `admin`, `passwd` from `users` where `id`=?
INFO:root:Rows returned: 1
INFO:root:Set current user: m15801021028@163.com
INFO:root:Response handler...
INFO:root:Call with arg: {'id': '00152704246942583a62e643dba43aab710bedefa4f155d000'}
INFO:root:SQL: select `id`, `summary`, `created_at`, `user_name`, `private`, `user_id`, `content`, `name`, `user_image` from `blogs` where `id`=?
INFO:root:Rows returned: 1
INFO:aiohttp.access:106.120.206.159 [23/May/2018:02:30:39 +0000] "GET /api/blogs/00152704246942583a62e643dba43aab710bedefa4f155d000 HTTP/1.1" 200 2421 "http://lxiao.net/manage/blogs/edit?id=00152704246942583a62e643dba43aab710bedefa4f155d000" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/66.0.3359.181 Safari/537.36"
INFO:root:Request: POST /api/blogs/00152704246942583a62e643dba43aab710bedefa4f155d000
INFO:root:Check user: POST /api/blogs/00152704246942583a62e643dba43aab710bedefa4f155d000
INFO:root:SQL: select `id`, `email`, `created_at`, `image`, `name`, `admin`, `passwd` from `users` where `id`=?
INFO:root:Rows returned: 1
INFO:root:Set current user: m15801021028@163.com
INFO:root:Response handler...
INFO:root:Call with arg: {'request': <Request POST /api/blogs/00152704246942583a62e643dba43aab710bedefa4f155d000 >, 'id': '00152704246942583a62e643dba43aab710bedefa4f155d000', 'summary': 'HTTP 协议的具体格式是啥样子的？HTTP GET 请求是什么形式？POST 请求的数据放在哪里？服务器如何识别和解析这些 POST 数据？ ...', 'private': 1, 'name': '[转] C++ 实现 HTTP 服务器（一）——基础篇', 'content': '##HTTP 协议介绍\n\u3000\u3000HTTP 协议是应用层协议，一般建立在 TCP 协议的基础之上，也就是说 HTTP 协议的数据收发是通过 TCP 协议的（当然非要基于 UDP 实现也是可以的）。\n\n\u3000\u3000HTTP 协议也分为 head 和 body 两部分，但是我们一般说的 html 中的 ```<head>``` 和 ```<body>``` 标记不是 HTTP 协议的头和身体，它们都是 HTTP 协议的 body 部分。如图：\n\n![](https://github.com/LXiao2015/pictures/blob/master/2018-05-23_101817.png?raw=true)\n\n\u3000\u3000HTTP 协议的格式如下：\n```\nGET 或 POST 请求的 url 路径（一般是去掉域名的路径） HTTP 协议版本号\\r\\n\n字段 1 名: 字段 1 值\\r\\n\n字段 2 名: 字段 2 值\\r\\n\n     …\n字段 n 名 : 字段 n 值\\r\\n\n\\r\\n\nHTTP 协议包体内容\n```\n也就是说 HTTP 协议由两部分组成：包头和包体，包头与包体之间使用一个 \\r\\n 分割，由于 HTTP 协议包头的每一行都是以 \\r\\n 结束，所以 HTTP 协议包头一般以 \\r\\n\\r\\n 结束。\n\n举个例子，比如我们在浏览器中请求 http://www.hootina.org/index_2013.php 这个网址，这是一个典型的 GET 方法，浏览器组装的 HTTP 数据包格式如下：\n```\nGET /index_2013.php HTTP/1.1\\r\\n\nHost: www.hootina.org\\r\\n\nConnection: keep-alive\\r\\n\nUpgrade-Insecure-Requests: 1\\r\\n\nUser-Agent: Mozilla/5.0 (Windows NT 6.1; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/65.0.3325.146 Safari/537.36\\r\\n\nAccept: text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,image/apng,*/*;q=0.8\\r\\n\nAccept-Encoding: gzip, deflate\\r\\n\nAccept-Language: zh-CN,zh;q=0.9,en;q=0.8\\r\\n\n\\r\\n\n```'}
INFO:root:SQL: select `id`, `summary`, `created_at`, `user_name`, `private`, `user_id`, `content`, `name`, `user_image` from `blogs` where `id`=?
INFO:root:Rows returned: 1
INFO:root:SQL: update `blogs` set `summary`=?, `created_at`=?, `user_name`=?, `private`=?, `user_id`=?, `content`=?, `name`=?, `user_image`=? where `id`=?
WARNING:root:failed to update by primary key: affected rows: 0
INFO:aiohttp.access:106.120.206.159 [23/May/2018:02:30:59 +0000] "POST /api/blogs/00152704246942583a62e643dba43aab710bedefa4f155d000 HTTP/1.1" 200 2421 "http://lxiao.net/manage/blogs/edit?id=00152704246942583a62e643dba43aab710bedefa4f155d000" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/66.0.3359.181 Safari/537.36"
INFO:root:Request: GET /blog/00152704246942583a62e643dba43aab710bedefa4f155d000
INFO:root:Check user: GET /blog/00152704246942583a62e643dba43aab710bedefa4f155d000
INFO:root:SQL: select `id`, `email`, `created_at`, `image`, `name`, `admin`, `passwd` from `users` where `id`=?
INFO:root:Rows returned: 1
INFO:root:Set current user: m15801021028@163.com
INFO:root:Response handler...
INFO:root:Call with arg: {'id': '00152704246942583a62e643dba43aab710bedefa4f155d000'}
INFO:root:SQL: select `id`, `summary`, `created_at`, `user_name`, `private`, `user_id`, `content`, `name`, `user_image` from `blogs` where `id`=?
INFO:root:Rows returned: 1
INFO:root:SQL: select `id`, `content`, `user_name`, `blog_id`, `created_at`, `user_id`, `user_image` from `comments` where blog_id=? order by created_at desc
INFO:root:Rows returned: 0
INFO:aiohttp.access:106.120.206.159 [23/May/2018:02:30:59 +0000] "GET /blog/00152704246942583a62e643dba43aab710bedefa4f155d000 HTTP/1.1" 200 8165 "http://lxiao.net/manage/blogs/edit?id=00152704246942583a62e643dba43aab710bedefa4f155d000" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/66.0.3359.181 Safari/537.36"
INFO:root:Request: GET /manage/blogs/edit
INFO:root:Check user: GET /manage/blogs/edit
INFO:root:SQL: select `id`, `email`, `created_at`, `image`, `name`, `admin`, `passwd` from `users` where `id`=?
INFO:root:Rows returned: 1
INFO:root:Set current user: m15801021028@163.com
INFO:root:Response handler...
INFO:root:Call with arg: {'id': '00152704246942583a62e643dba43aab710bedefa4f155d000'}
INFO:aiohttp.access:106.120.206.159 [23/May/2018:02:31:22 +0000] "GET /manage/blogs/edit?id=00152704246942583a62e643dba43aab710bedefa4f155d000 HTTP/1.1" 200 6889 "http://lxiao.net/blog/00152704246942583a62e643dba43aab710bedefa4f155d000" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/66.0.3359.181 Safari/537.36"
INFO:root:Request: GET /api/blogs/00152704246942583a62e643dba43aab710bedefa4f155d000
INFO:root:Check user: GET /api/blogs/00152704246942583a62e643dba43aab710bedefa4f155d000
INFO:root:SQL: select `id`, `email`, `created_at`, `image`, `name`, `admin`, `passwd` from `users` where `id`=?
INFO:root:Rows returned: 1
INFO:root:Set current user: m15801021028@163.com
INFO:root:Response handler...
INFO:root:Call with arg: {'id': '00152704246942583a62e643dba43aab710bedefa4f155d000'}
INFO:root:SQL: select `id`, `summary`, `created_at`, `user_name`, `private`, `user_id`, `content`, `name`, `user_image` from `blogs` where `id`=?
INFO:root:Rows returned: 1
INFO:aiohttp.access:106.120.206.159 [23/May/2018:02:31:23 +0000] "GET /api/blogs/00152704246942583a62e643dba43aab710bedefa4f155d000 HTTP/1.1" 200 2421 "http://lxiao.net/manage/blogs/edit?id=00152704246942583a62e643dba43aab710bedefa4f155d000" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/66.0.3359.181 Safari/537.36"
INFO:root:Request: POST /api/blogs/00152704246942583a62e643dba43aab710bedefa4f155d000
INFO:root:Check user: POST /api/blogs/00152704246942583a62e643dba43aab710bedefa4f155d000
INFO:root:SQL: select `id`, `email`, `created_at`, `image`, `name`, `admin`, `passwd` from `users` where `id`=?
INFO:root:Rows returned: 1
INFO:root:Set current user: m15801021028@163.com
INFO:root:Response handler...
INFO:root:Call with arg: {'request': <Request POST /api/blogs/00152704246942583a62e643dba43aab710bedefa4f155d000 >, 'id': '00152704246942583a62e643dba43aab710bedefa4f155d000', 'summary': 'HTTP 协议的具体格式是啥样子的？HTTP GET 请求是什么形式？POST 请求的数据放在哪里？服务器如何识别和解析这些 POST 数据？ ...', 'private': 1, 'name': '[转] C++ 实现 HTTP 服务器（一）——基础篇', 'content': '##HTTP 协议介绍\n\u3000\u3000HTTP 协议是应用层协议，一般建立在 TCP 协议的基础之上，也就是说 HTTP 协议的数据收发是通过 TCP 协议的（当然非要基于 UDP 实现也是可以的）。\n\n\u3000\u3000HTTP 协议也分为 head 和 body 两部分，但是我们一般说的 html 中的 ```<head>``` 和 ```<body>``` 标记不是 HTTP 协议的头和身体，它们都是 HTTP 协议的 body 部分。如图：\n\n![](https://github.com/LXiao2015/pictures/blob/master/2018-05-23_101817.png?raw=true)\n\n\u3000\u3000HTTP 协议的格式如下：\n```\nGET 或 POST 请求的 url 路径（一般是去掉域名的路径） HTTP 协议版本号\\r\\n\n字段 1 名: 字段 1 值\\r\\n\n字段 2 名: 字段 2 值\\r\\n\n     …\n字段 n 名 : 字段 n 值\\r\\n\n\\r\\n\nHTTP 协议包体内容\n```\n也就是说 HTTP 协议由两部分组成：包头和包体，包头与包体之间使用一个 \\r\\n 分割，由于 HTTP 协议包头的每一行都是以 \\r\\n 结束，所以 HTTP 协议包头一般以 \\r\\n\\r\\n 结束。\n\n举个例子，比如我们在浏览器中请求 http://www.hootina.org/index_2013.php 这个网址，这是一个典型的 GET 方法，浏览器组装的 HTTP 数据包格式如下：\n```\nGET /index_2013.php HTTP/1.1\\r\\n\nHost: www.hootina.org\\r\\n\nConnection: keep-alive\\r\\n\nUpgrade-Insecure-Requests: 1\\r\\n\nUser-Agent: Mozilla/5.0 (Windows NT 6.1; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/65.0.3325.146 Safari/537.36\\r\\n\nAccept: text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,image/apng,*/*;q=0.8\\r\\n\nAccept-Encoding: gzip, deflate\\r\\n\nAccept-Language: zh-CN,zh;q=0.9,en;q=0.8\\r\\n\n\\r\\n\n```\n上面这个请求只有包头没有包体，HTTP 协议的包体不是必须的，GET 请求一般没有包体。\n\n如果 GET 请求带参数，那么一般是附加在请求的 url 后面，参数与参数之间使用 & 分割，例如请求 http://www.hootina.org/index_2013.php?param1=value1&param2=value2&param3=value3 的 HTTP 协议包格式：\n```\nGET /index_2013.php?param1=value1&param2=value2&param3=value3 HTTP/1.1\\r\\n\nHost: www.hootina.org\\r\\n\nConnection: keep-alive\\r\\n\nUpgrade-Insecure-Requests: 1\\r\\n\nUser-Agent: Mozilla/5.0 (Windows NT 6.1; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/65.0.3325.146 Safari/537.36\\r\\n\nAccept: text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,image/apng,*/*;q=0.8\\r\\n\nAccept-Encoding: gzip, deflate\\r\\n\nAccept-Language: zh-CN,zh;q=0.9,en;q=0.8\\r\\n\n\\r\\n\n```\n那么 POST 的数据放在什么位置呢？我们在 12306 网站 https://kyfw.12306.cn/otn/login/init 中登录：\n\n![](https://github.com/LXiao2015/pictures/blob/master/%E6%90%9C%E7%8B%97%E6%88%AA%E5%9B%BE20180523103404.jpg?raw=true)\n\n发现浏览器以 POST 方式组装了 HTTP 协议包发送了我们的用户名、密码和其他一些信息，组装的包格式如下：\n```\nPOST /passport/web/login HTTP/1.1\\r\\n\nHost: kyfw.12306.cn\\r\\n\nConnection: keep-alive\\r\\n\nContent-Length: 55\\r\\n\nAccept: application/json, text/javascript, */*; q=0.01\\r\\n\nOrigin: https://kyfw.12306.cn\\r\\n\nX-Requested-With: XMLHttpRequest\\r\\n\nUser-Agent: Mozilla/5.0 (Windows NT 6.1; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/65.0.3325.146 Safari/537.36\\r\\n\nContent-Type: application/x-www-form-urlencoded; charset=UTF-8\\r\\n\nReferer: https://kyfw.12306.cn/otn/login/init\\r\\n\nAccept-Encoding: gzip, deflate, br\\r\\n\nAccept-Language: zh-CN,zh;q=0.9,en;q=0.8\\r\\n\nCookie: _passport_session=0b2cc5b86eb74bcc976bfa9dfef3e8a20712; _passport_ct=18d19b0930954d76b8057c732ce4cdcat8137; route=6f50b51faa11b987e576cdb301e545c4; RAIL_EXPIRATION=1526718782244; RAIL_DEVICEID=QuRAhOyIWv9lwWEhkq03x5Yl_livKZxx7gW6_-52oTZQda1c4zmVWxdw5Zk79xSDFHe9LJ57F8luYOFp_yahxDXQAOmEV8U1VgXavacuM2UPCFy3knfn42yTsJM3EYOy-hwpsP-jTb2OXevJj5acf40XsvsPDcM7; BIGipServerpool_passport=300745226.50215.0000; BIGipServerotn=1257243146.38945.0000; BIGipServerpassport=1005060362.50215.0000\\r\\n\n\\r\\n\nusername=balloonwj%40qq.com&password=iloveyou&appid=otn\n```'}
INFO:root:SQL: select `id`, `summary`, `created_at`, `user_name`, `private`, `user_id`, `content`, `name`, `user_image` from `blogs` where `id`=?
INFO:root:Rows returned: 1
INFO:root:SQL: update `blogs` set `summary`=?, `created_at`=?, `user_name`=?, `private`=?, `user_id`=?, `content`=?, `name`=?, `user_image`=? where `id`=?
INFO:aiohttp.access:106.120.206.159 [23/May/2018:02:35:49 +0000] "POST /api/blogs/00152704246942583a62e643dba43aab710bedefa4f155d000 HTTP/1.1" 200 4856 "http://lxiao.net/manage/blogs/edit?id=00152704246942583a62e643dba43aab710bedefa4f155d000" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/66.0.3359.181 Safari/537.36"
INFO:root:Request: GET /blog/00152704246942583a62e643dba43aab710bedefa4f155d000
INFO:root:Check user: GET /blog/00152704246942583a62e643dba43aab710bedefa4f155d000
INFO:root:SQL: select `id`, `email`, `created_at`, `image`, `name`, `admin`, `passwd` from `users` where `id`=?
INFO:root:Rows returned: 1
INFO:root:Set current user: m15801021028@163.com
INFO:root:Response handler...
INFO:root:Call with arg: {'id': '00152704246942583a62e643dba43aab710bedefa4f155d000'}
INFO:root:SQL: select `id`, `summary`, `created_at`, `user_name`, `private`, `user_id`, `content`, `name`, `user_image` from `blogs` where `id`=?
INFO:root:Rows returned: 1
INFO:root:SQL: select `id`, `content`, `user_name`, `blog_id`, `created_at`, `user_id`, `user_image` from `comments` where blog_id=? order by created_at desc
INFO:root:Rows returned: 0
INFO:aiohttp.access:106.120.206.159 [23/May/2018:02:35:49 +0000] "GET /blog/00152704246942583a62e643dba43aab710bedefa4f155d000 HTTP/1.1" 200 10634 "http://lxiao.net/manage/blogs/edit?id=00152704246942583a62e643dba43aab710bedefa4f155d000" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/66.0.3359.181 Safari/537.36"
INFO:root:Request: GET /
INFO:root:Check user: GET /
INFO:root:Response handler...
INFO:root:Call with arg: {'request': <Request GET / >}
INFO:aiohttp.access:178.239.149.192 [23/May/2018:02:35:57 +0000] "GET / HTTP/1.1" 200 5383 "-" "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_11_6) AppleWebKit/601.7.7 (KHTML, like Gecko) Version/9.1.2 Safari/601.7.7"
INFO:root:Request: GET /
INFO:root:Check user: GET /
INFO:root:Response handler...
INFO:root:Call with arg: {'request': <Request GET / >}
INFO:aiohttp.access:181.211.112.218 [23/May/2018:02:40:41 +0000] "GET / HTTP/1.1" 200 5383 "-" "Mozilla/5.0 (Windows NT 10.0; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/51.0.2704.103 Safari/537.36"
INFO:root:Request: GET /manage/blogs/edit
INFO:root:Check user: GET /manage/blogs/edit
INFO:root:SQL: select `id`, `email`, `created_at`, `image`, `name`, `admin`, `passwd` from `users` where `id`=?
INFO:root:Rows returned: 1
INFO:root:Set current user: m15801021028@163.com
INFO:root:Response handler...
INFO:root:Call with arg: {'id': '00152704246942583a62e643dba43aab710bedefa4f155d000'}
INFO:aiohttp.access:106.120.206.159 [23/May/2018:02:47:01 +0000] "GET /manage/blogs/edit?id=00152704246942583a62e643dba43aab710bedefa4f155d000 HTTP/1.1" 200 6889 "http://lxiao.net/blog/00152704246942583a62e643dba43aab710bedefa4f155d000" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/66.0.3359.181 Safari/537.36"
INFO:root:Request: GET /api/blogs/00152704246942583a62e643dba43aab710bedefa4f155d000
INFO:root:Check user: GET /api/blogs/00152704246942583a62e643dba43aab710bedefa4f155d000
INFO:root:SQL: select `id`, `email`, `created_at`, `image`, `name`, `admin`, `passwd` from `users` where `id`=?
INFO:root:Rows returned: 1
INFO:root:Set current user: m15801021028@163.com
INFO:root:Response handler...
INFO:root:Call with arg: {'id': '00152704246942583a62e643dba43aab710bedefa4f155d000'}
INFO:root:SQL: select `id`, `summary`, `created_at`, `user_name`, `private`, `user_id`, `content`, `name`, `user_image` from `blogs` where `id`=?
INFO:root:Rows returned: 1
INFO:aiohttp.access:106.120.206.159 [23/May/2018:02:47:02 +0000] "GET /api/blogs/00152704246942583a62e643dba43aab710bedefa4f155d000 HTTP/1.1" 200 4856 "http://lxiao.net/manage/blogs/edit?id=00152704246942583a62e643dba43aab710bedefa4f155d000" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/66.0.3359.181 Safari/537.36"
INFO:root:Request: GET /cache/global/img/gs.gif
INFO:root:Check user: GET /cache/global/img/gs.gif
INFO:root:Response handler...
INFO:aiohttp.access:80.82.70.187 [23/May/2018:02:47:09 +0000] "GET http://www.baidu.com/cache/global/img/gs.gif HTTP/1.1" 404 173 "-" "Mozilla"
INFO:root:Request: GET /cache/global/img/gs.gif
INFO:root:Check user: GET /cache/global/img/gs.gif
INFO:root:Response handler...
INFO:aiohttp.access:80.82.70.187 [23/May/2018:02:47:10 +0000] "GET http://www.baidu.com/cache/global/img/gs.gif HTTP/1.1" 404 173 "-" "Mozilla"
INFO:root:Request: GET /
INFO:root:Check user: GET /
INFO:root:Response handler...
INFO:root:Call with arg: {'request': <Request GET / >}
INFO:aiohttp.access:179.174.20.42 [23/May/2018:02:49:18 +0000] "GET / HTTP/1.1" 200 5383 "-" "Mozilla/5.0 (Windows NT 6.1; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/52.0.2743.116 Safari/537.36"
INFO:root:Request: GET /
INFO:root:Check user: GET /
INFO:root:Response handler...
INFO:root:Call with arg: {'request': <Request GET / >}
INFO:aiohttp.access:179.174.20.42 [23/May/2018:02:49:18 +0000] "GET / HTTP/1.1" 200 5383 "-" "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_11_6) AppleWebKit/601.7.7 (KHTML, like Gecko) Version/9.1.2 Safari/601.7.7"
INFO:root:Request: POST /api/blogs/00152704246942583a62e643dba43aab710bedefa4f155d000
INFO:root:Check user: POST /api/blogs/00152704246942583a62e643dba43aab710bedefa4f155d000
INFO:root:SQL: select `id`, `email`, `created_at`, `image`, `name`, `admin`, `passwd` from `users` where `id`=?
INFO:root:Rows returned: 1
INFO:root:Set current user: m15801021028@163.com
INFO:root:Response handler...
INFO:root:Call with arg: {'request': <Request POST /api/blogs/00152704246942583a62e643dba43aab710bedefa4f155d000 >, 'id': '00152704246942583a62e643dba43aab710bedefa4f155d000', 'summary': 'HTTP 协议的具体格式是啥样子的？HTTP GET 请求是什么形式？POST 请求的数据放在哪里？服务器如何识别和解析这些 POST 数据？ ...', 'private': 1, 'name': '[转] C++ 实现 HTTP 服务器（一）——基础篇', 'content': '##HTTP 协议介绍\n\u3000\u3000HTTP 协议是应用层协议，一般建立在 TCP 协议的基础之上，也就是说 HTTP 协议的数据收发是通过 TCP 协议的（当然非要基于 UDP 实现也是可以的）。\n\n\u3000\u3000HTTP 协议也分为 head 和 body 两部分，但是我们一般说的 html 中的 ```<head>``` 和 ```<body>``` 标记不是 HTTP 协议的头和身体，它们都是 HTTP 协议的 body 部分。如图：\n\n![](https://github.com/LXiao2015/pictures/blob/master/2018-05-23_101817.png?raw=true)\n\n\u3000\u3000HTTP 协议的格式如下：\n```\nGET 或 POST 请求的 url 路径（一般是去掉域名的路径） HTTP 协议版本号\\r\\n\n字段 1 名: 字段 1 值\\r\\n\n字段 2 名: 字段 2 值\\r\\n\n     …\n字段 n 名 : 字段 n 值\\r\\n\n\\r\\n\nHTTP 协议包体内容\n```\n也就是说 HTTP 协议由两部分组成：包头和包体，包头与包体之间使用一个 \\r\\n 分割，由于 HTTP 协议包头的每一行都是以 \\r\\n 结束，所以 HTTP 协议包头一般以 \\r\\n\\r\\n 结束。\n\n举个例子，比如我们在浏览器中请求 http://www.hootina.org/index_2013.php 这个网址，这是一个典型的 GET 方法，浏览器组装的 HTTP 数据包格式如下：\n```\nGET /index_2013.php HTTP/1.1\\r\\n\nHost: www.hootina.org\\r\\n\nConnection: keep-alive\\r\\n\nUpgrade-Insecure-Requests: 1\\r\\n\nUser-Agent: Mozilla/5.0 (Windows NT 6.1; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/65.0.3325.146 Safari/537.36\\r\\n\nAccept: text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,image/apng,*/*;q=0.8\\r\\n\nAccept-Encoding: gzip, deflate\\r\\n\nAccept-Language: zh-CN,zh;q=0.9,en;q=0.8\\r\\n\n\\r\\n\n```\n上面这个请求只有包头没有包体，HTTP 协议的包体不是必须的，GET 请求一般没有包体。\n\n如果 GET 请求带参数，那么一般是附加在请求的 url 后面，参数与参数之间使用 & 分割，例如请求 http://www.hootina.org/index_2013.php?param1=value1&param2=value2&param3=value3 的 HTTP 协议包格式：\n```\nGET /index_2013.php?param1=value1&param2=value2&param3=value3 HTTP/1.1\\r\\n\nHost: www.hootina.org\\r\\n\nConnection: keep-alive\\r\\n\nUpgrade-Insecure-Requests: 1\\r\\n\nUser-Agent: Mozilla/5.0 (Windows NT 6.1; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/65.0.3325.146 Safari/537.36\\r\\n\nAccept: text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,image/apng,*/*;q=0.8\\r\\n\nAccept-Encoding: gzip, deflate\\r\\n\nAccept-Language: zh-CN,zh;q=0.9,en;q=0.8\\r\\n\n\\r\\n\n```\n那么 POST 的数据放在什么位置呢？我们在 12306 网站 https://kyfw.12306.cn/otn/login/init 中登录：\n\n![](https://github.com/LXiao2015/pictures/blob/master/%E6%90%9C%E7%8B%97%E6%88%AA%E5%9B%BE20180523103404.jpg?raw=true)\n\n发现浏览器以 POST 方式组装了 HTTP 协议包发送了我们的用户名、密码和其他一些信息，组装的包格式如下：\n```\nPOST /passport/web/login HTTP/1.1\\r\\n\nHost: kyfw.12306.cn\\r\\n\nConnection: keep-alive\\r\\n\nContent-Length: 55\\r\\n\nAccept: application/json, text/javascript, */*; q=0.01\\r\\n\nOrigin: https://kyfw.12306.cn\\r\\n\nX-Requested-With: XMLHttpRequest\\r\\n\nUser-Agent: Mozilla/5.0 (Windows NT 6.1; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/65.0.3325.146 Safari/537.36\\r\\n\nContent-Type: application/x-www-form-urlencoded; charset=UTF-8\\r\\n\nReferer: https://kyfw.12306.cn/otn/login/init\\r\\n\nAccept-Encoding: gzip, deflate, br\\r\\n\nAccept-Language: zh-CN,zh;q=0.9,en;q=0.8\\r\\n\nCookie: _passport_session=0b2cc5b86eb74bcc976bfa9dfef3e8a20712; _passport_ct=18d19b0930954d76b8057c732ce4cdcat8137; route=6f50b51faa11b987e576cdb301e545c4; RAIL_EXPIRATION=1526718782244; RAIL_DEVICEID=QuRAhOyIWv9lwWEhkq03x5Yl_livKZxx7gW6_-52oTZQda1c4zmVWxdw5Zk79xSDFHe9LJ57F8luYOFp_yahxDXQAOmEV8U1VgXavacuM2UPCFy3knfn42yTsJM3EYOy-hwpsP-jTb2OXevJj5acf40XsvsPDcM7; BIGipServerpool_passport=300745226.50215.0000; BIGipServerotn=1257243146.38945.0000; BIGipServerpassport=1005060362.50215.0000\\r\\n\n\\r\\n\nusername=balloonwj%40qq.com&password=iloveyou&appid=otn\n```\n其中 ```username=balloonwj%40qq.com&password=iloveyou&appid=otn``` 就是我们的 POST 数据，但是大家需要注意的以下几点，不要搞错：\n1. 我的用户名是 balloonwj@qq.com，到 POST 里面变成 balloonwj%40qq.com，其中 %40 是 @ 符号的 16 进制转码形式。可以参考这个[码表](http://www.w3school.com.cn/tags/html_ref_urlencode.html)。\n\n2. 这里有三个变量，分别是 username、password 和 appid，他们之间使用 & 符号分割，但是请注意，这不意味着传递多个 POST 变量时必须使用 & 符号分割，只不过这里是浏览器 html 表单（输入用户名和密码的文本框是 html 表单的一种）分割多个变量采用的默认方式而已。你可以根据你的需求，来自由定制，只要让服务器知道你的解析方式即可。比如可以这么分割：\n\n**方法一**\n```\nusername=balloonwj%40qq.com|password=iloveyou|appid=otn\n```\n**方法二**\n```\nusername:balloonwj%40qq.com\\r\\n\npassword:iloveyou\\r\\n\nappid:otn\\r\\n\n```\n**方法三**\n```\nusername,password,appid=balloonwj%40qq.com,iloveyou,otn\n```\n不管怎么分割，只要你能自己按一定的规则解析出来就可以了。'}
INFO:root:SQL: select `id`, `summary`, `created_at`, `user_name`, `private`, `user_id`, `content`, `name`, `user_image` from `blogs` where `id`=?
INFO:root:Rows returned: 1
INFO:root:SQL: update `blogs` set `summary`=?, `created_at`=?, `user_name`=?, `private`=?, `user_id`=?, `content`=?, `name`=?, `user_image`=? where `id`=?
INFO:aiohttp.access:106.120.206.159 [23/May/2018:02:50:14 +0000] "POST /api/blogs/00152704246942583a62e643dba43aab710bedefa4f155d000 HTTP/1.1" 200 6069 "http://lxiao.net/manage/blogs/edit?id=00152704246942583a62e643dba43aab710bedefa4f155d000" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/66.0.3359.181 Safari/537.36"
INFO:root:Request: GET /blog/00152704246942583a62e643dba43aab710bedefa4f155d000
INFO:root:Check user: GET /blog/00152704246942583a62e643dba43aab710bedefa4f155d000
INFO:root:SQL: select `id`, `email`, `created_at`, `image`, `name`, `admin`, `passwd` from `users` where `id`=?
INFO:root:Rows returned: 1
INFO:root:Set current user: m15801021028@163.com
INFO:root:Response handler...
INFO:root:Call with arg: {'id': '00152704246942583a62e643dba43aab710bedefa4f155d000'}
INFO:root:SQL: select `id`, `summary`, `created_at`, `user_name`, `private`, `user_id`, `content`, `name`, `user_image` from `blogs` where `id`=?
INFO:root:Rows returned: 1
INFO:root:SQL: select `id`, `content`, `user_name`, `blog_id`, `created_at`, `user_id`, `user_image` from `comments` where blog_id=? order by created_at desc
INFO:root:Rows returned: 0
INFO:aiohttp.access:106.120.206.159 [23/May/2018:02:50:14 +0000] "GET /blog/00152704246942583a62e643dba43aab710bedefa4f155d000 HTTP/1.1" 200 12005 "http://lxiao.net/manage/blogs/edit?id=00152704246942583a62e643dba43aab710bedefa4f155d000" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/66.0.3359.181 Safari/537.36"
INFO:root:Request: GET /manage/blogs/edit
INFO:root:Check user: GET /manage/blogs/edit
INFO:root:SQL: select `id`, `email`, `created_at`, `image`, `name`, `admin`, `passwd` from `users` where `id`=?
INFO:root:Rows returned: 1
INFO:root:Set current user: m15801021028@163.com
INFO:root:Response handler...
INFO:root:Call with arg: {'id': '00152704246942583a62e643dba43aab710bedefa4f155d000'}
INFO:aiohttp.access:106.120.206.159 [23/May/2018:02:50:30 +0000] "GET /manage/blogs/edit?id=00152704246942583a62e643dba43aab710bedefa4f155d000 HTTP/1.1" 200 6889 "http://lxiao.net/blog/00152704246942583a62e643dba43aab710bedefa4f155d000" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/66.0.3359.181 Safari/537.36"
INFO:root:Request: GET /api/blogs/00152704246942583a62e643dba43aab710bedefa4f155d000
INFO:root:Check user: GET /api/blogs/00152704246942583a62e643dba43aab710bedefa4f155d000
INFO:root:SQL: select `id`, `email`, `created_at`, `image`, `name`, `admin`, `passwd` from `users` where `id`=?
INFO:root:Rows returned: 1
INFO:root:Set current user: m15801021028@163.com
INFO:root:Response handler...
INFO:root:Call with arg: {'id': '00152704246942583a62e643dba43aab710bedefa4f155d000'}
INFO:root:SQL: select `id`, `summary`, `created_at`, `user_name`, `private`, `user_id`, `content`, `name`, `user_image` from `blogs` where `id`=?
INFO:root:Rows returned: 1
INFO:aiohttp.access:106.120.206.159 [23/May/2018:02:50:31 +0000] "GET /api/blogs/00152704246942583a62e643dba43aab710bedefa4f155d000 HTTP/1.1" 200 6069 "http://lxiao.net/manage/blogs/edit?id=00152704246942583a62e643dba43aab710bedefa4f155d000" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/66.0.3359.181 Safari/537.36"
INFO:root:Request: POST /api/blogs/00152704246942583a62e643dba43aab710bedefa4f155d000
INFO:root:Check user: POST /api/blogs/00152704246942583a62e643dba43aab710bedefa4f155d000
INFO:root:SQL: select `id`, `email`, `created_at`, `image`, `name`, `admin`, `passwd` from `users` where `id`=?
INFO:root:Rows returned: 1
INFO:root:Set current user: m15801021028@163.com
INFO:root:Response handler...
INFO:root:Call with arg: {'request': <Request POST /api/blogs/00152704246942583a62e643dba43aab710bedefa4f155d000 >, 'id': '00152704246942583a62e643dba43aab710bedefa4f155d000', 'summary': 'HTTP 协议的具体格式是啥样子的？HTTP GET 请求是什么形式？POST 请求的数据放在哪里？服务器如何识别和解析这些 POST 数据？ ...', 'private': 1, 'name': '[转] C++ 实现 HTTP 服务器（一）——基础篇', 'content': '##HTTP 协议介绍\n\u3000\u3000HTTP 协议是应用层协议，一般建立在 TCP 协议的基础之上，也就是说 HTTP 协议的数据收发是通过 TCP 协议的（当然非要基于 UDP 实现也是可以的）。\n\n\u3000\u3000HTTP 协议也分为 head 和 body 两部分，但是我们一般说的 html 中的 ```<head>``` 和 ```<body>``` 标记不是 HTTP 协议的头和身体，它们都是 HTTP 协议的 body 部分。如图：\n\n![](https://github.com/LXiao2015/pictures/blob/master/2018-05-23_101817.png?raw=true)\n\n\u3000\u3000HTTP 协议的格式如下：\n```\nGET 或 POST 请求的 url 路径（一般是去掉域名的路径） HTTP 协议版本号\\r\\n\n字段 1 名: 字段 1 值\\r\\n\n字段 2 名: 字段 2 值\\r\\n\n     …\n字段 n 名 : 字段 n 值\\r\\n\n\\r\\n\nHTTP 协议包体内容\n```\n\u3000\u3000也就是说 HTTP 协议由两部分组成：包头和包体，包头与包体之间使用一个 \\r\\n 分割，由于 HTTP 协议包头的每一行都是以 \\r\\n 结束，所以 HTTP 协议包头一般以 \\r\\n\\r\\n 结束。\n\n\u3000\u3000举个例子，比如我们在浏览器中请求 http://www.hootina.org/index_2013.php 这个网址，这是一个典型的 GET 方法，浏览器组装的 HTTP 数据包格式如下：\n```\nGET /index_2013.php HTTP/1.1\\r\\n\nHost: www.hootina.org\\r\\n\nConnection: keep-alive\\r\\n\nUpgrade-Insecure-Requests: 1\\r\\n\nUser-Agent: Mozilla/5.0 (Windows NT 6.1; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/65.0.3325.146 Safari/537.36\\r\\n\nAccept: text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,image/apng,*/*;q=0.8\\r\\n\nAccept-Encoding: gzip, deflate\\r\\n\nAccept-Language: zh-CN,zh;q=0.9,en;q=0.8\\r\\n\n\\r\\n\n```\n\u3000\u3000上面这个请求只有包头没有包体，HTTP 协议的包体不是必须的，GET 请求一般没有包体。\n\n\u3000\u3000如果 GET 请求带参数，那么一般是附加在请求的 url 后面，参数与参数之间使用 & 分割，例如请求 http://www.hootina.org/index_2013.php?param1=value1&param2=value2&param3=value3 的 HTTP 协议包格式：\n```\nGET /index_2013.php?param1=value1&param2=value2&param3=value3 HTTP/1.1\\r\\n\nHost: www.hootina.org\\r\\n\nConnection: keep-alive\\r\\n\nUpgrade-Insecure-Requests: 1\\r\\n\nUser-Agent: Mozilla/5.0 (Windows NT 6.1; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/65.0.3325.146 Safari/537.36\\r\\n\nAccept: text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,image/apng,*/*;q=0.8\\r\\n\nAccept-Encoding: gzip, deflate\\r\\n\nAccept-Language: zh-CN,zh;q=0.9,en;q=0.8\\r\\n\n\\r\\n\n```\n\u3000\u3000那么 POST 的数据放在什么位置呢？我们在 12306 网站 https://kyfw.12306.cn/otn/login/init 中登录：\n\n![](https://github.com/LXiao2015/pictures/blob/master/%E6%90%9C%E7%8B%97%E6%88%AA%E5%9B%BE20180523103404.jpg?raw=true)\n\n\u3000\u3000发现浏览器以 POST 方式组装了 HTTP 协议包发送了我们的用户名、密码和其他一些信息，组装的包格式如下：\n```\nPOST /passport/web/login HTTP/1.1\\r\\n\nHost: kyfw.12306.cn\\r\\n\nConnection: keep-alive\\r\\n\nContent-Length: 55\\r\\n\nAccept: application/json, text/javascript, */*; q=0.01\\r\\n\nOrigin: https://kyfw.12306.cn\\r\\n\nX-Requested-With: XMLHttpRequest\\r\\n\nUser-Agent: Mozilla/5.0 (Windows NT 6.1; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/65.0.3325.146 Safari/537.36\\r\\n\nContent-Type: application/x-www-form-urlencoded; charset=UTF-8\\r\\n\nReferer: https://kyfw.12306.cn/otn/login/init\\r\\n\nAccept-Encoding: gzip, deflate, br\\r\\n\nAccept-Language: zh-CN,zh;q=0.9,en;q=0.8\\r\\n\nCookie: _passport_session=0b2cc5b86eb74bcc976bfa9dfef3e8a20712; _passport_ct=18d19b0930954d76b8057c732ce4cdcat8137; route=6f50b51faa11b987e576cdb301e545c4; RAIL_EXPIRATION=1526718782244; RAIL_DEVICEID=QuRAhOyIWv9lwWEhkq03x5Yl_livKZxx7gW6_-52oTZQda1c4zmVWxdw5Zk79xSDFHe9LJ57F8luYOFp_yahxDXQAOmEV8U1VgXavacuM2UPCFy3knfn42yTsJM3EYOy-hwpsP-jTb2OXevJj5acf40XsvsPDcM7; BIGipServerpool_passport=300745226.50215.0000; BIGipServerotn=1257243146.38945.0000; BIGipServerpassport=1005060362.50215.0000\\r\\n\n\\r\\n\nusername=balloonwj%40qq.com&password=iloveyou&appid=otn\n```\n\u3000\u3000其中 ```username=balloonwj%40qq.com&password=iloveyou&appid=otn``` 就是我们的 POST 数据，但是大家需要注意的以下几点，不要搞错：\n\n1. 我的用户名是 balloonwj@qq.com，到 POST 里面变成 balloonwj%40qq.com，其中 %40 是 @ 符号的 16 进制转码形式。可以参考这个[码表](http://www.w3school.com.cn/tags/html_ref_urlencode.html)。\n\n2. 这里有三个变量，分别是 username、password 和 appid，他们之间使用 & 符号分割，但是请注意，这不意味着传递多个 POST 变量时必须使用 & 符号分割，只不过这里是浏览器 html 表单（输入用户名和密码的文本框是 html 表单的一种）分割多个变量采用的默认方式而已。你可以根据你的需求，来自由定制，只要让服务器知道你的解析方式即可。比如可以这么分割：\n\n**方法一**\n```\nusername=balloonwj%40qq.com|password=iloveyou|appid=otn\n```\n**方法二**\n```\nusername:balloonwj%40qq.com\\r\\n\npassword:iloveyou\\r\\n\nappid:otn\\r\\n\n```\n**方法三**\n```\nusername,password,appid=balloonwj%40qq.com,iloveyou,otn\n```\n\u3000\u3000不管怎么分割，只要你能自己按一定的规则解析出来就可以了。\n\n\u3000\u3000上面的 POST 数据放在 HTTP 包体中，服务器如何解析呢？\n\n![](https://mmbiz.qpic.cn/mmbiz_png/TufFCFqd0g20rWK8TSia8pibg3U4XBaFMicXdo97725LnAOWEI82KFVabX1ObG8EQ1Sya7alOCoUw78J4lxqU3ISQ/640?wx_fmt=png&tp=webp&wxfrom=5&wx_lazy=1)\n\n\u3000\u3000如上图所示，由于 HTTP 协议是基于 TCP 协议的，TCP 协议是流式协议，包头部分可以通过多出的 \\r\\n 来分界，包体部分如何分界呢？这是协议本身要解决的问题。目前一般有两种方式。\n\n\u3000\u3000第一种方式就是在包头中有个 content-Length 字段，这个字段的值的大小标识了 POST 数据的长度，上图中 55 就是数据 ```username=balloonwj%40qq.com&password=iloveyou&appid=otn``` 的长度。服务器收到一个数据包后，先从包头解析出这个字段的值，再根据这个值去读取相应长度的作为 HTTP 协议的包体数据。\n\n\u3000\u3000还有一个方式叫做 HTTP chunked（分块）技术，大致意思是将大包分成小包。'}
INFO:root:SQL: select `id`, `summary`, `created_at`, `user_name`, `private`, `user_id`, `content`, `name`, `user_image` from `blogs` where `id`=?
INFO:root:Rows returned: 1
INFO:root:SQL: update `blogs` set `summary`=?, `created_at`=?, `user_name`=?, `private`=?, `user_id`=?, `content`=?, `name`=?, `user_image`=? where `id`=?
INFO:aiohttp.access:106.120.206.159 [23/May/2018:02:54:47 +0000] "POST /api/blogs/00152704246942583a62e643dba43aab710bedefa4f155d000 HTTP/1.1" 200 7122 "http://lxiao.net/manage/blogs/edit?id=00152704246942583a62e643dba43aab710bedefa4f155d000" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/66.0.3359.181 Safari/537.36"
INFO:root:Request: GET /blog/00152704246942583a62e643dba43aab710bedefa4f155d000
INFO:root:Check user: GET /blog/00152704246942583a62e643dba43aab710bedefa4f155d000
INFO:root:SQL: select `id`, `email`, `created_at`, `image`, `name`, `admin`, `passwd` from `users` where `id`=?
INFO:root:Rows returned: 1
INFO:root:Set current user: m15801021028@163.com
INFO:root:Response handler...
INFO:root:Call with arg: {'id': '00152704246942583a62e643dba43aab710bedefa4f155d000'}
INFO:root:SQL: select `id`, `summary`, `created_at`, `user_name`, `private`, `user_id`, `content`, `name`, `user_image` from `blogs` where `id`=?
INFO:root:Rows returned: 1
INFO:root:SQL: select `id`, `content`, `user_name`, `blog_id`, `created_at`, `user_id`, `user_image` from `comments` where blog_id=? order by created_at desc
INFO:root:Rows returned: 0
INFO:aiohttp.access:106.120.206.159 [23/May/2018:02:54:47 +0000] "GET /blog/00152704246942583a62e643dba43aab710bedefa4f155d000 HTTP/1.1" 200 13140 "http://lxiao.net/manage/blogs/edit?id=00152704246942583a62e643dba43aab710bedefa4f155d000" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/66.0.3359.181 Safari/537.36"
INFO:root:Request: GET /
INFO:root:Check user: GET /
INFO:root:Response handler...
INFO:root:Call with arg: {'request': <Request GET / >}
INFO:aiohttp.access:106.11.227.63 [23/May/2018:03:03:20 +0000] "GET / HTTP/1.1" 200 5383 "-" "Mozilla/5.0 (iPad; CPU OS 9_1 like Mac OS X) AppleWebKit/601.1.46 (KHTML, like Gecko) Version/9.0 Mobile/13B143 Safari/601.1"
INFO:root:Request: GET /
INFO:root:Check user: GET /
INFO:root:Response handler...
INFO:root:Call with arg: {'request': <Request GET / >}
INFO:aiohttp.access:163.172.4.153 [23/May/2018:03:13:47 +0000] "GET / HTTP/1.1" 200 5383 "http://lxiao.net/" "Mozilla/5.0 (X11; Ubuntu; Linux x86_64; rv:52.0) Gecko/20100101 Firefox/52.0"
INFO:root:Request: GET /
INFO:root:Check user: GET /
INFO:root:Response handler...
INFO:root:Call with arg: {'request': <Request GET / >}
INFO:aiohttp.access:183.136.190.62 [23/May/2018:03:25:26 +0000] "GET / HTTP/1.1" 200 5402 "-" "Mozilla/5.0 (Windows NT 6.1) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/35.0.1916.153 Safari/537.36"
INFO:root:Request: GET /
INFO:root:Check user: GET /
INFO:root:Response handler...
INFO:root:Call with arg: {'request': <Request GET / >}
INFO:aiohttp.access:177.68.172.142 [23/May/2018:03:28:21 +0000] "GET / HTTP/1.1" 200 5383 "-" "Mozilla/5.0 (Windows NT 6.1; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/52.0.2743.116 Safari/537.36"
INFO:root:Request: GET /
INFO:root:Check user: GET /
INFO:root:Response handler...
INFO:root:Call with arg: {'request': <Request GET / >}
INFO:aiohttp.access:177.68.172.142 [23/May/2018:03:28:21 +0000] "GET / HTTP/1.1" 200 5383 "-" "Mozilla/5.0 (Windows NT 10.0; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/51.0.2704.103 Safari/537.36"
INFO:root:Request: GET /
INFO:root:Check user: GET /
INFO:root:Response handler...
INFO:root:Call with arg: {'request': <Request GET / >}
INFO:aiohttp.access:113.88.15.178 [23/May/2018:03:33:18 +0000] "GET / HTTP/1.1" 200 5402 "-" "Python-urllib/2.7"
INFO:root:Request: GET /
INFO:root:Check user: GET /
INFO:root:Response handler...
INFO:root:Call with arg: {'request': <Request GET / >}
INFO:aiohttp.access:158.85.81.118 [23/May/2018:03:36:50 +0000] "GET / HTTP/1.1" 200 5383 "-" "-"
INFO:root:Request: HEAD /
INFO:root:Check user: HEAD /
INFO:root:Response handler...
INFO:aiohttp.access:59.174.248.230 [23/May/2018:03:54:01 +0000] "HEAD / HTTP/1.1" 405 180 "-" "curl/7.29.0"
INFO:root:Request: HEAD /
INFO:root:Check user: HEAD /
INFO:root:Response handler...
INFO:aiohttp.access:219.140.120.84 [23/May/2018:03:54:07 +0000] "HEAD / HTTP/1.1" 405 180 "-" "curl/7.29.0"
INFO:root:Request: GET /
INFO:root:Check user: GET /
INFO:root:Response handler...
INFO:root:Call with arg: {'request': <Request GET / >}
INFO:aiohttp.access:179.182.253.106 [23/May/2018:04:02:07 +0000] "GET / HTTP/1.1" 200 5383 "-" "Mozilla/5.0 (Windows NT 10.0; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/52.0.2743.116 Safari/537.36"
INFO:root:Request: GET /
INFO:root:Check user: GET /
INFO:root:Response handler...
INFO:root:Call with arg: {'request': <Request GET / >}
INFO:aiohttp.access:139.162.79.87 [23/May/2018:04:08:35 +0000] "GET / HTTP/1.1" 200 5402 "-" "Mozilla/5.0"
INFO:root:Request: GET /
INFO:root:Check user: GET /
INFO:root:Response handler...
INFO:root:Call with arg: {'request': <Request GET / >}
INFO:aiohttp.access:209.126.136.4 [23/May/2018:04:10:37 +0000] "GET / HTTP/1.1" 200 5383 "-" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/57.0.2987.133 Safari/537.36"
INFO:root:Request: GET /
INFO:root:Check user: GET /
INFO:root:Response handler...
INFO:root:Call with arg: {'request': <Request GET / >}
INFO:aiohttp.access:165.16.42.28 [23/May/2018:04:22:20 +0000] "GET / HTTP/1.1" 200 5383 "-" "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_11_6) AppleWebKit/601.7.7 (KHTML, like Gecko) Version/9.1.2 Safari/601.7.7"
INFO:root:Request: GET /
INFO:root:Check user: GET /
INFO:root:Response handler...
INFO:root:Call with arg: {'request': <Request GET / >}
INFO:aiohttp.access:103.46.236.173 [23/May/2018:05:54:45 +0000] "GET / HTTP/1.1" 200 5383 "-" "Mozilla/5.0 (Windows NT 10.0; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/52.0.2743.116 Safari/537.36"
INFO:root:Request: GET /
INFO:root:Check user: GET /
INFO:root:Response handler...
INFO:root:Call with arg: {'request': <Request GET / >}
INFO:aiohttp.access:64.56.232.215 [23/May/2018:06:03:56 +0000] "GET / HTTP/1.1" 200 5383 "-" "Mozilla/5.0 (Windows NT 10.0; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/52.0.2743.116 Safari/537.36"
INFO:root:Request: GET /
INFO:root:Check user: GET /
INFO:root:Response handler...
INFO:root:Call with arg: {'request': <Request GET / >}
INFO:aiohttp.access:106.120.206.159 [23/May/2018:06:13:28 +0000] "GET / HTTP/1.1" 200 5383 "-" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/66.0.3359.181 Safari/537.36"
INFO:root:Request: GET /static/css/markdown.min.css
INFO:root:Check user: GET /static/css/markdown.min.css
INFO:root:Response handler...
INFO:aiohttp.access:106.120.206.159 [23/May/2018:06:13:29 +0000] "GET /static/css/markdown.min.css HTTP/1.1" 304 141 "http://www.lxiao.net:8000/" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/66.0.3359.181 Safari/537.36"
INFO:root:Request: GET /static/css/markdown.css
INFO:root:Check user: GET /static/css/markdown.css
INFO:root:Response handler...
INFO:aiohttp.access:106.120.206.159 [23/May/2018:06:13:29 +0000] "GET /static/css/markdown.css HTTP/1.1" 304 141 "http://www.lxiao.net:8000/" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/66.0.3359.181 Safari/537.36"
INFO:root:Request: GET /
INFO:root:Check user: GET /
INFO:root:SQL: select `id`, `email`, `created_at`, `image`, `name`, `admin`, `passwd` from `users` where `id`=?
INFO:root:Rows returned: 1
INFO:root:Set current user: m15801021028@163.com
INFO:root:Response handler...
INFO:root:Call with arg: {'request': <Request GET / >}
INFO:aiohttp.access:106.120.206.159 [23/May/2018:06:13:29 +0000] "GET / HTTP/1.1" 200 5577 "-" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/66.0.3359.181 Safari/537.36"
INFO:root:Request: GET /api/blogs
INFO:root:Check user: GET /api/blogs
INFO:root:SQL: select `id`, `email`, `created_at`, `image`, `name`, `admin`, `passwd` from `users` where `id`=?
INFO:root:Rows returned: 1
INFO:root:Set current user: m15801021028@163.com
INFO:root:Response handler...
INFO:root:Call with arg: {'request': <Request GET /api/blogs >, 'page': '1'}
INFO:root:SQL: select count(id) _num_ from `blogs`
INFO:root:Rows returned: 1
INFO:root:SQL: select `id`, `summary`, `created_at`, `user_name`, `private`, `user_id`, `content`, `name`, `user_image` from `blogs` order by created_at desc limit ?, ?
INFO:root:Rows returned: 5
INFO:aiohttp.access:106.120.206.159 [23/May/2018:06:13:31 +0000] "GET /api/blogs?page=1 HTTP/1.1" 200 26445 "http://lxiao.net/" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/66.0.3359.181 Safari/537.36"
INFO:root:Request: GET /
INFO:root:Check user: GET /
INFO:root:Response handler...
INFO:root:Call with arg: {'request': <Request GET / >}
INFO:aiohttp.access:213.192.24.130 [23/May/2018:07:10:38 +0000] "GET / HTTP/1.1" 200 5383 "-" "Mozilla/5.0 (Windows NT 10.0; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/52.0.2743.116 Safari/537.36"
INFO:root:Request: GET /
INFO:root:Check user: GET /
INFO:root:Response handler...
INFO:root:Call with arg: {'request': <Request GET / >}
INFO:aiohttp.access:101.200.121.9 [23/May/2018:07:25:50 +0000] "GET / HTTP/1.1" 200 5402 "-" "-"
INFO:root:Request: GET /
INFO:root:Check user: GET /
INFO:root:Response handler...
INFO:root:Call with arg: {'request': <Request GET / >}
INFO:aiohttp.access:101.200.121.9 [23/May/2018:07:26:33 +0000] "GET / HTTP/1.1" 200 5402 "-" "-"
INFO:root:Request: GET /
INFO:root:Check user: GET /
INFO:root:Response handler...
INFO:root:Call with arg: {'request': <Request GET / >}
INFO:aiohttp.access:78.180.76.138 [23/May/2018:07:48:22 +0000] "GET / HTTP/1.1" 200 5383 "-" "Mozilla/5.0 (Windows NT 6.1; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/52.0.2743.116 Safari/537.36"
INFO:root:Request: GET /
INFO:root:Check user: GET /
INFO:root:Response handler...
INFO:root:Call with arg: {'request': <Request GET / >}
INFO:aiohttp.access:141.212.122.16 [23/May/2018:07:52:01 +0000] "GET / HTTP/1.1" 200 5383 "-" "Mozilla/5.0 zgrab/0.x"
INFO:root:Request: GET /cache/global/img/gs.gif
INFO:root:Check user: GET /cache/global/img/gs.gif
INFO:root:Response handler...
INFO:aiohttp.access:80.82.78.50 [23/May/2018:07:57:47 +0000] "GET http://www.baidu.com/cache/global/img/gs.gif HTTP/1.1" 404 173 "-" "Mozilla"
INFO:root:Request: GET /cache/global/img/gs.gif
INFO:root:Check user: GET /cache/global/img/gs.gif
INFO:root:Response handler...
INFO:aiohttp.access:80.82.70.187 [23/May/2018:07:59:57 +0000] "GET http://www.baidu.com/cache/global/img/gs.gif HTTP/1.1" 404 173 "-" "Mozilla"
INFO:root:Request: GET /
INFO:root:Check user: GET /
INFO:root:Response handler...
INFO:root:Call with arg: {'request': <Request GET / >}
INFO:aiohttp.access:213.186.141.190 [23/May/2018:08:01:41 +0000] "GET / HTTP/1.1" 200 5383 "-" "Mozilla/5.0 (Windows NT 10.0; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/51.0.2704.103 Safari/537.36"
INFO:root:Request: GET /
INFO:root:Check user: GET /
INFO:root:Response handler...
INFO:root:Call with arg: {'request': <Request GET / >}
INFO:aiohttp.access:113.88.15.178 [23/May/2018:08:02:13 +0000] "GET / HTTP/1.1" 200 5402 "-" "Python-urllib/2.7"
INFO:root:Request: GET /
INFO:root:Check user: GET /
INFO:root:Response handler...
INFO:root:Call with arg: {'request': <Request GET / >}
INFO:aiohttp.access:114.215.45.101 [23/May/2018:08:55:06 +0000] "GET / HTTP/1.1" 200 5402 "-" "-"
INFO:root:Request: GET /
INFO:root:Check user: GET /
INFO:root:Response handler...
INFO:root:Call with arg: {'request': <Request GET / >}
INFO:aiohttp.access:123.125.71.17 [23/May/2018:08:55:10 +0000] "GET / HTTP/1.1" 200 5402 "-" "Mozilla/5.0 (compatible; Baiduspider/2.0; +http://www.baidu.com/search/spider.html)"
INFO:root:Request: GET /api/blogs
INFO:root:Check user: GET /api/blogs
INFO:root:Response handler...
INFO:root:Call with arg: {'request': <Request GET /api/blogs >, 'page': '1'}
INFO:root:SQL: select count(id) _num_ from `blogs` where private is null or private is false
INFO:root:Rows returned: 1
INFO:root:SQL: select `id`, `summary`, `created_at`, `user_name`, `private`, `user_id`, `content`, `name`, `user_image` from `blogs` where private is null or private is false order by created_at desc limit ?, ?
INFO:root:Rows returned: 5
INFO:aiohttp.access:111.206.221.75 [23/May/2018:08:55:12 +0000] "GET /api/blogs?page=1 HTTP/1.1" 200 27312 "http://www.lxiao.net/" "Mozilla/5.0 (compatible; Baiduspider-render/2.0; +http://www.baidu.com/search/spider.html)"
INFO:root:Request: GET /
INFO:root:Check user: GET /
INFO:root:Response handler...
INFO:root:Call with arg: {'request': <Request GET / >}
INFO:aiohttp.access:154.70.125.243 [23/May/2018:09:56:03 +0000] "GET / HTTP/1.1" 200 5383 "-" "Mozilla/5.0 (Windows NT 6.1; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/52.0.2743.116 Safari/537.36"
INFO:root:Request: GET /robots.txt
INFO:root:Check user: GET /robots.txt
INFO:root:Response handler...
INFO:aiohttp.access:203.208.60.240 [23/May/2018:10:53:02 +0000] "GET /robots.txt HTTP/1.1" 404 173 "-" "Mozilla/5.0 (compatible; Googlebot/2.1; +http://www.google.com/bot.html)"
INFO:root:Request: GET /
INFO:root:Check user: GET /
INFO:root:Response handler...
INFO:root:Call with arg: {'request': <Request GET / >}
INFO:aiohttp.access:203.208.60.240 [23/May/2018:10:53:02 +0000] "GET / HTTP/1.1" 200 5383 "-" "Mozilla/5.0 (compatible; Googlebot/2.1; +http://www.google.com/bot.html)"
INFO:root:Request: GET /static/css/pygments-css/emacs.css
INFO:root:Check user: GET /static/css/pygments-css/emacs.css
INFO:root:Response handler...
INFO:aiohttp.access:203.208.60.240 [23/May/2018:10:53:04 +0000] "GET /static/css/pygments-css/emacs.css HTTP/1.1" 200 4620 "http://lxiao.net/" "Mozilla/5.0 (compatible; Googlebot/2.1; +http://www.google.com/bot.html)"
INFO:root:Request: GET /static/css/markdown.css
INFO:root:Check user: GET /static/css/markdown.css
INFO:root:Response handler...
INFO:aiohttp.access:203.208.60.240 [23/May/2018:10:53:05 +0000] "GET /static/css/markdown.css HTTP/1.1" 200 3729 "http://lxiao.net/" "Mozilla/5.0 (compatible; Googlebot/2.1; +http://www.google.com/bot.html)"
INFO:root:Request: GET /static/css/uikit.min.css
INFO:root:Check user: GET /static/css/uikit.min.css
INFO:root:Response handler...
INFO:aiohttp.access:203.208.60.240 [23/May/2018:10:53:05 +0000] "GET /static/css/uikit.min.css HTTP/1.1" 200 69779 "http://lxiao.net/" "Mozilla/5.0 (compatible; Googlebot/2.1; +http://www.google.com/bot.html)"
INFO:root:Request: GET /static/js/uikit.min.js
INFO:root:Check user: GET /static/js/uikit.min.js
INFO:root:Response handler...
INFO:aiohttp.access:203.208.60.240 [23/May/2018:10:53:06 +0000] "GET /static/js/uikit.min.js HTTP/1.1" 200 34472 "http://lxiao.net/" "Mozilla/5.0 (compatible; Googlebot/2.1; +http://www.google.com/bot.html)"
INFO:root:Request: GET /static/css/markdown.min.css
INFO:root:Check user: GET /static/css/markdown.min.css
INFO:root:Response handler...
INFO:aiohttp.access:203.208.60.240 [23/May/2018:10:53:06 +0000] "GET /static/css/markdown.min.css HTTP/1.1" 200 2708 "http://lxiao.net/" "Mozilla/5.0 (compatible; Googlebot/2.1; +http://www.google.com/bot.html)"
INFO:root:Request: GET /static/js/sha1.min.js
INFO:root:Check user: GET /static/js/sha1.min.js
INFO:root:Response handler...
INFO:aiohttp.access:203.208.60.240 [23/May/2018:10:53:07 +0000] "GET /static/js/sha1.min.js HTTP/1.1" 200 4490 "http://lxiao.net/" "Mozilla/5.0 (compatible; Googlebot/2.1; +http://www.google.com/bot.html)"
INFO:root:Request: GET /static/js/jquery.min.js
INFO:root:Check user: GET /static/js/jquery.min.js
INFO:root:Response handler...
INFO:aiohttp.access:203.208.60.240 [23/May/2018:10:53:07 +0000] "GET /static/js/jquery.min.js HTTP/1.1" 200 93219 "http://lxiao.net/" "Mozilla/5.0 (compatible; Googlebot/2.1; +http://www.google.com/bot.html)"
INFO:root:Request: GET /static/css/awesome.css
INFO:root:Check user: GET /static/css/awesome.css
INFO:root:Response handler...
INFO:aiohttp.access:203.208.60.240 [23/May/2018:10:53:08 +0000] "GET /static/css/awesome.css HTTP/1.1" 200 373 "http://lxiao.net/" "Mozilla/5.0 (compatible; Googlebot/2.1; +http://www.google.com/bot.html)"
INFO:root:Request: GET /static/js/awesome.js
INFO:root:Check user: GET /static/js/awesome.js
INFO:root:Response handler...
INFO:aiohttp.access:203.208.60.240 [23/May/2018:10:53:08 +0000] "GET /static/js/awesome.js HTTP/1.1" 200 16253 "http://lxiao.net/" "Mozilla/5.0 (compatible; Googlebot/2.1; +http://www.google.com/bot.html)"
INFO:root:Request: GET /static/css/uikit.gradient.min.css
INFO:root:Check user: GET /static/css/uikit.gradient.min.css
INFO:root:Response handler...
INFO:aiohttp.access:203.208.60.240 [23/May/2018:10:53:08 +0000] "GET /static/css/uikit.gradient.min.css HTTP/1.1" 200 79016 "http://lxiao.net/" "Mozilla/5.0 (compatible; Googlebot/2.1; +http://www.google.com/bot.html)"
INFO:root:Request: GET /api/blogs
INFO:root:Check user: GET /api/blogs
INFO:root:Response handler...
INFO:root:Call with arg: {'request': <Request GET /api/blogs >, 'page': '1'}
INFO:root:SQL: select count(id) _num_ from `blogs` where private is null or private is false
INFO:root:Rows returned: 1
INFO:root:SQL: select `id`, `summary`, `created_at`, `user_name`, `private`, `user_id`, `content`, `name`, `user_image` from `blogs` where private is null or private is false order by created_at desc limit ?, ?
INFO:root:Rows returned: 5
INFO:aiohttp.access:203.208.60.240 [23/May/2018:10:53:09 +0000] "GET /api/blogs?page=1 HTTP/1.1" 200 27312 "http://lxiao.net/" "Mozilla/5.0 (compatible; Googlebot/2.1; +http://www.google.com/bot.html)"
INFO:root:Request: GET /
INFO:root:Check user: GET /
INFO:root:Response handler...
INFO:root:Call with arg: {'request': <Request GET / >}
INFO:aiohttp.access:137.226.13.23 [23/May/2018:10:57:44 +0000] "GET / HTTP/1.1" 200 5383 "-" "Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Ubuntu Chromium/66.0.3359.139 HeadlessChrome/66.0.3359.139 Safari/537.36"
INFO:root:Request: GET /static/css/markdown.min.css
INFO:root:Check user: GET /static/css/markdown.min.css
INFO:root:Response handler...
INFO:aiohttp.access:137.226.13.23 [23/May/2018:10:57:44 +0000] "GET /static/css/markdown.min.css HTTP/1.1" 200 2708 "http://www.lxiao.net/" "Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Ubuntu Chromium/66.0.3359.139 HeadlessChrome/66.0.3359.139 Safari/537.36"
INFO:root:Request: GET /static/css/markdown.css
INFO:root:Check user: GET /static/css/markdown.css
INFO:root:Response handler...
INFO:aiohttp.access:137.226.13.23 [23/May/2018:10:57:44 +0000] "GET /static/css/markdown.css HTTP/1.1" 200 3729 "http://www.lxiao.net/" "Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Ubuntu Chromium/66.0.3359.139 HeadlessChrome/66.0.3359.139 Safari/537.36"
INFO:root:Request: GET /static/css/uikit.min.css
INFO:root:Check user: GET /static/css/uikit.min.css
INFO:root:Response handler...
INFO:aiohttp.access:137.226.13.23 [23/May/2018:10:57:44 +0000] "GET /static/css/uikit.min.css HTTP/1.1" 200 69779 "http://www.lxiao.net/" "Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Ubuntu Chromium/66.0.3359.139 HeadlessChrome/66.0.3359.139 Safari/537.36"
INFO:root:Request: GET /static/js/sha1.min.js
INFO:root:Check user: GET /static/js/sha1.min.js
INFO:root:Response handler...
INFO:aiohttp.access:137.226.13.23 [23/May/2018:10:57:44 +0000] "GET /static/js/sha1.min.js HTTP/1.1" 200 4490 "http://www.lxiao.net/" "Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Ubuntu Chromium/66.0.3359.139 HeadlessChrome/66.0.3359.139 Safari/537.36"
INFO:root:Request: GET /static/css/pygments-css/emacs.css
INFO:root:Check user: GET /static/css/pygments-css/emacs.css
INFO:root:Response handler...
INFO:aiohttp.access:137.226.13.23 [23/May/2018:10:57:44 +0000] "GET /static/css/pygments-css/emacs.css HTTP/1.1" 200 4620 "http://www.lxiao.net/" "Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Ubuntu Chromium/66.0.3359.139 HeadlessChrome/66.0.3359.139 Safari/537.36"
INFO:root:Request: GET /static/css/awesome.css
INFO:root:Check user: GET /static/css/awesome.css
INFO:root:Response handler...
INFO:aiohttp.access:137.226.13.23 [23/May/2018:10:57:44 +0000] "GET /static/css/awesome.css HTTP/1.1" 200 373 "http://www.lxiao.net/" "Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Ubuntu Chromium/66.0.3359.139 HeadlessChrome/66.0.3359.139 Safari/537.36"
INFO:root:Request: GET /static/css/uikit.gradient.min.css
INFO:root:Check user: GET /static/css/uikit.gradient.min.css
INFO:root:Response handler...
INFO:aiohttp.access:137.226.13.23 [23/May/2018:10:57:44 +0000] "GET /static/css/uikit.gradient.min.css HTTP/1.1" 200 79016 "http://www.lxiao.net/" "Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Ubuntu Chromium/66.0.3359.139 HeadlessChrome/66.0.3359.139 Safari/537.36"
INFO:root:Request: GET /static/js/jquery.min.js
INFO:root:Check user: GET /static/js/jquery.min.js
INFO:root:Response handler...
INFO:root:Request: GET /static/js/uikit.min.js
INFO:root:Check user: GET /static/js/uikit.min.js
INFO:root:Response handler...
INFO:aiohttp.access:137.226.13.23 [23/May/2018:10:57:44 +0000] "GET /static/js/uikit.min.js HTTP/1.1" 200 34472 "http://www.lxiao.net/" "Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Ubuntu Chromium/66.0.3359.139 HeadlessChrome/66.0.3359.139 Safari/537.36"
INFO:root:Request: GET /static/js/vue.min.js
INFO:root:Check user: GET /static/js/vue.min.js
INFO:root:Response handler...
INFO:aiohttp.access:137.226.13.23 [23/May/2018:10:57:44 +0000] "GET /static/js/vue.min.js HTTP/1.1" 200 56707 "http://www.lxiao.net/" "Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Ubuntu Chromium/66.0.3359.139 HeadlessChrome/66.0.3359.139 Safari/537.36"
INFO:root:Request: GET /static/js/sticky.min.js
INFO:root:Check user: GET /static/js/sticky.min.js
INFO:root:Response handler...
INFO:aiohttp.access:137.226.13.23 [23/May/2018:10:57:44 +0000] "GET /static/js/sticky.min.js HTTP/1.1" 200 2394 "http://www.lxiao.net/" "Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Ubuntu Chromium/66.0.3359.139 HeadlessChrome/66.0.3359.139 Safari/537.36"
INFO:aiohttp.access:137.226.13.23 [23/May/2018:10:57:45 +0000] "GET /static/js/jquery.min.js HTTP/1.1" 200 93219 "http://www.lxiao.net/" "Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Ubuntu Chromium/66.0.3359.139 HeadlessChrome/66.0.3359.139 Safari/537.36"
INFO:root:Request: GET /static/js/awesome.js
INFO:root:Check user: GET /static/js/awesome.js
INFO:root:Response handler...
INFO:aiohttp.access:137.226.13.23 [23/May/2018:10:57:45 +0000] "GET /static/js/awesome.js HTTP/1.1" 200 16253 "http://www.lxiao.net/" "Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Ubuntu Chromium/66.0.3359.139 HeadlessChrome/66.0.3359.139 Safari/537.36"
INFO:root:Request: GET /static/fonts/fontawesome-webfont.woff
INFO:root:Check user: GET /static/fonts/fontawesome-webfont.woff
INFO:root:Response handler...
INFO:aiohttp.access:137.226.13.23 [23/May/2018:10:57:47 +0000] "GET /static/fonts/fontawesome-webfont.woff HTTP/1.1" 200 44629 "http://www.lxiao.net/static/css/uikit.min.css" "Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Ubuntu Chromium/66.0.3359.139 HeadlessChrome/66.0.3359.139 Safari/537.36"
INFO:root:Request: GET /api/blogs
INFO:root:Check user: GET /api/blogs
INFO:root:Response handler...
INFO:root:Call with arg: {'request': <Request GET /api/blogs >, 'page': '1'}
INFO:root:SQL: select count(id) _num_ from `blogs` where private is null or private is false
INFO:root:Rows returned: 1
INFO:root:SQL: select `id`, `summary`, `created_at`, `user_name`, `private`, `user_id`, `content`, `name`, `user_image` from `blogs` where private is null or private is false order by created_at desc limit ?, ?
INFO:root:Rows returned: 5
INFO:aiohttp.access:137.226.13.23 [23/May/2018:10:57:47 +0000] "GET /api/blogs?page=1 HTTP/1.1" 200 27312 "http://www.lxiao.net/" "Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Ubuntu Chromium/66.0.3359.139 HeadlessChrome/66.0.3359.139 Safari/537.36"
ERROR:aiohttp.server:Error handling request
Traceback (most recent call last):
  File "/usr/local/lib/python3.5/dist-packages/aiohttp/web_protocol.py", line 272, in data_received
    messages, upgraded, tail = self._request_parser.feed_data(data)
  File "aiohttp/_http_parser.pyx", line 295, in aiohttp._http_parser.HttpParser.feed_data
aiohttp.http_exceptions.BadStatusLine: invalid HTTP method
INFO:root:Request: GET /
INFO:root:Check user: GET /
INFO:root:Response handler...
INFO:root:Call with arg: {'request': <Request GET / >}
INFO:aiohttp.access:139.162.41.156 [23/May/2018:11:15:45 +0000] "GET / HTTP/1.1" 200 5383 "-" "Mozilla/5.0 (Windows NT; FreeBSD; Debian; Android) Gecko/20170101 Firefox Chrome Safaria"
INFO:root:Request: GET /
INFO:root:Check user: GET /
INFO:root:Response handler...
INFO:root:Call with arg: {'request': <Request GET / >}
INFO:aiohttp.access:23.247.17.206 [23/May/2018:11:39:19 +0000] "GET / HTTP/1.1" 200 5383 "-" "Mozilla/4.0 (compatible; MSIE 8.0; Windows NT 6.1; Trident/4.0; SLCC2; .NET CLR 2.0.50727; .NET CLR 3.5.30729; .NET CLR 3.0.30729; Media Center PC 6.0)"
INFO:root:Request: GET /
INFO:root:Check user: GET /
INFO:root:Response handler...
INFO:root:Call with arg: {'request': <Request GET / >}
INFO:aiohttp.access:190.94.144.29 [23/May/2018:11:47:42 +0000] "GET / HTTP/1.1" 200 5383 "-" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/63.0.3239.132 Safari/537.36"
INFO:root:Request: GET /cache/global/img/gs.gif
INFO:root:Check user: GET /cache/global/img/gs.gif
INFO:root:Response handler...
INFO:aiohttp.access:80.82.70.187 [23/May/2018:11:56:51 +0000] "GET http://www.baidu.com/cache/global/img/gs.gif HTTP/1.1" 404 173 "-" "Mozilla"
INFO:root:Request: GET /cache/global/img/gs.gif
INFO:root:Check user: GET /cache/global/img/gs.gif
INFO:root:Response handler...
INFO:aiohttp.access:80.82.70.187 [23/May/2018:11:56:53 +0000] "GET http://www.baidu.com/cache/global/img/gs.gif HTTP/1.1" 404 173 "-" "Mozilla"
INFO:root:Request: GET /
INFO:root:Check user: GET /
INFO:root:Response handler...
INFO:root:Call with arg: {'request': <Request GET / >}
INFO:aiohttp.access:189.166.18.92 [23/May/2018:11:57:50 +0000] "GET / HTTP/1.1" 200 5383 "-" "Mozilla/5.0 (Windows NT 10.0; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/52.0.2743.116 Safari/537.36"
INFO:root:Request: GET /
INFO:root:Check user: GET /
INFO:root:Response handler...
INFO:root:Call with arg: {'request': <Request GET / >}
INFO:aiohttp.access:45.115.172.209 [23/May/2018:12:08:05 +0000] "GET / HTTP/1.1" 200 5383 "-" "Mozilla/5.0 (Windows NT 10.0; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/52.0.2743.116 Safari/537.36"
INFO:root:Request: GET /echo.php
INFO:root:Check user: GET /echo.php
INFO:root:Response handler...
INFO:aiohttp.access:139.162.88.63 [23/May/2018:12:28:47 +0000] "GET http://clientapi.ipip.net/echo.php?info=1234567890 HTTP/1.1" 404 192 "-" "Go-http-client/1.1"
INFO:root:Request: GET /robots.txt
INFO:root:Check user: GET /robots.txt
INFO:root:Response handler...
INFO:aiohttp.access:157.55.39.51 [23/May/2018:12:48:42 +0000] "GET /robots.txt HTTP/1.1" 404 173 "-" "Mozilla/5.0 (compatible; bingbot/2.0; +http://www.bing.com/bingbot.htm)"
INFO:root:Request: GET /
INFO:root:Check user: GET /
INFO:root:Response handler...
INFO:root:Call with arg: {'request': <Request GET / >}
INFO:aiohttp.access:157.55.39.196 [23/May/2018:12:51:42 +0000] "GET / HTTP/1.1" 200 5383 "-" "Mozilla/5.0 (compatible; bingbot/2.0; +http://www.bing.com/bingbot.htm)"
INFO:root:Request: GET /
INFO:root:Check user: GET /
INFO:root:Response handler...
INFO:root:Call with arg: {'request': <Request GET / >}
INFO:aiohttp.access:197.210.201.2 [23/May/2018:13:48:30 +0000] "GET / HTTP/1.1" 200 5383 "-" "Mozilla/5.0 (Windows NT 10.0; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/51.0.2704.103 Safari/537.36"
ERROR:aiohttp.server:Error handling request
Traceback (most recent call last):
  File "/usr/local/lib/python3.5/dist-packages/aiohttp/web_protocol.py", line 272, in data_received
    messages, upgraded, tail = self._request_parser.feed_data(data)
  File "aiohttp/_http_parser.pyx", line 295, in aiohttp._http_parser.HttpParser.feed_data
aiohttp.http_exceptions.BadStatusLine: invalid HTTP method
INFO:root:Request: GET /
INFO:root:Check user: GET /
INFO:root:Response handler...
INFO:root:Call with arg: {'request': <Request GET / >}
INFO:aiohttp.access:189.111.99.161 [23/May/2018:14:10:03 +0000] "GET / HTTP/1.1" 200 5383 "-" "Mozilla/5.0 (Windows NT 6.1; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/52.0.2743.116 Safari/537.36"
INFO:root:Request: GET /
INFO:root:Check user: GET /
INFO:root:Response handler...
INFO:root:Call with arg: {'request': <Request GET / >}
INFO:aiohttp.access:101.37.34.212 [23/May/2018:14:10:10 +0000] "GET / HTTP/1.1" 200 5383 "http://www.lxiao.net:80/" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/59.0.3071.115 Safari/537.36"
INFO:root:Request: GET /
INFO:root:Check user: GET /
INFO:root:Response handler...
INFO:root:Call with arg: {'request': <Request GET / >}
INFO:aiohttp.access:101.37.34.212 [23/May/2018:14:10:10 +0000] "GET / HTTP/1.1" 200 5383 "http://lxiao.net:80/" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/59.0.3071.115 Safari/537.36"
INFO:root:Request: GET /explicit_not_exist_path
INFO:root:Check user: GET /explicit_not_exist_path
INFO:root:Response handler...
INFO:aiohttp.access:101.37.34.212 [23/May/2018:14:10:10 +0000] "GET /explicit_not_exist_path HTTP/1.1" 404 173 "http://www.lxiao.net/explicit_not_exist_path" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/59.0.3071.115 Safari/537.36"
INFO:root:Request: GET /explicit_not_exist_path
INFO:root:Check user: GET /explicit_not_exist_path
INFO:root:Response handler...
INFO:aiohttp.access:101.37.34.212 [23/May/2018:14:10:10 +0000] "GET /explicit_not_exist_path HTTP/1.1" 404 173 "http://lxiao.net/explicit_not_exist_path" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/59.0.3071.115 Safari/537.36"
INFO:root:Request: GET /index.html
INFO:root:Check user: GET /index.html
INFO:root:Response handler...
INFO:aiohttp.access:101.37.34.212 [23/May/2018:14:10:10 +0000] "GET /index.html HTTP/1.1" 404 173 "http://www.lxiao.net/index.html" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/59.0.3071.115 Safari/537.36"
INFO:root:Request: GET /index.html
INFO:root:Check user: GET /index.html
INFO:root:Response handler...
INFO:aiohttp.access:101.37.34.212 [23/May/2018:14:10:10 +0000] "GET /index.html HTTP/1.1" 404 173 "http://lxiao.net/index.html" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/59.0.3071.115 Safari/537.36"
INFO:root:Request: GET /index.php
INFO:root:Check user: GET /index.php
INFO:root:Response handler...
INFO:aiohttp.access:101.37.34.212 [23/May/2018:14:10:10 +0000] "GET /index.php HTTP/1.1" 404 173 "http://www.lxiao.net/index.php" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/59.0.3071.115 Safari/537.36"
INFO:root:Request: GET /index.php
INFO:root:Check user: GET /index.php
INFO:root:Response handler...
INFO:aiohttp.access:101.37.34.212 [23/May/2018:14:10:10 +0000] "GET /index.php HTTP/1.1" 404 173 "http://lxiao.net/index.php" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/59.0.3071.115 Safari/537.36"
INFO:root:Request: GET /index.jsp
INFO:root:Check user: GET /index.jsp
INFO:root:Response handler...
INFO:aiohttp.access:101.37.34.212 [23/May/2018:14:10:10 +0000] "GET /index.jsp HTTP/1.1" 404 173 "http://www.lxiao.net/index.jsp" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/59.0.3071.115 Safari/537.36"
INFO:root:Request: GET /index.jsp
INFO:root:Check user: GET /index.jsp
INFO:root:Response handler...
INFO:aiohttp.access:101.37.34.212 [23/May/2018:14:10:10 +0000] "GET /index.jsp HTTP/1.1" 404 173 "http://lxiao.net/index.jsp" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/59.0.3071.115 Safari/537.36"
INFO:root:Request: GET /admin/
INFO:root:Check user: GET /admin/
INFO:root:Response handler...
INFO:aiohttp.access:101.37.34.212 [23/May/2018:14:10:10 +0000] "GET /admin/ HTTP/1.1" 404 173 "http://www.lxiao.net/admin/" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/59.0.3071.115 Safari/537.36"
INFO:root:Request: GET /admin/
INFO:root:Check user: GET /admin/
INFO:root:Response handler...
INFO:aiohttp.access:101.37.34.212 [23/May/2018:14:10:10 +0000] "GET /admin/ HTTP/1.1" 404 173 "http://lxiao.net/admin/" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/59.0.3071.115 Safari/537.36"
INFO:root:Request: GET /favicon.ico
INFO:root:Check user: GET /favicon.ico
INFO:root:Response handler...
INFO:aiohttp.access:101.37.34.212 [23/May/2018:14:10:11 +0000] "GET /favicon.ico HTTP/1.1" 404 173 "http://www.lxiao.net/favicon.ico" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/59.0.3071.115 Safari/537.36"
INFO:root:Request: GET /favicon.ico
INFO:root:Check user: GET /favicon.ico
INFO:root:Response handler...
INFO:aiohttp.access:101.37.34.212 [23/May/2018:14:10:11 +0000] "GET /favicon.ico HTTP/1.1" 404 173 "http://lxiao.net/favicon.ico" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/59.0.3071.115 Safari/537.36"
INFO:root:Request: GET /README
INFO:root:Check user: GET /README
INFO:root:Response handler...
INFO:aiohttp.access:101.37.34.212 [23/May/2018:14:10:11 +0000] "GET /README HTTP/1.1" 404 173 "http://lxiao.net/README" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/59.0.3071.115 Safari/537.36"
INFO:root:Request: GET /README
INFO:root:Check user: GET /README
INFO:root:Response handler...
INFO:aiohttp.access:101.37.34.212 [23/May/2018:14:10:11 +0000] "GET /README HTTP/1.1" 404 173 "http://www.lxiao.net/README" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/59.0.3071.115 Safari/537.36"
INFO:root:Request: GET /robots.txt
INFO:root:Check user: GET /robots.txt
INFO:root:Response handler...
INFO:aiohttp.access:101.37.34.212 [23/May/2018:14:10:11 +0000] "GET /robots.txt HTTP/1.1" 404 173 "http://lxiao.net/robots.txt" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/59.0.3071.115 Safari/537.36"
INFO:root:Request: GET /robots.txt
INFO:root:Check user: GET /robots.txt
INFO:root:Response handler...
INFO:aiohttp.access:101.37.34.212 [23/May/2018:14:10:11 +0000] "GET /robots.txt HTTP/1.1" 404 173 "http://www.lxiao.net/robots.txt" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/59.0.3071.115 Safari/537.36"
INFO:root:Request: GET /phpMyAdmin/
INFO:root:Check user: GET /phpMyAdmin/
INFO:root:Response handler...
INFO:aiohttp.access:101.37.34.212 [23/May/2018:14:10:11 +0000] "GET /phpMyAdmin/ HTTP/1.1" 404 173 "http://lxiao.net/phpMyAdmin/" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/59.0.3071.115 Safari/537.36"
INFO:root:Request: GET /phpMyAdmin/
INFO:root:Check user: GET /phpMyAdmin/
INFO:root:Response handler...
INFO:aiohttp.access:101.37.34.212 [23/May/2018:14:10:11 +0000] "GET /phpMyAdmin/ HTTP/1.1" 404 173 "http://www.lxiao.net/phpMyAdmin/" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/59.0.3071.115 Safari/537.36"
INFO:root:Request: GET /phpmyadmin/
INFO:root:Check user: GET /phpmyadmin/
INFO:root:Response handler...
INFO:aiohttp.access:101.37.34.212 [23/May/2018:14:10:11 +0000] "GET /phpmyadmin/ HTTP/1.1" 404 173 "http://lxiao.net/phpmyadmin/" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/59.0.3071.115 Safari/537.36"
INFO:root:Request: GET /phpmyadmin/
INFO:root:Check user: GET /phpmyadmin/
INFO:root:Response handler...
INFO:aiohttp.access:101.37.34.212 [23/May/2018:14:10:11 +0000] "GET /phpmyadmin/ HTTP/1.1" 404 173 "http://www.lxiao.net/phpmyadmin/" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/59.0.3071.115 Safari/537.36"
INFO:root:Request: GET /pma/
INFO:root:Check user: GET /pma/
INFO:root:Response handler...
INFO:aiohttp.access:101.37.34.212 [23/May/2018:14:10:11 +0000] "GET /pma/ HTTP/1.1" 404 173 "http://lxiao.net/pma/" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/59.0.3071.115 Safari/537.36"
INFO:root:Request: GET /pma/
INFO:root:Check user: GET /pma/
INFO:root:Response handler...
INFO:aiohttp.access:101.37.34.212 [23/May/2018:14:10:11 +0000] "GET /pma/ HTTP/1.1" 404 173 "http://www.lxiao.net/pma/" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/59.0.3071.115 Safari/537.36"
INFO:root:Request: GET /solr/
INFO:root:Check user: GET /solr/
INFO:root:Response handler...
INFO:aiohttp.access:101.37.34.212 [23/May/2018:14:10:11 +0000] "GET /solr/ HTTP/1.1" 404 173 "http://lxiao.net/solr/" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/59.0.3071.115 Safari/537.36"
INFO:root:Request: GET /solr/
INFO:root:Check user: GET /solr/
INFO:root:Response handler...
INFO:aiohttp.access:101.37.34.212 [23/May/2018:14:10:11 +0000] "GET /solr/ HTTP/1.1" 404 173 "http://www.lxiao.net/solr/" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/59.0.3071.115 Safari/537.36"
INFO:root:Request: GET /wcm/
INFO:root:Check user: GET /wcm/
INFO:root:Response handler...
INFO:aiohttp.access:101.37.34.212 [23/May/2018:14:10:11 +0000] "GET /wcm/ HTTP/1.1" 404 173 "http://lxiao.net/wcm/" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/59.0.3071.115 Safari/537.36"
INFO:root:Request: GET /wcm/
INFO:root:Check user: GET /wcm/
INFO:root:Response handler...
INFO:aiohttp.access:101.37.34.212 [23/May/2018:14:10:11 +0000] "GET /wcm/ HTTP/1.1" 404 173 "http://www.lxiao.net/wcm/" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/59.0.3071.115 Safari/537.36"
INFO:root:Request: GET /
INFO:root:Check user: GET /
INFO:root:Response handler...
INFO:root:Call with arg: {'request': <Request GET / >}
INFO:aiohttp.access:203.208.60.241 [23/May/2018:14:21:35 +0000] "GET / HTTP/1.1" 200 5383 "-" "Mozilla/5.0 (compatible; Googlebot/2.1; +http://www.google.com/bot.html)"
INFO:root:Request: GET /static/js/vue.min.js
INFO:root:Check user: GET /static/js/vue.min.js
INFO:root:Response handler...
INFO:aiohttp.access:203.208.60.241 [23/May/2018:14:21:38 +0000] "GET /static/js/vue.min.js HTTP/1.1" 200 56707 "http://lxiao.net/" "Mozilla/5.0 (compatible; Googlebot/2.1; +http://www.google.com/bot.html)"
INFO:root:Request: GET /static/js/sticky.min.js
INFO:root:Check user: GET /static/js/sticky.min.js
INFO:root:Response handler...
INFO:aiohttp.access:203.208.60.241 [23/May/2018:14:21:38 +0000] "GET /static/js/sticky.min.js HTTP/1.1" 200 2394 "http://lxiao.net/" "Mozilla/5.0 (compatible; Googlebot/2.1; +http://www.google.com/bot.html)"
INFO:root:Request: GET /
INFO:root:Check user: GET /
INFO:root:Response handler...
INFO:root:Call with arg: {'request': <Request GET / >}
INFO:aiohttp.access:201.26.23.199 [23/May/2018:14:57:45 +0000] "GET / HTTP/1.1" 200 5383 "-" "Mozilla/5.0 (Windows NT 6.1; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/52.0.2743.116 Safari/537.36"
INFO:root:Request: GET /
INFO:root:Check user: GET /
INFO:root:Response handler...
INFO:root:Call with arg: {'request': <Request GET / >}
INFO:aiohttp.access:139.162.119.197 [23/May/2018:15:28:15 +0000] "GET / HTTP/1.1" 200 5402 "-" "Go-http-client/1.1"
INFO:root:Request: GET /
INFO:root:Check user: GET /
INFO:root:Response handler...
INFO:root:Call with arg: {'request': <Request GET / >}
INFO:aiohttp.access:203.208.60.239 [23/May/2018:15:53:35 +0000] "GET / HTTP/1.1" 200 5383 "-" "Mozilla/5.0 (compatible; Googlebot/2.1; +http://www.google.com/bot.html)"
INFO:root:Request: GET /robots.txt
INFO:root:Check user: GET /robots.txt
INFO:root:Response handler...
INFO:aiohttp.access:157.55.39.51 [23/May/2018:16:23:28 +0000] "GET /robots.txt HTTP/1.1" 404 173 "-" "Mozilla/5.0 (compatible; bingbot/2.0; +http://www.bing.com/bingbot.htm)"
INFO:root:Request: GET /
INFO:root:Check user: GET /
INFO:root:Response handler...
INFO:root:Call with arg: {'request': <Request GET / >}
INFO:aiohttp.access:40.77.167.84 [23/May/2018:16:23:32 +0000] "GET / HTTP/1.1" 200 5383 "-" "Mozilla/5.0 (compatible; bingbot/2.0; +http://www.bing.com/bingbot.htm)"
INFO:root:Request: GET /
INFO:root:Check user: GET /
INFO:root:Response handler...
INFO:root:Call with arg: {'request': <Request GET / >}
INFO:aiohttp.access:47.92.2.133 [23/May/2018:16:29:32 +0000] "GET / HTTP/1.1" 200 5402 "-" "-"
INFO:root:Request: GET /
INFO:root:Check user: GET /
INFO:root:Response handler...
INFO:root:Call with arg: {'request': <Request GET / >}
INFO:aiohttp.access:116.62.176.205 [23/May/2018:16:55:51 +0000] "GET / HTTP/1.1" 200 5402 "-" "-"
INFO:root:Request: GET /
INFO:root:Check user: GET /
INFO:root:Response handler...
INFO:root:Call with arg: {'request': <Request GET / >}
INFO:aiohttp.access:123.125.71.51 [23/May/2018:17:00:54 +0000] "GET / HTTP/1.1" 200 5402 "-" "Mozilla/5.0 (compatible; Baiduspider/2.0; +http://www.baidu.com/search/spider.html)"
INFO:root:Request: GET /api/blogs
INFO:root:Check user: GET /api/blogs
INFO:root:Response handler...
INFO:root:Call with arg: {'request': <Request GET /api/blogs >, 'page': '1'}
INFO:root:SQL: select count(id) _num_ from `blogs` where private is null or private is false
INFO:root:Rows returned: 1
INFO:root:SQL: select `id`, `summary`, `created_at`, `user_name`, `private`, `user_id`, `content`, `name`, `user_image` from `blogs` where private is null or private is false order by created_at desc limit ?, ?
INFO:root:Rows returned: 5
INFO:aiohttp.access:111.206.198.45 [23/May/2018:17:00:55 +0000] "GET /api/blogs?page=1 HTTP/1.1" 200 27312 "http://www.lxiao.net/" "Mozilla/5.0 (compatible; Baiduspider-render/2.0; +http://www.baidu.com/search/spider.html)"
INFO:root:Request: GET /
INFO:root:Check user: GET /
INFO:root:Response handler...
INFO:root:Call with arg: {'request': <Request GET / >}
INFO:aiohttp.access:60.191.38.78 [23/May/2018:17:07:56 +0000] "GET / HTTP/1.1" 200 5383 "-" "Mozilla/5.0 (Macintosh; Intel Mac OS X 10.11; rv:47.0) Gecko/20100101 Firefox/47.0"
INFO:root:Request: GET /
INFO:root:Check user: GET /
INFO:root:Response handler...
INFO:root:Call with arg: {'request': <Request GET / >}
INFO:aiohttp.access:159.148.53.212 [23/May/2018:17:09:19 +0000] "GET / HTTP/1.1" 200 5383 "-" "Mozilla/5.0 (Windows NT 10.0; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/52.0.2743.116 Safari/537.36"
INFO:root:Request: GET /cache/global/img/gs.gif
INFO:root:Check user: GET /cache/global/img/gs.gif
INFO:root:Response handler...
INFO:aiohttp.access:80.82.70.187 [23/May/2018:17:14:00 +0000] "GET http://www.baidu.com/cache/global/img/gs.gif HTTP/1.1" 404 173 "-" "Mozilla"
INFO:root:Request: GET /
INFO:root:Check user: GET /
INFO:root:Response handler...
INFO:root:Call with arg: {'request': <Request GET / >}
INFO:aiohttp.access:119.2.48.132 [23/May/2018:17:21:30 +0000] "GET / HTTP/1.1" 200 5383 "-" "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_11_6) AppleWebKit/601.7.7 (KHTML, like Gecko) Version/9.1.2 Safari/601.7.7"
INFO:root:Request: GET /
INFO:root:Check user: GET /
INFO:root:Response handler...
INFO:root:Call with arg: {'request': <Request GET / >}
INFO:aiohttp.access:47.93.180.168 [23/May/2018:17:29:18 +0000] "GET / HTTP/1.0" 200 5383 "-" "-"
INFO:root:Request: GET /
INFO:root:Check user: GET /
INFO:root:Response handler...
INFO:root:Call with arg: {'request': <Request GET / >}
INFO:aiohttp.access:203.208.60.239 [23/May/2018:17:35:36 +0000] "GET / HTTP/1.1" 200 5383 "-" "Mozilla/5.0 (compatible; Googlebot/2.1; +http://www.google.com/bot.html)"
INFO:root:Request: GET /
INFO:root:Check user: GET /
INFO:root:Response handler...
INFO:root:Call with arg: {'request': <Request GET / >}
INFO:aiohttp.access:1.36.209.167 [23/May/2018:17:39:02 +0000] "GET / HTTP/1.1" 200 5383 "-" "Mozilla/5.0 zgrab/0.x"
INFO:root:Request: GET /
INFO:root:Check user: GET /
INFO:root:Response handler...
INFO:root:Call with arg: {'request': <Request GET / >}
INFO:aiohttp.access:13.56.232.243 [23/May/2018:17:42:58 +0000] "GET / HTTP/1.1" 200 5383 "-" "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_12_6) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/61.0.3163.100 Safari/537.36"
INFO:root:Request: GET /
INFO:root:Check user: GET /
INFO:root:Response handler...
INFO:root:Call with arg: {'request': <Request GET / >}
INFO:aiohttp.access:119.23.172.148 [23/May/2018:18:21:32 +0000] "GET / HTTP/1.1" 200 5402 "-" "-"
INFO:root:Request: GET /
INFO:root:Check user: GET /
INFO:root:Response handler...
INFO:root:Call with arg: {'request': <Request GET / >}
INFO:aiohttp.access:119.23.172.148 [23/May/2018:18:23:37 +0000] "GET / HTTP/1.1" 200 5402 "-" "-"
INFO:root:Request: GET /
INFO:root:Check user: GET /
INFO:root:Response handler...
INFO:root:Call with arg: {'request': <Request GET / >}
INFO:aiohttp.access:104.223.203.202 [23/May/2018:18:32:17 +0000] "GET / HTTP/1.1" 200 5383 "-" "Mozilla/4.0 (compatible; MSIE 8.0; Windows NT 6.1; Trident/4.0; SLCC2; .NET CLR 2.0.50727; .NET CLR 3.5.30729; .NET CLR 3.0.30729; Media Center PC 6.0)"
INFO:root:Request: GET /
INFO:root:Check user: GET /
INFO:root:Response handler...
INFO:root:Call with arg: {'request': <Request GET / >}
INFO:aiohttp.access:186.226.218.130 [23/May/2018:18:45:58 +0000] "GET / HTTP/1.1" 200 5383 "-" "Mozilla/5.0 (Windows NT 6.1; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/52.0.2743.116 Safari/537.36"
INFO:root:Request: GET /
INFO:root:Check user: GET /
INFO:root:Response handler...
INFO:root:Call with arg: {'request': <Request GET / >}
INFO:aiohttp.access:212.90.56.156 [23/May/2018:18:47:07 +0000] "GET / HTTP/1.1" 200 5383 "-" "Mozilla/5.0 (Windows NT 10.0; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/52.0.2743.116 Safari/537.36"
INFO:root:Request: GET /
INFO:root:Check user: GET /
INFO:root:Response handler...
INFO:root:Call with arg: {'request': <Request GET / >}
INFO:aiohttp.access:183.89.180.1 [23/May/2018:18:50:51 +0000] "GET / HTTP/1.1" 200 5383 "-" "Mozilla/5.0 (Windows NT 6.1; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/52.0.2743.116 Safari/537.36"
INFO:root:Request: GET /
INFO:root:Check user: GET /
INFO:root:Response handler...
INFO:root:Call with arg: {'request': <Request GET / >}
INFO:aiohttp.access:47.96.254.10 [23/May/2018:19:38:48 +0000] "GET / HTTP/1.0" 200 5383 "-" "-"
ERROR:aiohttp.server:Error handling request
Traceback (most recent call last):
  File "/usr/local/lib/python3.5/dist-packages/aiohttp/web_protocol.py", line 272, in data_received
    messages, upgraded, tail = self._request_parser.feed_data(data)
  File "aiohttp/_http_parser.pyx", line 295, in aiohttp._http_parser.HttpParser.feed_data
aiohttp.http_exceptions.BadStatusLine: invalid HTTP method
ERROR:aiohttp.server:Error handling request
Traceback (most recent call last):
  File "/usr/local/lib/python3.5/dist-packages/aiohttp/web_protocol.py", line 272, in data_received
    messages, upgraded, tail = self._request_parser.feed_data(data)
  File "aiohttp/_http_parser.pyx", line 295, in aiohttp._http_parser.HttpParser.feed_data
aiohttp.http_exceptions.BadStatusLine: invalid HTTP method
INFO:root:Request: GET /
INFO:root:Check user: GET /
INFO:root:Response handler...
INFO:root:Call with arg: {'request': <Request GET / >}
INFO:aiohttp.access:59.111.30.195 [23/May/2018:20:41:26 +0000] "GET http://baidu.com/ HTTP/1.1" 200 5402 "-" "Mozilla/4.0 (compatible; MSIE 8.0; Windows NT 6.1; Trident/4.0)"
INFO:root:Request: GET /
INFO:root:Check user: GET /
INFO:root:Response handler...
INFO:root:Call with arg: {'request': <Request GET / >}
INFO:aiohttp.access:110.77.201.63 [23/May/2018:20:56:15 +0000] "GET / HTTP/1.1" 200 5383 "-" "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_11_6) AppleWebKit/601.7.7 (KHTML, like Gecko) Version/9.1.2 Safari/601.7.7"
INFO:root:Request: GET /cache/global/img/gs.gif
INFO:root:Check user: GET /cache/global/img/gs.gif
INFO:root:Response handler...
INFO:aiohttp.access:80.82.70.187 [23/May/2018:21:10:05 +0000] "GET http://www.baidu.com/cache/global/img/gs.gif HTTP/1.1" 404 173 "-" "Mozilla"
INFO:root:Request: GET /
INFO:root:Check user: GET /
INFO:root:Response handler...
INFO:root:Call with arg: {'request': <Request GET / >}
INFO:aiohttp.access:203.208.60.242 [23/May/2018:21:53:12 +0000] "GET / HTTP/1.1" 200 5383 "-" "Mozilla/5.0 (compatible; Googlebot/2.1; +http://www.google.com/bot.html)"
INFO:root:Request: GET /
INFO:root:Check user: GET /
INFO:root:Response handler...
INFO:root:Call with arg: {'request': <Request GET / >}
INFO:aiohttp.access:177.189.242.196 [23/May/2018:22:16:35 +0000] "GET / HTTP/1.1" 200 5383 "-" "Mozilla/5.0 (Windows NT 6.1; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/52.0.2743.116 Safari/537.36"
INFO:root:Request: GET /
INFO:root:Check user: GET /
INFO:root:Response handler...
INFO:root:Call with arg: {'request': <Request GET / >}
INFO:aiohttp.access:115.46.87.94 [23/May/2018:23:11:37 +0000] "GET / HTTP/1.1" 200 5383 "-" "Mozilla/4.0 (compatible; Win32; WinHttp.WinHttpRequest.5)"
INFO:root:Request: GET /
INFO:root:Check user: GET /
INFO:root:Response handler...
INFO:root:Call with arg: {'request': <Request GET / >}
INFO:aiohttp.access:106.11.226.4 [23/May/2018:23:15:06 +0000] "GET / HTTP/1.1" 200 5383 "-" "Mozilla/5.0 (iPad; CPU OS 9_1 like Mac OS X) AppleWebKit/601.1.46 (KHTML, like Gecko) Version/9.0 Mobile/13B143 Safari/601.1"
INFO:root:Request: GET /zabbix//index.php
INFO:root:Check user: GET /zabbix//index.php
INFO:root:Response handler...
INFO:aiohttp.access:122.144.137.45 [23/May/2018:23:31:25 +0000] "GET /zabbix//index.php HTTP/1.1" 404 192 "-" "libwww-perl/6.26"
ERROR:aiohttp.server:Error handling request
Traceback (most recent call last):
  File "/usr/local/lib/python3.5/dist-packages/aiohttp/web_protocol.py", line 272, in data_received
    messages, upgraded, tail = self._request_parser.feed_data(data)
  File "aiohttp/_http_parser.pyx", line 295, in aiohttp._http_parser.HttpParser.feed_data
aiohttp.http_exceptions.BadStatusLine: invalid HTTP method
INFO:root:Request: GET /echo.php
INFO:root:Check user: GET /echo.php
INFO:root:Response handler...
INFO:aiohttp.access:134.119.212.87 [24/May/2018:00:00:31 +0000] "GET http://db.speedup.gdn/echo.php HTTP/1.1" 404 192 "https://www.google.com/" "PxBroker/0.3.1/4889"
INFO:root:Request: GET /
INFO:root:Check user: GET /
INFO:root:Response handler...
INFO:root:Call with arg: {'request': <Request GET / >}
INFO:aiohttp.access:80.216.149.19 [24/May/2018:00:09:59 +0000] "GET / HTTP/1.1" 200 5383 "-" "Mozilla/5.0 (Windows NT 6.1; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/52.0.2743.116 Safari/537.36"
INFO:root:Request: GET /
INFO:root:Check user: GET /
INFO:root:Response handler...
INFO:root:Call with arg: {'request': <Request GET / >}
INFO:aiohttp.access:177.73.35.154 [24/May/2018:00:22:13 +0000] "GET / HTTP/1.1" 200 5383 "-" "Mozilla/5.0 (Windows NT 10.0; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/51.0.2704.103 Safari/537.36"
INFO:root:Request: GET /ISAPI/System/Network/DDNS/capabilities
INFO:root:Check user: GET /ISAPI/System/Network/DDNS/capabilities
INFO:root:Response handler...
INFO:aiohttp.access:183.15.177.224 [24/May/2018:00:27:37 +0000] "GET /ISAPI/System/Network/DDNS/capabilities HTTP/1.1" 404 173 "-" "-"
INFO:root:Request: GET /ISAPI/System/Network/DDNS/capabilities
INFO:root:Check user: GET /ISAPI/System/Network/DDNS/capabilities
INFO:root:Response handler...
INFO:aiohttp.access:183.15.177.224 [24/May/2018:00:27:37 +0000] "GET /ISAPI/System/Network/DDNS/capabilities HTTP/1.1" 404 173 "-" "-"
INFO:root:Request: GET /ISAPI/System/Network/DDNS/capabilities
INFO:root:Check user: GET /ISAPI/System/Network/DDNS/capabilities
INFO:root:Response handler...
INFO:aiohttp.access:183.15.176.19 [24/May/2018:00:27:37 +0000] "GET /ISAPI/System/Network/DDNS/capabilities HTTP/1.1" 404 173 "-" "-"
INFO:root:Request: GET /ISAPI/System/Network/DDNS/capabilities
INFO:root:Check user: GET /ISAPI/System/Network/DDNS/capabilities
INFO:root:Response handler...
INFO:aiohttp.access:183.15.177.224 [24/May/2018:00:27:37 +0000] "GET /ISAPI/System/Network/DDNS/capabilities HTTP/1.1" 404 173 "-" "-"
INFO:root:Request: GET /ISAPI/System/Network/DDNS/capabilities
INFO:root:Check user: GET /ISAPI/System/Network/DDNS/capabilities
INFO:root:Response handler...
INFO:aiohttp.access:183.15.177.163 [24/May/2018:00:27:37 +0000] "GET /ISAPI/System/Network/DDNS/capabilities HTTP/1.1" 404 173 "-" "-"
INFO:root:Request: GET /ISAPI/System/Network/DDNS/capabilities
INFO:root:Check user: GET /ISAPI/System/Network/DDNS/capabilities
INFO:root:Response handler...
INFO:aiohttp.access:183.15.176.19 [24/May/2018:00:27:37 +0000] "GET /ISAPI/System/Network/DDNS/capabilities HTTP/1.1" 404 173 "-" "-"
INFO:root:Request: GET /ISAPI/System/Network/DDNS/capabilities
INFO:root:Check user: GET /ISAPI/System/Network/DDNS/capabilities
INFO:root:Response handler...
INFO:aiohttp.access:183.15.177.224 [24/May/2018:00:27:41 +0000] "GET /ISAPI/System/Network/DDNS/capabilities HTTP/1.1" 404 173 "-" "-"
INFO:root:Request: GET /ISAPI/System/Network/DDNS/capabilities
INFO:root:Check user: GET /ISAPI/System/Network/DDNS/capabilities
INFO:root:Response handler...
INFO:aiohttp.access:183.15.177.163 [24/May/2018:00:27:41 +0000] "GET /ISAPI/System/Network/DDNS/capabilities HTTP/1.1" 404 173 "-" "-"
INFO:root:Request: GET /ISAPI/System/Network/DDNS/capabilities
INFO:root:Check user: GET /ISAPI/System/Network/DDNS/capabilities
INFO:root:Response handler...
INFO:aiohttp.access:183.15.177.224 [24/May/2018:00:27:41 +0000] "GET /ISAPI/System/Network/DDNS/capabilities HTTP/1.1" 404 173 "-" "-"
INFO:root:Request: GET /ISAPI/System/Network/DDNS/capabilities
INFO:root:Check user: GET /ISAPI/System/Network/DDNS/capabilities
INFO:root:Response handler...
INFO:aiohttp.access:183.15.176.19 [24/May/2018:00:27:41 +0000] "GET /ISAPI/System/Network/DDNS/capabilities HTTP/1.1" 404 173 "-" "-"
INFO:root:Request: GET /ISAPI/System/Network/DDNS/capabilities
INFO:root:Check user: GET /ISAPI/System/Network/DDNS/capabilities
INFO:root:Response handler...
INFO:aiohttp.access:183.15.176.19 [24/May/2018:00:27:41 +0000] "GET /ISAPI/System/Network/DDNS/capabilities HTTP/1.1" 404 173 "-" "-"
INFO:root:Request: GET /ISAPI/System/Network/DDNS/capabilities
INFO:root:Check user: GET /ISAPI/System/Network/DDNS/capabilities
INFO:root:Response handler...
INFO:aiohttp.access:183.15.176.19 [24/May/2018:00:27:41 +0000] "GET /ISAPI/System/Network/DDNS/capabilities HTTP/1.1" 404 173 "-" "-"
INFO:root:Request: GET /.env
INFO:root:Check user: GET /.env
INFO:root:Response handler...
INFO:aiohttp.access:195.26.36.52 [24/May/2018:00:35:22 +0000] "GET /.env HTTP/1.0" 404 173 "-" "-"
INFO:root:Request: GET /
INFO:root:Check user: GET /
INFO:root:Response handler...
INFO:root:Call with arg: {'request': <Request GET / >}
INFO:aiohttp.access:114.215.45.101 [24/May/2018:00:49:09 +0000] "GET / HTTP/1.1" 200 5402 "-" "-"
INFO:root:Request: GET /
INFO:root:Check user: GET /
INFO:root:Response handler...
INFO:root:Call with arg: {'request': <Request GET / >}
INFO:aiohttp.access:220.181.108.155 [24/May/2018:01:01:10 +0000] "GET / HTTP/1.1" 200 5402 "-" "Mozilla/5.0 (compatible; Baiduspider/2.0; +http://www.baidu.com/search/spider.html)"
INFO:root:Request: GET /api/blogs
INFO:root:Check user: GET /api/blogs
INFO:root:Response handler...
INFO:root:Call with arg: {'request': <Request GET /api/blogs >, 'page': '1'}
INFO:root:SQL: select count(id) _num_ from `blogs` where private is null or private is false
INFO:root:Rows returned: 1
INFO:root:SQL: select `id`, `summary`, `created_at`, `user_name`, `private`, `user_id`, `content`, `name`, `user_image` from `blogs` where private is null or private is false order by created_at desc limit ?, ?
INFO:root:Rows returned: 5
INFO:aiohttp.access:111.206.221.113 [24/May/2018:01:01:11 +0000] "GET /api/blogs?page=1 HTTP/1.1" 200 27312 "http://www.lxiao.net/" "Mozilla/5.0 (compatible; Baiduspider-render/2.0; +http://www.baidu.com/search/spider.html)"
INFO:root:Request: GET /
INFO:root:Check user: GET /
INFO:root:Response handler...
INFO:root:Call with arg: {'request': <Request GET / >}
INFO:aiohttp.access:107.170.254.21 [24/May/2018:01:10:36 +0000] "GET / HTTP/1.1" 200 5383 "-" "Mozilla/5.0 zgrab/0.x"
INFO:root:Request: GET /
INFO:root:Check user: GET /
INFO:root:Response handler...
INFO:root:Call with arg: {'request': <Request GET / >}
INFO:aiohttp.access:118.190.15.39 [24/May/2018:01:30:56 +0000] "GET / HTTP/1.1" 200 5402 "-" "-"
INFO:root:Request: GET /
INFO:root:Check user: GET /
INFO:root:Response handler...
INFO:root:Call with arg: {'request': <Request GET / >}
INFO:aiohttp.access:118.190.15.39 [24/May/2018:01:31:22 +0000] "GET / HTTP/1.1" 200 5402 "-" "-"
INFO:root:Request: GET /
INFO:root:Check user: GET /
INFO:root:Response handler...
INFO:root:Call with arg: {'request': <Request GET / >}
INFO:aiohttp.access:201.238.154.137 [24/May/2018:01:53:56 +0000] "GET / HTTP/1.1" 200 5383 "-" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/63.0.3239.132 Safari/537.36"
INFO:root:Request: GET /
INFO:root:Check user: GET /
INFO:root:Response handler...
INFO:root:Call with arg: {'request': <Request GET / >}
INFO:aiohttp.access:106.11.242.108 [24/May/2018:02:12:43 +0000] "GET / HTTP/1.1" 200 5383 "-" "Mozilla/5.0 (iPad; CPU OS 9_1 like Mac OS X) AppleWebKit/601.1.46 (KHTML, like Gecko) Version/9.0 Mobile/13B143 Safari/601.1"
INFO:root:Request: GET /cache/global/img/gs.gif
INFO:root:Check user: GET /cache/global/img/gs.gif
INFO:root:Response handler...
INFO:aiohttp.access:80.82.70.187 [24/May/2018:02:25:59 +0000] "GET http://www.baidu.com/cache/global/img/gs.gif HTTP/1.1" 404 173 "-" "Mozilla"
INFO:root:Request: GET /
INFO:root:Check user: GET /
INFO:root:Response handler...
INFO:root:Call with arg: {'request': <Request GET / >}
INFO:aiohttp.access:106.11.158.243 [24/May/2018:02:37:42 +0000] "GET / HTTP/1.1" 200 5383 "-" "YisouSpider"
INFO:root:Request: GET /
INFO:root:Check user: GET /
INFO:root:Response handler...
INFO:root:Call with arg: {'request': <Request GET / >}
INFO:aiohttp.access:187.207.146.162 [24/May/2018:02:40:07 +0000] "GET / HTTP/1.1" 200 5383 "-" "Mozilla/5.0 (Windows NT 10.0; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/51.0.2704.103 Safari/537.36"
INFO:root:Request: GET /
INFO:root:Check user: GET /
INFO:root:Response handler...
INFO:root:Call with arg: {'request': <Request GET / >}
INFO:aiohttp.access:80.91.125.126 [24/May/2018:03:06:10 +0000] "GET / HTTP/1.1" 200 5383 "-" "Mozilla/5.0 (Windows NT 10.0; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/52.0.2743.116 Safari/537.36"
INFO:root:Request: GET /robots.txt
INFO:root:Check user: GET /robots.txt
INFO:root:Response handler...
INFO:aiohttp.access:203.208.60.242 [24/May/2018:03:36:04 +0000] "GET /robots.txt HTTP/1.1" 404 173 "-" "Mozilla/5.0 (compatible; Googlebot/2.1; +http://www.google.com/bot.html)"
INFO:root:Request: GET /
INFO:root:Check user: GET /
INFO:root:Response handler...
INFO:root:Call with arg: {'request': <Request GET / >}
INFO:aiohttp.access:203.208.60.242 [24/May/2018:03:36:04 +0000] "GET / HTTP/1.1" 200 5383 "-" "Mozilla/5.0 (compatible; Googlebot/2.1; +http://www.google.com/bot.html)"
INFO:root:Request: GET /static/css/uikit.min.css
INFO:root:Check user: GET /static/css/uikit.min.css
INFO:root:Response handler...
INFO:aiohttp.access:203.208.60.242 [24/May/2018:03:36:06 +0000] "GET /static/css/uikit.min.css HTTP/1.1" 200 69779 "http://lxiao.net/" "Mozilla/5.0 (compatible; Googlebot/2.1; +http://www.google.com/bot.html)"
INFO:root:Request: GET /static/css/pygments-css/emacs.css
INFO:root:Check user: GET /static/css/pygments-css/emacs.css
INFO:root:Response handler...
INFO:aiohttp.access:203.208.60.242 [24/May/2018:03:36:07 +0000] "GET /static/css/pygments-css/emacs.css HTTP/1.1" 200 4620 "http://lxiao.net/" "Mozilla/5.0 (compatible; Googlebot/2.1; +http://www.google.com/bot.html)"
INFO:root:Request: GET /static/js/awesome.js
INFO:root:Check user: GET /static/js/awesome.js
INFO:root:Response handler...
INFO:aiohttp.access:203.208.60.242 [24/May/2018:03:36:07 +0000] "GET /static/js/awesome.js HTTP/1.1" 200 16253 "http://lxiao.net/" "Mozilla/5.0 (compatible; Googlebot/2.1; +http://www.google.com/bot.html)"
INFO:root:Request: GET /static/js/sticky.min.js
INFO:root:Check user: GET /static/js/sticky.min.js
INFO:root:Response handler...
INFO:aiohttp.access:203.208.60.242 [24/May/2018:03:36:08 +0000] "GET /static/js/sticky.min.js HTTP/1.1" 200 2394 "http://lxiao.net/" "Mozilla/5.0 (compatible; Googlebot/2.1; +http://www.google.com/bot.html)"
INFO:root:Request: GET /static/js/uikit.min.js
INFO:root:Check user: GET /static/js/uikit.min.js
INFO:root:Response handler...
INFO:aiohttp.access:203.208.60.242 [24/May/2018:03:36:08 +0000] "GET /static/js/uikit.min.js HTTP/1.1" 200 34472 "http://lxiao.net/" "Mozilla/5.0 (compatible; Googlebot/2.1; +http://www.google.com/bot.html)"
INFO:root:Request: GET /static/css/markdown.css
INFO:root:Check user: GET /static/css/markdown.css
INFO:root:Response handler...
INFO:aiohttp.access:203.208.60.242 [24/May/2018:03:36:09 +0000] "GET /static/css/markdown.css HTTP/1.1" 200 3729 "http://lxiao.net/" "Mozilla/5.0 (compatible; Googlebot/2.1; +http://www.google.com/bot.html)"
INFO:root:Request: GET /static/css/uikit.gradient.min.css
INFO:root:Check user: GET /static/css/uikit.gradient.min.css
INFO:root:Response handler...
INFO:aiohttp.access:203.208.60.242 [24/May/2018:03:36:09 +0000] "GET /static/css/uikit.gradient.min.css HTTP/1.1" 200 79016 "http://lxiao.net/" "Mozilla/5.0 (compatible; Googlebot/2.1; +http://www.google.com/bot.html)"
INFO:root:Request: GET /static/css/awesome.css
INFO:root:Check user: GET /static/css/awesome.css
INFO:root:Response handler...
INFO:aiohttp.access:203.208.60.242 [24/May/2018:03:36:09 +0000] "GET /static/css/awesome.css HTTP/1.1" 200 373 "http://lxiao.net/" "Mozilla/5.0 (compatible; Googlebot/2.1; +http://www.google.com/bot.html)"
INFO:root:Request: GET /static/css/markdown.min.css
INFO:root:Check user: GET /static/css/markdown.min.css
INFO:root:Response handler...
INFO:aiohttp.access:203.208.60.242 [24/May/2018:03:36:10 +0000] "GET /static/css/markdown.min.css HTTP/1.1" 200 2708 "http://lxiao.net/" "Mozilla/5.0 (compatible; Googlebot/2.1; +http://www.google.com/bot.html)"
INFO:root:Request: GET /static/js/vue.min.js
INFO:root:Check user: GET /static/js/vue.min.js
INFO:root:Response handler...
INFO:aiohttp.access:203.208.60.242 [24/May/2018:03:36:10 +0000] "GET /static/js/vue.min.js HTTP/1.1" 200 56707 "http://lxiao.net/" "Mozilla/5.0 (compatible; Googlebot/2.1; +http://www.google.com/bot.html)"
INFO:root:Request: GET /static/js/jquery.min.js
INFO:root:Check user: GET /static/js/jquery.min.js
INFO:root:Response handler...
INFO:aiohttp.access:203.208.60.242 [24/May/2018:03:36:11 +0000] "GET /static/js/jquery.min.js HTTP/1.1" 200 93219 "http://lxiao.net/" "Mozilla/5.0 (compatible; Googlebot/2.1; +http://www.google.com/bot.html)"
INFO:root:Request: GET /static/js/sha1.min.js
INFO:root:Check user: GET /static/js/sha1.min.js
INFO:root:Response handler...
INFO:aiohttp.access:203.208.60.242 [24/May/2018:03:36:11 +0000] "GET /static/js/sha1.min.js HTTP/1.1" 200 4490 "http://lxiao.net/" "Mozilla/5.0 (compatible; Googlebot/2.1; +http://www.google.com/bot.html)"
INFO:root:Request: GET /api/blogs
INFO:root:Check user: GET /api/blogs
INFO:root:Response handler...
INFO:root:Call with arg: {'request': <Request GET /api/blogs >, 'page': '1'}
INFO:root:SQL: select count(id) _num_ from `blogs` where private is null or private is false
INFO:root:Rows returned: 1
INFO:root:SQL: select `id`, `summary`, `created_at`, `user_name`, `private`, `user_id`, `content`, `name`, `user_image` from `blogs` where private is null or private is false order by created_at desc limit ?, ?
INFO:root:Rows returned: 5
INFO:aiohttp.access:203.208.60.242 [24/May/2018:03:36:13 +0000] "GET /api/blogs?page=1 HTTP/1.1" 200 27312 "http://lxiao.net/" "Mozilla/5.0 (compatible; Googlebot/2.1; +http://www.google.com/bot.html)"
INFO:root:Request: GET /
INFO:root:Check user: GET /
INFO:root:Response handler...
INFO:root:Call with arg: {'request': <Request GET / >}
INFO:aiohttp.access:183.136.190.62 [24/May/2018:04:09:58 +0000] "GET / HTTP/1.1" 200 5402 "-" "Mozilla/5.0 (Windows NT 6.1) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/35.0.1916.153 Safari/537.36"
INFO:root:Request: GET /
INFO:root:Check user: GET /
INFO:root:Response handler...
INFO:root:Call with arg: {'request': <Request GET / >}
INFO:aiohttp.access:59.110.18.205 [24/May/2018:04:24:25 +0000] "GET / HTTP/1.1" 200 5402 "-" "-"
INFO:root:Request: GET /
INFO:root:Check user: GET /
INFO:root:Response handler...
INFO:root:Call with arg: {'request': <Request GET / >}
INFO:aiohttp.access:59.110.18.205 [24/May/2018:04:25:46 +0000] "GET / HTTP/1.1" 200 5402 "-" "-"
INFO:root:Request: GET /
INFO:root:Check user: GET /
INFO:root:Response handler...
INFO:root:Call with arg: {'request': <Request GET / >}
INFO:aiohttp.access:60.174.237.200 [24/May/2018:04:47:34 +0000] "GET / HTTP/1.1" 200 5383 "-" "Mozilla/5.0 zgrab/0.x"
INFO:root:Request: GET /
INFO:root:Check user: GET /
INFO:root:Response handler...
INFO:root:Call with arg: {'request': <Request GET / >}
INFO:aiohttp.access:186.224.200.194 [24/May/2018:05:21:28 +0000] "GET / HTTP/1.1" 200 5383 "-" "Mozilla/5.0 (Windows NT 10.0; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/52.0.2743.116 Safari/537.36"
INFO:root:Request: POST /RPC2
INFO:root:Check user: POST /RPC2
INFO:root:Response handler...
INFO:aiohttp.access:178.214.23.198 [24/May/2018:05:42:50 +0000] "POST /RPC2 HTTP/1.1" 404 173 "-" "libwww"
INFO:root:Request: GET /
INFO:root:Check user: GET /
INFO:root:Response handler...
INFO:root:Call with arg: {'request': <Request GET / >}
INFO:aiohttp.access:177.138.178.119 [24/May/2018:05:57:04 +0000] "GET / HTTP/1.1" 200 5383 "-" "Mozilla/5.0 (Windows NT 6.1; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/52.0.2743.116 Safari/537.36"
INFO:root:Request: GET /cache/global/img/gs.gif
INFO:root:Check user: GET /cache/global/img/gs.gif
INFO:root:Response handler...
INFO:aiohttp.access:80.82.78.50 [24/May/2018:06:12:30 +0000] "GET http://www.baidu.com/cache/global/img/gs.gif HTTP/1.1" 404 173 "-" "Mozilla"
INFO:root:Request: GET /
INFO:root:Check user: GET /
INFO:root:Response handler...
INFO:root:Call with arg: {'request': <Request GET / >}
INFO:aiohttp.access:207.46.13.171 [24/May/2018:06:41:20 +0000] "GET / HTTP/1.1" 200 5383 "-" "Mozilla/5.0 (iPhone; CPU iPhone OS 7_0 like Mac OS X) AppleWebKit/537.51.1 (KHTML, like Gecko) Version/7.0 Mobile/11A465 Safari/9537.53 (compatible; bingbot/2.0; +http://www.bing.com/bingbot.htm)"
INFO:root:Request: GET /static/css/markdown.css
INFO:root:Check user: GET /static/css/markdown.css
INFO:root:Response handler...
INFO:aiohttp.access:40.77.190.66 [24/May/2018:06:41:22 +0000] "GET /static/css/markdown.css HTTP/1.1" 200 3729 "http://lxiao.net/" "Mozilla/5.0 (iPhone; CPU iPhone OS 7_0 like Mac OS X) AppleWebKit/537.51.1 (KHTML, like Gecko) Version/7.0 Mobile/11A465 Safari/9537.53 BingPreview/1.0b"
INFO:root:Request: GET /static/css/markdown.min.css
INFO:root:Check user: GET /static/css/markdown.min.css
INFO:root:Response handler...
INFO:aiohttp.access:40.77.190.66 [24/May/2018:06:41:22 +0000] "GET /static/css/markdown.min.css HTTP/1.1" 200 2708 "http://lxiao.net/" "Mozilla/5.0 (iPhone; CPU iPhone OS 7_0 like Mac OS X) AppleWebKit/537.51.1 (KHTML, like Gecko) Version/7.0 Mobile/11A465 Safari/9537.53 BingPreview/1.0b"
INFO:root:Request: GET /static/css/uikit.min.css
INFO:root:Check user: GET /static/css/uikit.min.css
INFO:root:Response handler...
INFO:aiohttp.access:40.77.190.66 [24/May/2018:06:41:22 +0000] "GET /static/css/uikit.min.css HTTP/1.1" 200 69779 "http://lxiao.net/" "Mozilla/5.0 (iPhone; CPU iPhone OS 7_0 like Mac OS X) AppleWebKit/537.51.1 (KHTML, like Gecko) Version/7.0 Mobile/11A465 Safari/9537.53 BingPreview/1.0b"
INFO:root:Request: GET /static/css/uikit.gradient.min.css
INFO:root:Check user: GET /static/css/uikit.gradient.min.css
INFO:root:Response handler...
INFO:root:Request: GET /static/css/pygments-css/emacs.css
INFO:root:Check user: GET /static/css/pygments-css/emacs.css
INFO:root:Response handler...
INFO:aiohttp.access:40.77.190.66 [24/May/2018:06:41:23 +0000] "GET /static/css/pygments-css/emacs.css HTTP/1.1" 200 4620 "http://lxiao.net/" "Mozilla/5.0 (iPhone; CPU iPhone OS 7_0 like Mac OS X) AppleWebKit/537.51.1 (KHTML, like Gecko) Version/7.0 Mobile/11A465 Safari/9537.53 BingPreview/1.0b"
INFO:root:Request: GET /static/css/awesome.css
INFO:root:Check user: GET /static/css/awesome.css
INFO:root:Response handler...
INFO:aiohttp.access:40.77.190.66 [24/May/2018:06:41:23 +0000] "GET /static/css/awesome.css HTTP/1.1" 200 373 "http://lxiao.net/" "Mozilla/5.0 (iPhone; CPU iPhone OS 7_0 like Mac OS X) AppleWebKit/537.51.1 (KHTML, like Gecko) Version/7.0 Mobile/11A465 Safari/9537.53 BingPreview/1.0b"
INFO:aiohttp.access:40.77.190.66 [24/May/2018:06:41:23 +0000] "GET /static/css/uikit.gradient.min.css HTTP/1.1" 200 79016 "http://lxiao.net/" "Mozilla/5.0 (iPhone; CPU iPhone OS 7_0 like Mac OS X) AppleWebKit/537.51.1 (KHTML, like Gecko) Version/7.0 Mobile/11A465 Safari/9537.53 BingPreview/1.0b"
INFO:root:Request: GET /static/js/jquery.min.js
INFO:root:Check user: GET /static/js/jquery.min.js
INFO:root:Response handler...
INFO:aiohttp.access:40.77.190.66 [24/May/2018:06:41:24 +0000] "GET /static/js/jquery.min.js HTTP/1.1" 200 93219 "http://lxiao.net/" "Mozilla/5.0 (iPhone; CPU iPhone OS 7_0 like Mac OS X) AppleWebKit/537.51.1 (KHTML, like Gecko) Version/7.0 Mobile/11A465 Safari/9537.53 BingPreview/1.0b"
INFO:root:Request: GET /static/js/sha1.min.js
INFO:root:Check user: GET /static/js/sha1.min.js
INFO:root:Response handler...
INFO:aiohttp.access:40.77.190.66 [24/May/2018:06:41:24 +0000] "GET /static/js/sha1.min.js HTTP/1.1" 200 4490 "http://lxiao.net/" "Mozilla/5.0 (iPhone; CPU iPhone OS 7_0 like Mac OS X) AppleWebKit/537.51.1 (KHTML, like Gecko) Version/7.0 Mobile/11A465 Safari/9537.53 BingPreview/1.0b"
INFO:root:Request: GET /static/js/uikit.min.js
INFO:root:Check user: GET /static/js/uikit.min.js
INFO:root:Response handler...
INFO:aiohttp.access:40.77.190.66 [24/May/2018:06:41:24 +0000] "GET /static/js/uikit.min.js HTTP/1.1" 200 34472 "http://lxiao.net/" "Mozilla/5.0 (iPhone; CPU iPhone OS 7_0 like Mac OS X) AppleWebKit/537.51.1 (KHTML, like Gecko) Version/7.0 Mobile/11A465 Safari/9537.53 BingPreview/1.0b"
INFO:root:Request: GET /static/js/sticky.min.js
INFO:root:Check user: GET /static/js/sticky.min.js
INFO:root:Response handler...
INFO:aiohttp.access:40.77.190.66 [24/May/2018:06:41:25 +0000] "GET /static/js/sticky.min.js HTTP/1.1" 200 2394 "http://lxiao.net/" "Mozilla/5.0 (iPhone; CPU iPhone OS 7_0 like Mac OS X) AppleWebKit/537.51.1 (KHTML, like Gecko) Version/7.0 Mobile/11A465 Safari/9537.53 BingPreview/1.0b"
INFO:root:Request: GET /static/js/vue.min.js
INFO:root:Check user: GET /static/js/vue.min.js
INFO:root:Response handler...
INFO:aiohttp.access:40.77.190.66 [24/May/2018:06:41:25 +0000] "GET /static/js/vue.min.js HTTP/1.1" 200 56707 "http://lxiao.net/" "Mozilla/5.0 (iPhone; CPU iPhone OS 7_0 like Mac OS X) AppleWebKit/537.51.1 (KHTML, like Gecko) Version/7.0 Mobile/11A465 Safari/9537.53 BingPreview/1.0b"
INFO:root:Request: GET /static/js/awesome.js
INFO:root:Check user: GET /static/js/awesome.js
INFO:root:Response handler...
INFO:aiohttp.access:40.77.190.66 [24/May/2018:06:41:26 +0000] "GET /static/js/awesome.js HTTP/1.1" 200 16253 "http://lxiao.net/" "Mozilla/5.0 (iPhone; CPU iPhone OS 7_0 like Mac OS X) AppleWebKit/537.51.1 (KHTML, like Gecko) Version/7.0 Mobile/11A465 Safari/9537.53 BingPreview/1.0b"
INFO:root:Request: GET /api/blogs
INFO:root:Check user: GET /api/blogs
INFO:root:Response handler...
INFO:root:Call with arg: {'request': <Request GET /api/blogs >, 'page': '1'}
INFO:root:SQL: select count(id) _num_ from `blogs` where private is null or private is false
INFO:root:Rows returned: 1
INFO:root:SQL: select `id`, `summary`, `created_at`, `user_name`, `private`, `user_id`, `content`, `name`, `user_image` from `blogs` where private is null or private is false order by created_at desc limit ?, ?
INFO:root:Rows returned: 5
INFO:aiohttp.access:40.77.190.66 [24/May/2018:06:41:26 +0000] "GET /api/blogs?page=1 HTTP/1.1" 200 27312 "http://lxiao.net/" "Mozilla/5.0 (iPhone; CPU iPhone OS 7_0 like Mac OS X) AppleWebKit/537.51.1 (KHTML, like Gecko) Version/7.0 Mobile/11A465 Safari/9537.53 BingPreview/1.0b"
INFO:root:Request: GET /static/fonts/fontawesome-webfont.ttf
INFO:root:Check user: GET /static/fonts/fontawesome-webfont.ttf
INFO:root:Response handler...
INFO:aiohttp.access:40.77.190.66 [24/May/2018:06:41:27 +0000] "GET /static/fonts/fontawesome-webfont.ttf HTTP/1.1" 200 80849 "http://lxiao.net/" "Mozilla/5.0 (iPhone; CPU iPhone OS 7_0 like Mac OS X) AppleWebKit/537.51.1 (KHTML, like Gecko) Version/7.0 Mobile/11A465 Safari/9537.53 BingPreview/1.0b"
INFO:root:Request: GET /
INFO:root:Check user: GET /
INFO:root:Response handler...
INFO:root:Call with arg: {'request': <Request GET / >}
INFO:aiohttp.access:106.120.206.159 [24/May/2018:06:45:54 +0000] "GET / HTTP/1.1" 200 5383 "-" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/66.0.3359.181 Safari/537.36"
INFO:root:Request: GET /static/css/uikit.min.css
INFO:root:Check user: GET /static/css/uikit.min.css
INFO:root:Response handler...
INFO:aiohttp.access:106.120.206.159 [24/May/2018:06:45:54 +0000] "GET /static/css/uikit.min.css HTTP/1.1" 304 141 "http://www.lxiao.net:8000/" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/66.0.3359.181 Safari/537.36"
INFO:root:Request: GET /static/css/uikit.gradient.min.css
INFO:root:Check user: GET /static/css/uikit.gradient.min.css
INFO:root:Response handler...
INFO:aiohttp.access:106.120.206.159 [24/May/2018:06:45:54 +0000] "GET /static/css/uikit.gradient.min.css HTTP/1.1" 304 141 "http://www.lxiao.net:8000/" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/66.0.3359.181 Safari/537.36"
INFO:root:Request: GET /static/css/awesome.css
INFO:root:Check user: GET /static/css/awesome.css
INFO:root:Response handler...
INFO:aiohttp.access:106.120.206.159 [24/May/2018:06:45:55 +0000] "GET /static/css/awesome.css HTTP/1.1" 304 141 "http://www.lxiao.net:8000/" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/66.0.3359.181 Safari/537.36"
INFO:root:Request: GET /static/js/jquery.min.js
INFO:root:Check user: GET /static/js/jquery.min.js
INFO:root:Response handler...
INFO:aiohttp.access:106.120.206.159 [24/May/2018:06:45:55 +0000] "GET /static/js/jquery.min.js HTTP/1.1" 304 141 "http://www.lxiao.net:8000/" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/66.0.3359.181 Safari/537.36"
INFO:root:Request: GET /static/js/sha1.min.js
INFO:root:Check user: GET /static/js/sha1.min.js
INFO:root:Response handler...
INFO:aiohttp.access:106.120.206.159 [24/May/2018:06:45:55 +0000] "GET /static/js/sha1.min.js HTTP/1.1" 304 141 "http://www.lxiao.net:8000/" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/66.0.3359.181 Safari/537.36"
INFO:root:Request: GET /static/js/uikit.min.js
INFO:root:Check user: GET /static/js/uikit.min.js
INFO:root:Response handler...
INFO:aiohttp.access:106.120.206.159 [24/May/2018:06:45:55 +0000] "GET /static/js/uikit.min.js HTTP/1.1" 304 141 "http://www.lxiao.net:8000/" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/66.0.3359.181 Safari/537.36"
INFO:root:Request: GET /static/js/sticky.min.js
INFO:root:Check user: GET /static/js/sticky.min.js
INFO:root:Response handler...
INFO:aiohttp.access:106.120.206.159 [24/May/2018:06:45:55 +0000] "GET /static/js/sticky.min.js HTTP/1.1" 304 141 "http://www.lxiao.net:8000/" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/66.0.3359.181 Safari/537.36"
INFO:root:Request: GET /static/js/vue.min.js
INFO:root:Check user: GET /static/js/vue.min.js
INFO:root:Response handler...
INFO:aiohttp.access:106.120.206.159 [24/May/2018:06:45:55 +0000] "GET /static/js/vue.min.js HTTP/1.1" 304 141 "http://www.lxiao.net:8000/" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/66.0.3359.181 Safari/537.36"
INFO:root:Request: GET /static/js/awesome.js
INFO:root:Check user: GET /static/js/awesome.js
INFO:root:Response handler...
INFO:aiohttp.access:106.120.206.159 [24/May/2018:06:45:55 +0000] "GET /static/js/awesome.js HTTP/1.1" 304 141 "http://www.lxiao.net:8000/" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/66.0.3359.181 Safari/537.36"
INFO:root:Request: GET /
INFO:root:Check user: GET /
INFO:root:Response handler...
INFO:root:Call with arg: {'request': <Request GET / >}
INFO:aiohttp.access:106.120.206.159 [24/May/2018:06:45:55 +0000] "GET / HTTP/1.1" 200 5383 "-" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/66.0.3359.181 Safari/537.36"
INFO:root:Request: GET /api/blogs
INFO:root:Check user: GET /api/blogs
INFO:root:Response handler...
INFO:root:Call with arg: {'request': <Request GET /api/blogs >, 'page': '1'}
INFO:root:SQL: select count(id) _num_ from `blogs` where private is null or private is false
INFO:root:Rows returned: 1
INFO:root:SQL: select `id`, `summary`, `created_at`, `user_name`, `private`, `user_id`, `content`, `name`, `user_image` from `blogs` where private is null or private is false order by created_at desc limit ?, ?
INFO:root:Rows returned: 5
INFO:aiohttp.access:106.120.206.159 [24/May/2018:06:45:56 +0000] "GET /api/blogs?page=1 HTTP/1.1" 200 27312 "http://lxiao.net/" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/66.0.3359.181 Safari/537.36"
INFO:root:Request: GET /favicon.ico
INFO:root:Check user: GET /favicon.ico
INFO:root:Response handler...
INFO:aiohttp.access:106.120.206.159 [24/May/2018:06:45:57 +0000] "GET /favicon.ico HTTP/1.1" 404 173 "http://lxiao.net/" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/66.0.3359.181 Safari/537.36"
INFO:root:Request: GET /
INFO:root:Check user: GET /
INFO:root:Response handler...
INFO:root:Call with arg: {'request': <Request GET / >, 'page': '2'}
INFO:aiohttp.access:106.120.206.159 [24/May/2018:06:46:05 +0000] "GET /?page=2 HTTP/1.1" 200 5383 "http://lxiao.net/" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/66.0.3359.181 Safari/537.36"
INFO:root:Request: GET /api/blogs
INFO:root:Check user: GET /api/blogs
INFO:root:Response handler...
INFO:root:Call with arg: {'request': <Request GET /api/blogs >, 'page': '2'}
INFO:root:SQL: select count(id) _num_ from `blogs` where private is null or private is false
INFO:root:Rows returned: 1
INFO:root:SQL: select `id`, `summary`, `created_at`, `user_name`, `private`, `user_id`, `content`, `name`, `user_image` from `blogs` where private is null or private is false order by created_at desc limit ?, ?
INFO:root:Rows returned: 5
INFO:aiohttp.access:106.120.206.159 [24/May/2018:06:46:06 +0000] "GET /api/blogs?page=2 HTTP/1.1" 200 23837 "http://lxiao.net/?page=2" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/66.0.3359.181 Safari/537.36"
INFO:root:Request: GET /
INFO:root:Check user: GET /
INFO:root:Response handler...
INFO:root:Call with arg: {'request': <Request GET / >, 'page': '3'}
INFO:aiohttp.access:106.120.206.159 [24/May/2018:06:46:11 +0000] "GET /?page=3 HTTP/1.1" 200 5383 "http://lxiao.net/?page=2" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/66.0.3359.181 Safari/537.36"
INFO:root:Request: GET /api/blogs
INFO:root:Check user: GET /api/blogs
INFO:root:Response handler...
INFO:root:Call with arg: {'request': <Request GET /api/blogs >, 'page': '3'}
INFO:root:SQL: select count(id) _num_ from `blogs` where private is null or private is false
INFO:root:Rows returned: 1
INFO:root:SQL: select `id`, `summary`, `created_at`, `user_name`, `private`, `user_id`, `content`, `name`, `user_image` from `blogs` where private is null or private is false order by created_at desc limit ?, ?
INFO:root:Rows returned: 5
INFO:aiohttp.access:106.120.206.159 [24/May/2018:06:46:11 +0000] "GET /api/blogs?page=3 HTTP/1.1" 200 13012 "http://lxiao.net/?page=3" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/66.0.3359.181 Safari/537.36"
INFO:root:Request: GET /
INFO:root:Check user: GET /
INFO:root:Response handler...
INFO:root:Call with arg: {'request': <Request GET / >, 'page': '4'}
INFO:aiohttp.access:106.120.206.159 [24/May/2018:06:46:15 +0000] "GET /?page=4 HTTP/1.1" 200 5383 "http://lxiao.net/?page=3" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/66.0.3359.181 Safari/537.36"
INFO:root:Request: GET /api/blogs
INFO:root:Check user: GET /api/blogs
INFO:root:Response handler...
INFO:root:Call with arg: {'request': <Request GET /api/blogs >, 'page': '4'}
INFO:root:SQL: select count(id) _num_ from `blogs` where private is null or private is false
INFO:root:Rows returned: 1
INFO:root:SQL: select `id`, `summary`, `created_at`, `user_name`, `private`, `user_id`, `content`, `name`, `user_image` from `blogs` where private is null or private is false order by created_at desc limit ?, ?
INFO:root:Rows returned: 4
INFO:aiohttp.access:106.120.206.159 [24/May/2018:06:46:16 +0000] "GET /api/blogs?page=4 HTTP/1.1" 200 33578 "http://lxiao.net/?page=4" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/66.0.3359.181 Safari/537.36"
INFO:root:Request: GET /signin
INFO:root:Check user: GET /signin
INFO:root:Response handler...
INFO:root:Call with arg: {}
INFO:aiohttp.access:106.120.206.159 [24/May/2018:06:46:18 +0000] "GET /signin HTTP/1.1" 200 2569 "http://lxiao.net/?page=4" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/66.0.3359.181 Safari/537.36"
INFO:root:Request: POST /api/authenticate
INFO:root:Check user: POST /api/authenticate
INFO:root:Response handler...
INFO:root:Call with arg: {'email': 'm15801021028@163.com', 'passwd': '09fa2f95147f377ffdb2920a403d4be2031cb459'}
INFO:root:SQL: select `id`, `email`, `created_at`, `image`, `name`, `admin`, `passwd` from `users` where email=?
INFO:root:Rows returned: 1
INFO:aiohttp.access:106.120.206.159 [24/May/2018:06:46:19 +0000] "POST /api/authenticate HTTP/1.1" 200 569 "http://lxiao.net/signin" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/66.0.3359.181 Safari/537.36"
INFO:root:Request: GET /
INFO:root:Check user: GET /
INFO:root:SQL: select `id`, `email`, `created_at`, `image`, `name`, `admin`, `passwd` from `users` where `id`=?
INFO:root:Rows returned: 1
INFO:root:Set current user: m15801021028@163.com
INFO:root:Response handler...
INFO:root:Call with arg: {'request': <Request GET / >}
INFO:aiohttp.access:106.120.206.159 [24/May/2018:06:46:19 +0000] "GET / HTTP/1.1" 200 5577 "http://lxiao.net/signin" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/66.0.3359.181 Safari/537.36"
INFO:root:Request: GET /api/blogs
INFO:root:Check user: GET /api/blogs
INFO:root:SQL: select `id`, `email`, `created_at`, `image`, `name`, `admin`, `passwd` from `users` where `id`=?
INFO:root:Rows returned: 1
INFO:root:Set current user: m15801021028@163.com
INFO:root:Response handler...
INFO:root:Call with arg: {'request': <Request GET /api/blogs >, 'page': '1'}
INFO:root:SQL: select count(id) _num_ from `blogs`
INFO:root:Rows returned: 1
INFO:root:SQL: select `id`, `summary`, `created_at`, `user_name`, `private`, `user_id`, `content`, `name`, `user_image` from `blogs` order by created_at desc limit ?, ?
INFO:root:Rows returned: 5
INFO:aiohttp.access:106.120.206.159 [24/May/2018:06:46:19 +0000] "GET /api/blogs?page=1 HTTP/1.1" 200 26445 "http://lxiao.net/" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/66.0.3359.181 Safari/537.36"
INFO:root:Request: GET /manage/
INFO:root:Check user: GET /manage/
INFO:root:SQL: select `id`, `email`, `created_at`, `image`, `name`, `admin`, `passwd` from `users` where `id`=?
INFO:root:Rows returned: 1
INFO:root:Set current user: m15801021028@163.com
INFO:root:Response handler...
INFO:root:Call with arg: {}
INFO:aiohttp.access:106.120.206.159 [24/May/2018:06:46:30 +0000] "GET /manage/ HTTP/1.1" 302 190 "http://lxiao.net/" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/66.0.3359.181 Safari/537.36"
INFO:root:Request: GET /manage/blogs
INFO:root:Check user: GET /manage/blogs
INFO:root:SQL: select `id`, `email`, `created_at`, `image`, `name`, `admin`, `passwd` from `users` where `id`=?
INFO:root:Rows returned: 1
INFO:root:Set current user: m15801021028@163.com
INFO:root:Response handler...
INFO:root:Call with arg: {}
INFO:aiohttp.access:106.120.206.159 [24/May/2018:06:46:30 +0000] "GET /manage/blogs HTTP/1.1" 200 7439 "http://lxiao.net/" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/66.0.3359.181 Safari/537.36"
INFO:root:Request: GET /api/blogs
INFO:root:Check user: GET /api/blogs
INFO:root:SQL: select `id`, `email`, `created_at`, `image`, `name`, `admin`, `passwd` from `users` where `id`=?
INFO:root:Rows returned: 1
INFO:root:Set current user: m15801021028@163.com
INFO:root:Response handler...
INFO:root:Call with arg: {'request': <Request GET /api/blogs >, 'page': '1'}
INFO:root:SQL: select count(id) _num_ from `blogs`
INFO:root:Rows returned: 1
INFO:root:SQL: select `id`, `summary`, `created_at`, `user_name`, `private`, `user_id`, `content`, `name`, `user_image` from `blogs` order by created_at desc limit ?, ?
INFO:root:Rows returned: 5
INFO:aiohttp.access:106.120.206.159 [24/May/2018:06:46:30 +0000] "GET /api/blogs?page=1 HTTP/1.1" 200 26445 "http://lxiao.net/manage/blogs" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/66.0.3359.181 Safari/537.36"
INFO:root:Request: GET /manage/blogs/create
INFO:root:Check user: GET /manage/blogs/create
INFO:root:SQL: select `id`, `email`, `created_at`, `image`, `name`, `admin`, `passwd` from `users` where `id`=?
INFO:root:Rows returned: 1
INFO:root:Set current user: m15801021028@163.com
INFO:root:Response handler...
INFO:root:Call with arg: {}
INFO:aiohttp.access:106.120.206.159 [24/May/2018:06:46:33 +0000] "GET /manage/blogs/create HTTP/1.1" 200 6788 "http://lxiao.net/manage/blogs" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/66.0.3359.181 Safari/537.36"
INFO:root:Request: POST /api/blogs
INFO:root:Check user: POST /api/blogs
INFO:root:SQL: select `id`, `email`, `created_at`, `image`, `name`, `admin`, `passwd` from `users` where `id`=?
INFO:root:Rows returned: 1
INFO:root:Set current user: m15801021028@163.com
INFO:root:Response handler...
INFO:root:Call with arg: {'name': '[转] C++ 实现 HTTP 服务器（二）——实现篇', 'content': '##HTTP 客户端实现\n如果您能掌握以上说的 HTTP 协议，你就可以自己通过代码组装 HTTP 协议发送请求了（也是各种开源 HTTP 库的做法）。我们先简单地介绍一下如何模拟发送 HTTP。\n\n举个例子，我们要请求 http://www.hootina.org/index_2013.php，那么我们可以先通过域名得到 IP 地址，即通过 socket API ```gethostbyname()``` 得到 www.hootina.org 的 IP 地址，由于 HTTP 服务器默认的端口号是 80，有了域名和 IP 地址之后，我们使用 socket API ```connect()``` 去连接服务器，然后根据上面介绍的格式组装成 HTTP 协议包，利用 socket API ```send()``` 函数发出去，如果服务器有应答，我们可以使用 socket API ```recv()``` 去接受数据，接下来就是解析数据（先解析包头和包体）。\n\n##HTTP 服务器实现\n我们这里简化一些问题，假设客户端发送的请求都是 GET 请求，当客户端发来 HTTP 请求之后，我们拿到 HTTP 包后就做相应的处理。我们以给 flamingo 服务器实现一个支持 HTTP 格式的注册请求为例。假设用户在浏览器里面输入以下网址，就可以实现一个注册功能：\n```\nhttp://120.55.94.78:12345/register.do?p={"username": "13917043329", "nickname": "balloon", "password": "123"}\n```\n这里我们的 HTTP 协议使用的是 12345 端口号而不是默认的 80 端口。如何侦听 12345 端口，这个是非常基础的知识了，这里就不介绍了。当我们收到数据以后：\n```C++\nvoid HttpSession::OnRead(const std::shared_ptr<TcpConnection>& conn, Buffer* pBuffer, Timestamp receivTime) {\n    // LOG_INFO << "Recv a http request from " << conn->peerAddress().toIpPort();\n\n    string inbuf;\n    // 先把所有数据都取出来\n    inbuf.append(pBuffer->peek(), pBuffer->readableBytes());\n    // 因为一个http包头的数据至少\\r\\n\\r\\n，所以大于4个字符\n    // 小于等于4个字符，说明数据未收完，退出，等待网络底层接着收取\n    if (inbuf.length() <= 4)\n        return;\n\n    // 我们收到的GET请求数据包一般格式如下：\n    /*\n    GET /register.do?p={%22username%22:%20%2213917043329%22,%20%22nickname%22:%20%22balloon%22,%20%22password%22:%20%22123%22} HTTP/1.1\\r\\n\n    Host: 120.55.94.78:12345\\r\\n\n    Connection: keep-alive\\r\\n\n    Upgrade-Insecure-Requests: 1\\r\\n\n    User-Agent: Mozilla/5.0 (Windows NT 6.1; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/65.0.3325.146 Safari/537.36\\r\\n\n    Accept-Encoding: gzip, deflate\\r\\n\n    Accept-Language: zh-CN, zh; q=0.9, en; q=0.8\\r\\n\n    \\r\\n\n     */\n    // 检查是否以 \\r\\n\\r\\n 结束，如果不是说明包头不完整，退出\n    string end = inbuf.substr(inbuf.length() - 4);\n    if (end != "\\r\\n\\r\\n")\n        return;\n\n    // 以 \\r\\n 分割每一行\n    std::vector<string> lines;\n    StringUtil::Split(inbuf, lines, "\\r\\n");\n    if (lines.size() < 1 || lines[0].empty())\n    {\n        conn->forceClose();\n        return;\n    }\n\n    std::vector<string> chunk;\n    StringUtil::Split(lines[0], chunk, " ");\n    // chunk 中至少有三个字符串：GET + url + HTTP 版本号\n    if (chunk.size() < 3) {\n        conn->forceClose();\n        return;\n    }\n\n    LOG_INFO << "url: " << chunk[1] << " from " << conn->peerAddress().toIpPort();\n    // inbuf = /register.do?p={%22username%22:%20%2213917043329%22,%20%22nickname%22:%20%22balloon%22,%20%22password%22:%20%22123%22}\n    std::vector<string> part;\n    // 通过 ? 分割成前后两端，前面是 url，后面是参数\n    StringUtil::Split(chunk[1], part, "?");\n    if (part.size() < 2) {\n        conn->forceClose();\n        return;\n    }\n\n    string url = part[0];\n    string param = part[1].substr(2);\n\n    if (!Process(conn, url, param)) {\n        LOG_ERROR << "handle http request error, from:" << conn->peerAddress().toIpPort() << ", request: " << pBuffer->retrieveAllAsString();\n    }\n\n    // 短连接，处理完关闭连接\n    conn->forceClose();\n}\n```', 'request': <Request POST /api/blogs >, 'summary': '这个例子是作者的一款即时通讯软件的一部分，并不是全部代码，有一些自定义的类，体会精神就好~'}
ERROR:aiohttp.server:Error handling request
Traceback (most recent call last):
  File "/usr/local/lib/python3.5/dist-packages/aiohttp/web_protocol.py", line 416, in start
    resp = yield from self._request_handler(request)
  File "/usr/local/lib/python3.5/dist-packages/aiohttp/web.py", line 325, in _handle
    resp = yield from handler(request)
  File "/usr/local/lib/python3.5/dist-packages/aiohttp/web_middlewares.py", line 93, in impl
    return (yield from handler(request))
  File "app_80.py", line 42, in logger
    return (await handler(request))
  File "app_80.py", line 63, in auth
    return (await handler(request))
  File "app_80.py", line 82, in response
    r = await handler(request)
  File "/usr/local/lib/python3.5/dist-packages/aiohttp/web_urldispatcher.py", line 142, in handler_wrapper
    result = yield from result
  File "/home/admin/webapp/www/coroweb.py", line 152, in __call__
    r = await self._func(**kw)
  File "/usr/lib/python3.5/asyncio/coroutines.py", line 206, in coro
    res = func(*args, **kw)
  File "/home/admin/webapp/www/coroweb.py", line 33, in wrapper
    return func(*args, **kw)
TypeError: api_create_blog() missing 1 required keyword-only argument: 'private'
INFO:aiohttp.access:106.120.206.159 [24/May/2018:06:55:33 +0000] "POST /api/blogs HTTP/1.1" 500 331 "http://lxiao.net/manage/blogs/create" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/66.0.3359.181 Safari/537.36"
INFO:root:Request: POST /api/blogs
INFO:root:Check user: POST /api/blogs
INFO:root:SQL: select `id`, `email`, `created_at`, `image`, `name`, `admin`, `passwd` from `users` where `id`=?
INFO:root:Rows returned: 1
INFO:root:Set current user: m15801021028@163.com
INFO:root:Response handler...
INFO:root:Call with arg: {'private': True, 'name': '[转] C++ 实现 HTTP 服务器（二）——实现篇', 'content': '##HTTP 客户端实现\n如果您能掌握以上说的 HTTP 协议，你就可以自己通过代码组装 HTTP 协议发送请求了（也是各种开源 HTTP 库的做法）。我们先简单地介绍一下如何模拟发送 HTTP。\n\n举个例子，我们要请求 http://www.hootina.org/index_2013.php，那么我们可以先通过域名得到 IP 地址，即通过 socket API ```gethostbyname()``` 得到 www.hootina.org 的 IP 地址，由于 HTTP 服务器默认的端口号是 80，有了域名和 IP 地址之后，我们使用 socket API ```connect()``` 去连接服务器，然后根据上面介绍的格式组装成 HTTP 协议包，利用 socket API ```send()``` 函数发出去，如果服务器有应答，我们可以使用 socket API ```recv()``` 去接受数据，接下来就是解析数据（先解析包头和包体）。\n\n##HTTP 服务器实现\n我们这里简化一些问题，假设客户端发送的请求都是 GET 请求，当客户端发来 HTTP 请求之后，我们拿到 HTTP 包后就做相应的处理。我们以给 flamingo 服务器实现一个支持 HTTP 格式的注册请求为例。假设用户在浏览器里面输入以下网址，就可以实现一个注册功能：\n```\nhttp://120.55.94.78:12345/register.do?p={"username": "13917043329", "nickname": "balloon", "password": "123"}\n```\n这里我们的 HTTP 协议使用的是 12345 端口号而不是默认的 80 端口。如何侦听 12345 端口，这个是非常基础的知识了，这里就不介绍了。当我们收到数据以后：\n```C++\nvoid HttpSession::OnRead(const std::shared_ptr<TcpConnection>& conn, Buffer* pBuffer, Timestamp receivTime) {\n    // LOG_INFO << "Recv a http request from " << conn->peerAddress().toIpPort();\n\n    string inbuf;\n    // 先把所有数据都取出来\n    inbuf.append(pBuffer->peek(), pBuffer->readableBytes());\n    // 因为一个http包头的数据至少\\r\\n\\r\\n，所以大于4个字符\n    // 小于等于4个字符，说明数据未收完，退出，等待网络底层接着收取\n    if (inbuf.length() <= 4)\n        return;\n\n    // 我们收到的GET请求数据包一般格式如下：\n    /*\n    GET /register.do?p={%22username%22:%20%2213917043329%22,%20%22nickname%22:%20%22balloon%22,%20%22password%22:%20%22123%22} HTTP/1.1\\r\\n\n    Host: 120.55.94.78:12345\\r\\n\n    Connection: keep-alive\\r\\n\n    Upgrade-Insecure-Requests: 1\\r\\n\n    User-Agent: Mozilla/5.0 (Windows NT 6.1; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/65.0.3325.146 Safari/537.36\\r\\n\n    Accept-Encoding: gzip, deflate\\r\\n\n    Accept-Language: zh-CN, zh; q=0.9, en; q=0.8\\r\\n\n    \\r\\n\n     */\n    // 检查是否以 \\r\\n\\r\\n 结束，如果不是说明包头不完整，退出\n    string end = inbuf.substr(inbuf.length() - 4);\n    if (end != "\\r\\n\\r\\n")\n        return;\n\n    // 以 \\r\\n 分割每一行\n    std::vector<string> lines;\n    StringUtil::Split(inbuf, lines, "\\r\\n");\n    if (lines.size() < 1 || lines[0].empty())\n    {\n        conn->forceClose();\n        return;\n    }\n\n    std::vector<string> chunk;\n    StringUtil::Split(lines[0], chunk, " ");\n    // chunk 中至少有三个字符串：GET + url + HTTP 版本号\n    if (chunk.size() < 3) {\n        conn->forceClose();\n        return;\n    }\n\n    LOG_INFO << "url: " << chunk[1] << " from " << conn->peerAddress().toIpPort();\n    // inbuf = /register.do?p={%22username%22:%20%2213917043329%22,%20%22nickname%22:%20%22balloon%22,%20%22password%22:%20%22123%22}\n    std::vector<string> part;\n    // 通过 ? 分割成前后两端，前面是 url，后面是参数\n    StringUtil::Split(chunk[1], part, "?");\n    if (part.size() < 2) {\n        conn->forceClose();\n        return;\n    }\n\n    string url = part[0];\n    string param = part[1].substr(2);\n\n    if (!Process(conn, url, param)) {\n        LOG_ERROR << "handle http request error, from:" << conn->peerAddress().toIpPort() << ", request: " << pBuffer->retrieveAllAsString();\n    }\n\n    // 短连接，处理完关闭连接\n    conn->forceClose();\n}\n```', 'request': <Request POST /api/blogs >, 'summary': '这个例子是作者的一款即时通讯软件的一部分，并不是全部代码，有一些自定义的类，体会精神就好~'}
INFO:root:SQL: insert into `blogs` (`summary`, `created_at`, `user_name`, `private`, `user_id`, `content`, `name`, `user_image`, `id`) values (?, ?, ?, ?, ?, ?, ?, ?, ?)
INFO:aiohttp.access:106.120.206.159 [24/May/2018:06:55:38 +0000] "POST /api/blogs HTTP/1.1" 200 4820 "http://lxiao.net/manage/blogs/create" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/66.0.3359.181 Safari/537.36"
INFO:root:Request: GET /blog/0015271449383658f1cccdd67e540528799be7a2e93a20b000
INFO:root:Check user: GET /blog/0015271449383658f1cccdd67e540528799be7a2e93a20b000
INFO:root:SQL: select `id`, `email`, `created_at`, `image`, `name`, `admin`, `passwd` from `users` where `id`=?
INFO:root:Rows returned: 1
INFO:root:Set current user: m15801021028@163.com
INFO:root:Response handler...
INFO:root:Call with arg: {'id': '0015271449383658f1cccdd67e540528799be7a2e93a20b000'}
INFO:root:SQL: select `id`, `summary`, `created_at`, `user_name`, `private`, `user_id`, `content`, `name`, `user_image` from `blogs` where `id`=?
INFO:root:Rows returned: 1
INFO:root:SQL: select `id`, `content`, `user_name`, `blog_id`, `created_at`, `user_id`, `user_image` from `comments` where blog_id=? order by created_at desc
INFO:root:Rows returned: 0
INFO:aiohttp.access:106.120.206.159 [24/May/2018:06:55:38 +0000] "GET /blog/0015271449383658f1cccdd67e540528799be7a2e93a20b000 HTTP/1.1" 200 17240 "http://lxiao.net/manage/blogs/create" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/66.0.3359.181 Safari/537.36"
INFO:root:Request: GET /manage/blogs/edit
INFO:root:Check user: GET /manage/blogs/edit
INFO:root:SQL: select `id`, `email`, `created_at`, `image`, `name`, `admin`, `passwd` from `users` where `id`=?
INFO:root:Rows returned: 1
INFO:root:Set current user: m15801021028@163.com
INFO:root:Response handler...
INFO:root:Call with arg: {'id': '0015271449383658f1cccdd67e540528799be7a2e93a20b000'}
INFO:aiohttp.access:106.120.206.159 [24/May/2018:06:56:08 +0000] "GET /manage/blogs/edit?id=0015271449383658f1cccdd67e540528799be7a2e93a20b000 HTTP/1.1" 200 6889 "http://lxiao.net/blog/0015271449383658f1cccdd67e540528799be7a2e93a20b000" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/66.0.3359.181 Safari/537.36"
INFO:root:Request: GET /api/blogs/0015271449383658f1cccdd67e540528799be7a2e93a20b000
INFO:root:Check user: GET /api/blogs/0015271449383658f1cccdd67e540528799be7a2e93a20b000
INFO:root:SQL: select `id`, `email`, `created_at`, `image`, `name`, `admin`, `passwd` from `users` where `id`=?
INFO:root:Rows returned: 1
INFO:root:Set current user: m15801021028@163.com
INFO:root:Response handler...
INFO:root:Call with arg: {'id': '0015271449383658f1cccdd67e540528799be7a2e93a20b000'}
INFO:root:SQL: select `id`, `summary`, `created_at`, `user_name`, `private`, `user_id`, `content`, `name`, `user_image` from `blogs` where `id`=?
INFO:root:Rows returned: 1
INFO:aiohttp.access:106.120.206.159 [24/May/2018:06:56:08 +0000] "GET /api/blogs/0015271449383658f1cccdd67e540528799be7a2e93a20b000 HTTP/1.1" 200 4815 "http://lxiao.net/manage/blogs/edit?id=0015271449383658f1cccdd67e540528799be7a2e93a20b000" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/66.0.3359.181 Safari/537.36"
INFO:root:Request: POST /api/blogs/0015271449383658f1cccdd67e540528799be7a2e93a20b000
INFO:root:Check user: POST /api/blogs/0015271449383658f1cccdd67e540528799be7a2e93a20b000
INFO:root:SQL: select `id`, `email`, `created_at`, `image`, `name`, `admin`, `passwd` from `users` where `id`=?
INFO:root:Rows returned: 1
INFO:root:Set current user: m15801021028@163.com
INFO:root:Response handler...
INFO:root:Call with arg: {'request': <Request POST /api/blogs/0015271449383658f1cccdd67e540528799be7a2e93a20b000 >, 'id': '0015271449383658f1cccdd67e540528799be7a2e93a20b000', 'summary': '这个例子是作者的一款即时通讯软件的一部分，并不是全部代码，有一些自定义的类，体会精神就好~', 'private': 1, 'name': '[转] C++ 实现 HTTP 服务器（二）——实现篇', 'content': '##HTTP 客户端实现\n如果您能掌握以上说的 HTTP 协议，你就可以自己通过代码组装 HTTP 协议发送请求了（也是各种开源 HTTP 库的做法）。我们先简单地介绍一下如何模拟发送 HTTP。\n\n举个例子，我们要请求 http://www.hootina.org/index_2013.php，那么我们可以先通过域名得到 IP 地址，即通过 socket API ```gethostbyname()``` 得到 www.hootina.org 的 IP 地址，由于 HTTP 服务器默认的端口号是 80，有了域名和 IP 地址之后，我们使用 socket API ```connect()``` 去连接服务器，然后根据上面介绍的格式组装成 HTTP 协议包，利用 socket API ```send()``` 函数发出去，如果服务器有应答，我们可以使用 socket API ```recv()``` 去接受数据，接下来就是解析数据（先解析包头和包体）。\n\n##HTTP 服务器实现\n我们这里简化一些问题，假设客户端发送的请求都是 GET 请求，当客户端发来 HTTP 请求之后，我们拿到 HTTP 包后就做相应的处理。我们以给 flamingo 服务器实现一个支持 HTTP 格式的注册请求为例。假设用户在浏览器里面输入以下网址，就可以实现一个注册功能：\n```\nhttp://120.55.94.78:12345/register.do?p={"username": "13917043329", "nickname": "balloon", "password": "123"}\n```\n这里我们的 HTTP 协议使用的是 12345 端口号而不是默认的 80 端口。如何侦听 12345 端口，这个是非常基础的知识了，这里就不介绍了。当我们收到数据以后：\n```C++\nvoid HttpSession::OnRead(const std::shared_ptr<TcpConnection>& conn, Buffer* pBuffer, Timestamp receivTime) {\n    // LOG_INFO << "Recv a http request from " << conn->peerAddress().toIpPort();\n\n    string inbuf;\n    // 先把所有数据都取出来\n    inbuf.append(pBuffer->peek(), pBuffer->readableBytes());\n    // 因为一个http包头的数据至少\\r\\n\\r\\n，所以大于4个字符\n    // 小于等于4个字符，说明数据未收完，退出，等待网络底层接着收取\n    if(inbuf.length() <= 4)\n        return;\n\n    // 我们收到的GET请求数据包一般格式如下：\n    /*\n    GET /register.do?p={%22username%22:%20%2213917043329%22,%20%22nickname%22:%20%22balloon%22,%20%22password%22:%20%22123%22} HTTP/1.1\\r\\n\n    Host: 120.55.94.78:12345\\r\\n\n    Connection: keep-alive\\r\\n\n    Upgrade-Insecure-Requests: 1\\r\\n\n    User-Agent: Mozilla/5.0 (Windows NT 6.1; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/65.0.3325.146 Safari/537.36\\r\\n\n    Accept-Encoding: gzip, deflate\\r\\n\n    Accept-Language: zh-CN, zh; q=0.9, en; q=0.8\\r\\n\n    \\r\\n\n    */\n    // 检查是否以 \\r\\n\\r\\n 结束，如果不是说明包头不完整，退出\n    string end = inbuf.substr(inbuf.length() - 4);\n    if(end != "\\r\\n\\r\\n")\n        return;\n\n    // 以 \\r\\n 分割每一行\n    std::vector<string> lines;\n    StringUtil::Split(inbuf, lines, "\\r\\n");\n    if(lines.size() < 1 || lines[0].empty()) {\n        conn->forceClose();\n        return;\n    }\n\n    std::vector<string> chunk;\n    StringUtil::Split(lines[0], chunk, " ");\n    // chunk 中至少有三个字符串：GET + url + HTTP 版本号\n    if(chunk.size() < 3) {\n        conn->forceClose();\n        return;\n    }\n\n    LOG_INFO << "url: " << chunk[1] << " from " << conn->peerAddress().toIpPort();\n    // inbuf = /register.do?p={%22username%22:%20%2213917043329%22,%20%22nickname%22:%20%22balloon%22,%20%22password%22:%20%22123%22}\n    std::vector<string> part;\n    // 通过 ? 分割成前后两端，前面是 url，后面是参数\n    StringUtil::Split(chunk[1], part, "?");\n    if(part.size() < 2) {\n        conn->forceClose();\n        return;\n    }\n\n    string url = part[0];\n    string param = part[1].substr(2);\n\n    if(!Process(conn, url, param)) {\n        LOG_ERROR << "handle http request error, from:" << conn->peerAddress().toIpPort() << ", request: " << pBuffer->retrieveAllAsString();\n    }\n\n    // 短连接，处理完关闭连接\n    conn->forceClose();\n}\n```'}
INFO:root:SQL: select `id`, `summary`, `created_at`, `user_name`, `private`, `user_id`, `content`, `name`, `user_image` from `blogs` where `id`=?
INFO:root:Rows returned: 1
INFO:root:SQL: update `blogs` set `summary`=?, `created_at`=?, `user_name`=?, `private`=?, `user_id`=?, `content`=?, `name`=?, `user_image`=? where `id`=?
INFO:aiohttp.access:106.120.206.159 [24/May/2018:06:56:53 +0000] "POST /api/blogs/0015271449383658f1cccdd67e540528799be7a2e93a20b000 HTTP/1.1" 200 4803 "http://lxiao.net/manage/blogs/edit?id=0015271449383658f1cccdd67e540528799be7a2e93a20b000" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/66.0.3359.181 Safari/537.36"
INFO:root:Request: GET /blog/0015271449383658f1cccdd67e540528799be7a2e93a20b000
INFO:root:Check user: GET /blog/0015271449383658f1cccdd67e540528799be7a2e93a20b000
INFO:root:SQL: select `id`, `email`, `created_at`, `image`, `name`, `admin`, `passwd` from `users` where `id`=?
INFO:root:Rows returned: 1
INFO:root:Set current user: m15801021028@163.com
INFO:root:Response handler...
INFO:root:Call with arg: {'id': '0015271449383658f1cccdd67e540528799be7a2e93a20b000'}
INFO:root:SQL: select `id`, `summary`, `created_at`, `user_name`, `private`, `user_id`, `content`, `name`, `user_image` from `blogs` where `id`=?
INFO:root:Rows returned: 1
INFO:root:SQL: select `id`, `content`, `user_name`, `blog_id`, `created_at`, `user_id`, `user_image` from `comments` where blog_id=? order by created_at desc
INFO:root:Rows returned: 0
INFO:aiohttp.access:106.120.206.159 [24/May/2018:06:56:53 +0000] "GET /blog/0015271449383658f1cccdd67e540528799be7a2e93a20b000 HTTP/1.1" 200 17229 "http://lxiao.net/manage/blogs/edit?id=0015271449383658f1cccdd67e540528799be7a2e93a20b000" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/66.0.3359.181 Safari/537.36"
INFO:root:Request: GET /manage/blogs/edit
INFO:root:Check user: GET /manage/blogs/edit
INFO:root:SQL: select `id`, `email`, `created_at`, `image`, `name`, `admin`, `passwd` from `users` where `id`=?
INFO:root:Rows returned: 1
INFO:root:Set current user: m15801021028@163.com
INFO:root:Response handler...
INFO:root:Call with arg: {'id': '0015271449383658f1cccdd67e540528799be7a2e93a20b000'}
INFO:aiohttp.access:106.120.206.159 [24/May/2018:06:57:10 +0000] "GET /manage/blogs/edit?id=0015271449383658f1cccdd67e540528799be7a2e93a20b000 HTTP/1.1" 200 6889 "http://lxiao.net/blog/0015271449383658f1cccdd67e540528799be7a2e93a20b000" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/66.0.3359.181 Safari/537.36"
INFO:root:Request: GET /api/blogs/0015271449383658f1cccdd67e540528799be7a2e93a20b000
INFO:root:Check user: GET /api/blogs/0015271449383658f1cccdd67e540528799be7a2e93a20b000
INFO:root:SQL: select `id`, `email`, `created_at`, `image`, `name`, `admin`, `passwd` from `users` where `id`=?
INFO:root:Rows returned: 1
INFO:root:Set current user: m15801021028@163.com
INFO:root:Response handler...
INFO:root:Call with arg: {'id': '0015271449383658f1cccdd67e540528799be7a2e93a20b000'}
INFO:root:SQL: select `id`, `summary`, `created_at`, `user_name`, `private`, `user_id`, `content`, `name`, `user_image` from `blogs` where `id`=?
INFO:root:Rows returned: 1
INFO:aiohttp.access:106.120.206.159 [24/May/2018:06:57:10 +0000] "GET /api/blogs/0015271449383658f1cccdd67e540528799be7a2e93a20b000 HTTP/1.1" 200 4803 "http://lxiao.net/manage/blogs/edit?id=0015271449383658f1cccdd67e540528799be7a2e93a20b000" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/66.0.3359.181 Safari/537.36"
INFO:root:Request: POST /api/blogs/0015271449383658f1cccdd67e540528799be7a2e93a20b000
INFO:root:Check user: POST /api/blogs/0015271449383658f1cccdd67e540528799be7a2e93a20b000
INFO:root:SQL: select `id`, `email`, `created_at`, `image`, `name`, `admin`, `passwd` from `users` where `id`=?
INFO:root:Rows returned: 1
INFO:root:Set current user: m15801021028@163.com
INFO:root:Response handler...
INFO:root:Call with arg: {'request': <Request POST /api/blogs/0015271449383658f1cccdd67e540528799be7a2e93a20b000 >, 'id': '0015271449383658f1cccdd67e540528799be7a2e93a20b000', 'summary': '这个例子是作者的一款即时通讯软件的一部分，并不是全部代码，有一些自定义的类，体会精神就好~', 'private': 1, 'name': '[转] C++ 实现 HTTP 服务器（二）——实现篇', 'content': '##HTTP 客户端实现\n如果您能掌握以上说的 HTTP 协议，你就可以自己通过代码组装 HTTP 协议发送请求了（也是各种开源 HTTP 库的做法）。我们先简单地介绍一下如何模拟发送 HTTP。\n\n举个例子，我们要请求 http://www.hootina.org/index_2013.php，那么我们可以先通过域名得到 IP 地址，即通过 socket API ```gethostbyname()``` 得到 www.hootina.org 的 IP 地址，由于 HTTP 服务器默认的端口号是 80，有了域名和 IP 地址之后，我们使用 socket API ```connect()``` 去连接服务器，然后根据上面介绍的格式组装成 HTTP 协议包，利用 socket API ```send()``` 函数发出去，如果服务器有应答，我们可以使用 socket API ```recv()``` 去接受数据，接下来就是解析数据（先解析包头和包体）。\n\n##HTTP 服务器实现\n我们这里简化一些问题，假设客户端发送的请求都是 GET 请求，当客户端发来 HTTP 请求之后，我们拿到 HTTP 包后就做相应的处理。我们以给 flamingo 服务器实现一个支持 HTTP 格式的注册请求为例。假设用户在浏览器里面输入以下网址，就可以实现一个注册功能：\n```\nhttp://120.55.94.78:12345/register.do?p={"username": "13917043329", "nickname": "balloon", "password": "123"}\n```\n这里我们的 HTTP 协议使用的是 12345 端口号而不是默认的 80 端口。如何侦听 12345 端口，这个是非常基础的知识了，这里就不介绍了。当我们收到数据以后：\n```C++\nvoid HttpSession::OnRead(const std::shared_ptr<TcpConnection>& conn, Buffer* pBuffer, Timestamp receivTime) {\n    // LOG_INFO << "Recv a http request from " << conn->peerAddress().toIpPort();\n\n    string inbuf;\n    // 先把所有数据都取出来\n    inbuf.append(pBuffer->peek(), pBuffer->readableBytes());\n    // 因为一个http包头的数据至少\\r\\n\\r\\n，所以大于4个字符\n    // 小于等于4个字符，说明数据未收完，退出，等待网络底层接着收取\n    if(inbuf.length() <= 4)\n        return;\n\n    // 我们收到的GET请求数据包一般格式如下：\n    /*\n    GET /register.do?p={%22username%22:%20%2213917043329%22,%20%22nickname%22:%20%22balloon%22,%20%22password%22:%20%22123%22} HTTP/1.1\\r\\n\n    Host: 120.55.94.78:12345\\r\\n\n    Connection: keep-alive\\r\\n\n    Upgrade-Insecure-Requests: 1\\r\\n\n    User-Agent: Mozilla/5.0 (Windows NT 6.1; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/65.0.3325.146 Safari/537.36\\r\\n\n    Accept-Encoding: gzip, deflate\\r\\n\n    Accept-Language: zh-CN, zh; q=0.9, en; q=0.8\\r\\n\n    \\r\\n\n    */\n    // 检查是否以 \\r\\n\\r\\n 结束，如果不是说明包头不完整，退出\n    string end = inbuf.substr(inbuf.length() - 4);\n    if(end != "\\r\\n\\r\\n")\n        return;\n    // 超过 2048 个字符，我们认为是非法请求\n    else if(inbuf.length() >= MAX_URL_LENGTH) {\n        conn->forceClose();\n        return;\n    }\n\n    // 以 \\r\\n 分割每一行\n    std::vector<string> lines;\n    StringUtil::Split(inbuf, lines, "\\r\\n");\n    if(lines.size() < 1 || lines[0].empty()) {\n        conn->forceClose();\n        return;\n    }\n\n    std::vector<string> chunk;\n    StringUtil::Split(lines[0], chunk, " ");\n    // chunk 中至少有三个字符串：GET + url + HTTP 版本号\n    if(chunk.size() < 3) {\n        conn->forceClose();\n        return;\n    }\n\n    LOG_INFO << "url: " << chunk[1] << " from " << conn->peerAddress().toIpPort();\n    // inbuf = /register.do?p={%22username%22:%20%2213917043329%22,%20%22nickname%22:%20%22balloon%22,%20%22password%22:%20%22123%22}\n    std::vector<string> part;\n    // 通过 ? 分割成前后两端，前面是 url，后面是参数\n    StringUtil::Split(chunk[1], part, "?");\n    if(part.size() < 2) {\n        conn->forceClose();\n        return;\n    }\n\n    string url = part[0];\n    string param = part[1].substr(2);\n\n    if(!Process(conn, url, param)) {\n        LOG_ERROR << "handle http request error, from:" << conn->peerAddress().toIpPort() << ", request: " << pBuffer->retrieveAllAsString();\n    }\n\n    // 短连接，处理完关闭连接\n    conn->forceClose();\n}\n```\n我们首先利用 \\r\\n 分割得到了每一行，其中第一行的数据是：\n```\nGET /register.do?p={%22username%22:%20%2213917043329%22,%20%22nickname%22:%20%22balloon%22,%20%22password%22:%20%22123%22} HTTP/1.1\n```\n其中 %22 是双引号的 url 转码形式，%20 是空格的 url 转码形式，然后我们根据空格分成三段，其中第二段就是我们的网址和参数：\n```\n/register.do?p={%22username%22:%20%2213917043329%22,%20%22nickname%22:%20%22balloon%22,%20%22password%22:%20%22123%22}\n```\n然后我们根据网址与参数之间的问号将这个分成两段——第一段是网址，第二段是参数：\n```C++\nbool HttpSession::Process(const std::shared_ptr<TcpConnection>& conn, const std::string& url, const std::string& param) {\n    if(url.empty())\n        return false;\n\n    if(url == "/register.do") {\n        OnRegisterResponse(param, conn);\n    }\n    else if(url == "/login.do") {\n        OnLoginResponse(param, conn);\n    }\n    else if(url == "/getfriendlist.do") {}\n    else if(url == "/getgroupmembers.do") {}\n    else\n        return false;\n\n    return true;\n}\n```\n然后我们根据 url 匹配网址，如果是注册请求，会走注册处理逻辑：\n```C++\nvoid HttpSession::OnRegisterResponse(const std::string& data, const std::shared_ptr<TcpConnection>& conn) {\n    string retData;\n    string decodeData;\n    URLEncodeUtil::Decode(data, decodeData);\n    BussinessLogic::RegisterUser(decodeData, conn, false, retData);\n    if(!retData.empty()) {\n        std::string response;\n        URLEncodeUtil::Encode(retData, response);\n        MakeupResponse(retData, response);\n        conn->send(response);\n\n        LOG_INFO << "Response to client: cmd=msg_type_register" << ", data=" << retData << conn->peerAddress().toIpPort();;\n    }\n}\n注册结果放在 retData 中，为了发给客户端，我们将结果中的特殊字符如双引号转码，如返回结果是 ```{"code":0, "msg":"ok"}```，会被转码成 ```{%22code%22:0,%20%22msg%22:%22ok%22}```。\n\n然后，将数据组装成 HTTP 协议发给客户端，给客户端的应答协议与 HTTP 请求协议有一点点差别，就是将请求的 url 路径换成所谓的 HTTP 响应码，如 200 应答正常返回、404 页面不存在。应答协议格式如下：\n```\nGET 或 POST 响应码 HTTP 协议版本号\\r\\n\n字段 1 名: 字段 1 值\\r\\n\n字段 2 名: 字段 2 值\\r\\n\n     …\n字段 n 名 : 字段 n 值\\r\\n\n\\r\\n\nHTTP 协议包体内容\n```\n举个例子如：\n```\nHTTP/1.1 200 OK\\r\\n\nContent-Type: text/html\\r\\n\nContent-Length:42\\r\\n\n\\r\\n\n{%22code%22:%200,%20%22msg%22:%20%22ok%22}\n```\n注意，包头中的 Content-Length 长度必须正好是包体 ```{%22code%22:%200,%20%22msg%22:%20%22ok%22}``` 的长度，这里是 42。这也符合我们浏览器的返回结果：\n\n![](https://mmbiz.qpic.cn/mmbiz_png/TufFCFqd0g20rWK8TSia8pibg3U4XBaFMicWDX9ojy8qibk4DJdHDpFibEia19dibW2lZMaicTzZtzywIpIzbzyhED8yiaA/640?wx_fmt=png&tp=webp&wxfrom=5&wx_lazy=1)\n\n我们一般说 HTTP 连接一般是短连接，这里我们也实现了这个功能，看上面的代码 ```conn->forceClose();```，不管一个 HTTP 请求是否成功，服务器处理后立马就关闭连接。'}
INFO:root:SQL: select `id`, `summary`, `created_at`, `user_name`, `private`, `user_id`, `content`, `name`, `user_image` from `blogs` where `id`=?
INFO:root:Rows returned: 1
INFO:root:SQL: update `blogs` set `summary`=?, `created_at`=?, `user_name`=?, `private`=?, `user_id`=?, `content`=?, `name`=?, `user_image`=? where `id`=?
INFO:aiohttp.access:106.120.206.159 [24/May/2018:07:06:32 +0000] "POST /api/blogs/0015271449383658f1cccdd67e540528799be7a2e93a20b000 HTTP/1.1" 200 8259 "http://lxiao.net/manage/blogs/edit?id=0015271449383658f1cccdd67e540528799be7a2e93a20b000" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/66.0.3359.181 Safari/537.36"
INFO:root:Request: GET /blog/0015271449383658f1cccdd67e540528799be7a2e93a20b000
INFO:root:Check user: GET /blog/0015271449383658f1cccdd67e540528799be7a2e93a20b000
INFO:root:SQL: select `id`, `email`, `created_at`, `image`, `name`, `admin`, `passwd` from `users` where `id`=?
INFO:root:Rows returned: 1
INFO:root:Set current user: m15801021028@163.com
INFO:root:Response handler...
INFO:root:Call with arg: {'id': '0015271449383658f1cccdd67e540528799be7a2e93a20b000'}
INFO:root:SQL: select `id`, `summary`, `created_at`, `user_name`, `private`, `user_id`, `content`, `name`, `user_image` from `blogs` where `id`=?
INFO:root:Rows returned: 1
INFO:root:SQL: select `id`, `content`, `user_name`, `blog_id`, `created_at`, `user_id`, `user_image` from `comments` where blog_id=? order by created_at desc
INFO:root:Rows returned: 0
INFO:aiohttp.access:106.120.206.159 [24/May/2018:07:06:32 +0000] "GET /blog/0015271449383658f1cccdd67e540528799be7a2e93a20b000 HTTP/1.1" 200 26985 "http://lxiao.net/manage/blogs/edit?id=0015271449383658f1cccdd67e540528799be7a2e93a20b000" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/66.0.3359.181 Safari/537.36"
INFO:root:Request: GET /manage/blogs/edit
INFO:root:Check user: GET /manage/blogs/edit
INFO:root:SQL: select `id`, `email`, `created_at`, `image`, `name`, `admin`, `passwd` from `users` where `id`=?
INFO:root:Rows returned: 1
INFO:root:Set current user: m15801021028@163.com
INFO:root:Response handler...
INFO:root:Call with arg: {'id': '0015271449383658f1cccdd67e540528799be7a2e93a20b000'}
INFO:aiohttp.access:106.120.206.159 [24/May/2018:07:06:57 +0000] "GET /manage/blogs/edit?id=0015271449383658f1cccdd67e540528799be7a2e93a20b000 HTTP/1.1" 200 6889 "http://lxiao.net/blog/0015271449383658f1cccdd67e540528799be7a2e93a20b000" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/66.0.3359.181 Safari/537.36"
INFO:root:Request: GET /api/blogs/0015271449383658f1cccdd67e540528799be7a2e93a20b000
INFO:root:Check user: GET /api/blogs/0015271449383658f1cccdd67e540528799be7a2e93a20b000
INFO:root:SQL: select `id`, `email`, `created_at`, `image`, `name`, `admin`, `passwd` from `users` where `id`=?
INFO:root:Rows returned: 1
INFO:root:Set current user: m15801021028@163.com
INFO:root:Response handler...
INFO:root:Call with arg: {'id': '0015271449383658f1cccdd67e540528799be7a2e93a20b000'}
INFO:root:SQL: select `id`, `summary`, `created_at`, `user_name`, `private`, `user_id`, `content`, `name`, `user_image` from `blogs` where `id`=?
INFO:root:Rows returned: 1
INFO:aiohttp.access:106.120.206.159 [24/May/2018:07:06:57 +0000] "GET /api/blogs/0015271449383658f1cccdd67e540528799be7a2e93a20b000 HTTP/1.1" 200 8259 "http://lxiao.net/manage/blogs/edit?id=0015271449383658f1cccdd67e540528799be7a2e93a20b000" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/66.0.3359.181 Safari/537.36"
INFO:root:Request: POST /api/blogs/0015271449383658f1cccdd67e540528799be7a2e93a20b000
INFO:root:Check user: POST /api/blogs/0015271449383658f1cccdd67e540528799be7a2e93a20b000
INFO:root:SQL: select `id`, `email`, `created_at`, `image`, `name`, `admin`, `passwd` from `users` where `id`=?
INFO:root:Rows returned: 1
INFO:root:Set current user: m15801021028@163.com
INFO:root:Response handler...
INFO:root:Call with arg: {'request': <Request POST /api/blogs/0015271449383658f1cccdd67e540528799be7a2e93a20b000 >, 'id': '0015271449383658f1cccdd67e540528799be7a2e93a20b000', 'summary': '这个例子是作者的一款即时通讯软件的一部分，并不是全部代码，有一些自定义的类，体会精神就好~', 'private': 1, 'name': '[转] C++ 实现 HTTP 服务器（二）——实现篇', 'content': '##HTTP 客户端实现\n如果您能掌握以上说的 HTTP 协议，你就可以自己通过代码组装 HTTP 协议发送请求了（也是各种开源 HTTP 库的做法）。我们先简单地介绍一下如何模拟发送 HTTP。\n\n\u3000\u3000举个例子，我们要请求 http://www.hootina.org/index_2013.php，那么我们可以先通过域名得到 IP 地址，即通过 socket API ```gethostbyname()``` 得到 www.hootina.org 的 IP 地址，由于 HTTP 服务器默认的端口号是 80，有了域名和 IP 地址之后，我们使用 socket API ```connect()``` 去连接服务器，然后根据上面介绍的格式组装成 HTTP 协议包，利用 socket API ```send()``` 函数发出去，如果服务器有应答，我们可以使用 socket API ```recv()``` 去接受数据，接下来就是解析数据（先解析包头和包体）。\n\n##HTTP 服务器实现\n我们这里简化一些问题，假设客户端发送的请求都是 GET 请求，当客户端发来 HTTP 请求之后，我们拿到 HTTP 包后就做相应的处理。我们以给 flamingo 服务器实现一个支持 HTTP 格式的注册请求为例。假设用户在浏览器里面输入以下网址，就可以实现一个注册功能：\n```\nhttp://120.55.94.78:12345/register.do?p={"username": "13917043329", "nickname": "balloon", "password": "123"}\n```\n\u3000\u3000这里我们的 HTTP 协议使用的是 12345 端口号而不是默认的 80 端口。如何侦听 12345 端口，这个是非常基础的知识了，这里就不介绍了。当我们收到数据以后：\n```C++\nvoid HttpSession::OnRead(const std::shared_ptr<TcpConnection>& conn, Buffer* pBuffer, Timestamp receivTime) {\n    // LOG_INFO << "Recv a http request from " << conn->peerAddress().toIpPort();\n\n    string inbuf;\n    // 先把所有数据都取出来\n    inbuf.append(pBuffer->peek(), pBuffer->readableBytes());\n    // 因为一个http包头的数据至少\\r\\n\\r\\n，所以大于4个字符\n    // 小于等于4个字符，说明数据未收完，退出，等待网络底层接着收取\n    if(inbuf.length() <= 4)\n        return;\n\n    // 我们收到的GET请求数据包一般格式如下：\n    /*\n    GET /register.do?p={%22username%22:%20%2213917043329%22,%20%22nickname%22:%20%22balloon%22,%20%22password%22:%20%22123%22} HTTP/1.1\\r\\n\n    Host: 120.55.94.78:12345\\r\\n\n    Connection: keep-alive\\r\\n\n    Upgrade-Insecure-Requests: 1\\r\\n\n    User-Agent: Mozilla/5.0 (Windows NT 6.1; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/65.0.3325.146 Safari/537.36\\r\\n\n    Accept-Encoding: gzip, deflate\\r\\n\n    Accept-Language: zh-CN, zh; q=0.9, en; q=0.8\\r\\n\n    \\r\\n\n    */\n    // 检查是否以 \\r\\n\\r\\n 结束，如果不是说明包头不完整，退出\n    string end = inbuf.substr(inbuf.length() - 4);\n    if(end != "\\r\\n\\r\\n")\n        return;\n    // 超过 2048 个字符，我们认为是非法请求\n    else if(inbuf.length() >= MAX_URL_LENGTH) {\n        conn->forceClose();\n        return;\n    }\n\n    // 以 \\r\\n 分割每一行\n    std::vector<string> lines;\n    StringUtil::Split(inbuf, lines, "\\r\\n");\n    if(lines.size() < 1 || lines[0].empty()) {\n        conn->forceClose();\n        return;\n    }\n\n    std::vector<string> chunk;\n    StringUtil::Split(lines[0], chunk, " ");\n    // chunk 中至少有三个字符串：GET + url + HTTP 版本号\n    if(chunk.size() < 3) {\n        conn->forceClose();\n        return;\n    }\n\n    LOG_INFO << "url: " << chunk[1] << " from " << conn->peerAddress().toIpPort();\n    // inbuf = /register.do?p={%22username%22:%20%2213917043329%22,%20%22nickname%22:%20%22balloon%22,%20%22password%22:%20%22123%22}\n    std::vector<string> part;\n    // 通过 ? 分割成前后两端，前面是 url，后面是参数\n    StringUtil::Split(chunk[1], part, "?");\n    if(part.size() < 2) {\n        conn->forceClose();\n        return;\n    }\n\n    string url = part[0];\n    string param = part[1].substr(2);\n\n    if(!Process(conn, url, param)) {\n        LOG_ERROR << "handle http request error, from:" << conn->peerAddress().toIpPort() << ", request: " << pBuffer->retrieveAllAsString();\n    }\n\n    // 短连接，处理完关闭连接\n    conn->forceClose();\n}\n```\n\u3000\u3000我们首先利用 \\r\\n 分割得到了每一行，其中第一行的数据是：\n```\nGET /register.do?p={%22username%22:%20%2213917043329%22,%20%22nickname%22:%20%22balloon%22,%20%22password%22:%20%22123%22} HTTP/1.1\n```\n\u3000\u3000其中 %22 是双引号的 url 转码形式，%20 是空格的 url 转码形式，然后我们根据空格分成三段，其中第二段就是我们的网址和参数：\n```\n/register.do?p={%22username%22:%20%2213917043329%22,%20%22nickname%22:%20%22balloon%22,%20%22password%22:%20%22123%22}\n```\n\u3000\u3000然后我们根据网址与参数之间的问号将这个分成两段——第一段是网址，第二段是参数：\n```C++\nbool HttpSession::Process(const std::shared_ptr<TcpConnection>& conn, const std::string& url, const std::string& param) {\n    if(url.empty())\n        return false;\n\n    if(url == "/register.do") {\n        OnRegisterResponse(param, conn);\n    }\n    else if(url == "/login.do") {\n        OnLoginResponse(param, conn);\n    }\n    else if(url == "/getfriendlist.do") {}\n    else if(url == "/getgroupmembers.do") {}\n    else\n        return false;\n\n    return true;\n}\n```\n\u3000\u3000然后我们根据 url 匹配网址，如果是注册请求，会走注册处理逻辑：\n```C++\nvoid HttpSession::OnRegisterResponse(const std::string& data, const std::shared_ptr<TcpConnection>& conn) {\n    string retData;\n    string decodeData;\n    URLEncodeUtil::Decode(data, decodeData);\n    BussinessLogic::RegisterUser(decodeData, conn, false, retData);\n    if(!retData.empty()) {\n        std::string response;\n        URLEncodeUtil::Encode(retData, response);\n        MakeupResponse(retData, response);\n        conn->send(response);\n\n        LOG_INFO << "Response to client: cmd=msg_type_register" << ", data=" << retData << conn->peerAddress().toIpPort();;\n    }\n}\n```\n\u3000\u3000注册结果放在 retData 中，为了发给客户端，我们将结果中的特殊字符如双引号转码，如返回结果是 ```{"code":0, "msg":"ok"}```，会被转码成 ```{%22code%22:0,%20%22msg%22:%22ok%22}```。\n\n\u3000\u3000然后，将数据组装成 HTTP 协议发给客户端，给客户端的应答协议与 HTTP 请求协议有一点点差别，就是将请求的 url 路径换成所谓的 HTTP 响应码，如 200 应答正常返回、404 页面不存在。应答协议格式如下：\n```\nGET 或 POST 响应码 HTTP 协议版本号\\r\\n\n字段 1 名: 字段 1 值\\r\\n\n字段 2 名: 字段 2 值\\r\\n\n     …\n字段 n 名 : 字段 n 值\\r\\n\n\\r\\n\nHTTP 协议包体内容\n```\n\u3000\u3000举个例子如：\n```\nHTTP/1.1 200 OK\\r\\n\nContent-Type: text/html\\r\\n\nContent-Length:42\\r\\n\n\\r\\n\n{%22code%22:%200,%20%22msg%22:%20%22ok%22}\n```\n\u3000\u3000注意，包头中的 Content-Length 长度必须正好是包体 ```{%22code%22:%200,%20%22msg%22:%20%22ok%22}``` 的长度，这里是 42。这也符合我们浏览器的返回结果：\n\n![](https://mmbiz.qpic.cn/mmbiz_png/TufFCFqd0g20rWK8TSia8pibg3U4XBaFMicWDX9ojy8qibk4DJdHDpFibEia19dibW2lZMaicTzZtzywIpIzbzyhED8yiaA/640?wx_fmt=png&tp=webp&wxfrom=5&wx_lazy=1)\n\n\u3000\u3000我们一般说 HTTP 连接一般是短连接，这里我们也实现了这个功能，看上面的代码 ```conn->forceClose();```，不管一个 HTTP 请求是否成功，服务器处理后立马就关闭连接。'}
INFO:root:SQL: select `id`, `summary`, `created_at`, `user_name`, `private`, `user_id`, `content`, `name`, `user_image` from `blogs` where `id`=?
INFO:root:Rows returned: 1
INFO:root:SQL: update `blogs` set `summary`=?, `created_at`=?, `user_name`=?, `private`=?, `user_id`=?, `content`=?, `name`=?, `user_image`=? where `id`=?
INFO:aiohttp.access:106.120.206.159 [24/May/2018:07:08:00 +0000] "POST /api/blogs/0015271449383658f1cccdd67e540528799be7a2e93a20b000 HTTP/1.1" 200 8330 "http://lxiao.net/manage/blogs/edit?id=0015271449383658f1cccdd67e540528799be7a2e93a20b000" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/66.0.3359.181 Safari/537.36"
INFO:root:Request: GET /blog/0015271449383658f1cccdd67e540528799be7a2e93a20b000
INFO:root:Check user: GET /blog/0015271449383658f1cccdd67e540528799be7a2e93a20b000
INFO:root:SQL: select `id`, `email`, `created_at`, `image`, `name`, `admin`, `passwd` from `users` where `id`=?
INFO:root:Rows returned: 1
INFO:root:Set current user: m15801021028@163.com
INFO:root:Response handler...
INFO:root:Call with arg: {'id': '0015271449383658f1cccdd67e540528799be7a2e93a20b000'}
INFO:root:SQL: select `id`, `summary`, `created_at`, `user_name`, `private`, `user_id`, `content`, `name`, `user_image` from `blogs` where `id`=?
INFO:root:Rows returned: 1
INFO:root:SQL: select `id`, `content`, `user_name`, `blog_id`, `created_at`, `user_id`, `user_image` from `comments` where blog_id=? order by created_at desc
INFO:root:Rows returned: 0
INFO:aiohttp.access:106.120.206.159 [24/May/2018:07:08:01 +0000] "GET /blog/0015271449383658f1cccdd67e540528799be7a2e93a20b000 HTTP/1.1" 200 25863 "http://lxiao.net/manage/blogs/edit?id=0015271449383658f1cccdd67e540528799be7a2e93a20b000" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/66.0.3359.181 Safari/537.36"
INFO:root:Request: GET /manage/blogs/edit
INFO:root:Check user: GET /manage/blogs/edit
INFO:root:SQL: select `id`, `email`, `created_at`, `image`, `name`, `admin`, `passwd` from `users` where `id`=?
INFO:root:Rows returned: 1
INFO:root:Set current user: m15801021028@163.com
INFO:root:Response handler...
INFO:root:Call with arg: {'id': '0015271449383658f1cccdd67e540528799be7a2e93a20b000'}
INFO:aiohttp.access:106.120.206.159 [24/May/2018:07:09:37 +0000] "GET /manage/blogs/edit?id=0015271449383658f1cccdd67e540528799be7a2e93a20b000 HTTP/1.1" 200 6889 "http://lxiao.net/blog/0015271449383658f1cccdd67e540528799be7a2e93a20b000" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/66.0.3359.181 Safari/537.36"
INFO:root:Request: GET /api/blogs/0015271449383658f1cccdd67e540528799be7a2e93a20b000
INFO:root:Check user: GET /api/blogs/0015271449383658f1cccdd67e540528799be7a2e93a20b000
INFO:root:SQL: select `id`, `email`, `created_at`, `image`, `name`, `admin`, `passwd` from `users` where `id`=?
INFO:root:Rows returned: 1
INFO:root:Set current user: m15801021028@163.com
INFO:root:Response handler...
INFO:root:Call with arg: {'id': '0015271449383658f1cccdd67e540528799be7a2e93a20b000'}
INFO:root:SQL: select `id`, `summary`, `created_at`, `user_name`, `private`, `user_id`, `content`, `name`, `user_image` from `blogs` where `id`=?
INFO:root:Rows returned: 1
INFO:aiohttp.access:106.120.206.159 [24/May/2018:07:09:37 +0000] "GET /api/blogs/0015271449383658f1cccdd67e540528799be7a2e93a20b000 HTTP/1.1" 200 8330 "http://lxiao.net/manage/blogs/edit?id=0015271449383658f1cccdd67e540528799be7a2e93a20b000" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/66.0.3359.181 Safari/537.36"
INFO:root:Request: POST /api/blogs/0015271449383658f1cccdd67e540528799be7a2e93a20b000
INFO:root:Check user: POST /api/blogs/0015271449383658f1cccdd67e540528799be7a2e93a20b000
INFO:root:SQL: select `id`, `email`, `created_at`, `image`, `name`, `admin`, `passwd` from `users` where `id`=?
INFO:root:Rows returned: 1
INFO:root:Set current user: m15801021028@163.com
INFO:root:Response handler...
INFO:root:Call with arg: {'request': <Request POST /api/blogs/0015271449383658f1cccdd67e540528799be7a2e93a20b000 >, 'id': '0015271449383658f1cccdd67e540528799be7a2e93a20b000', 'summary': '这个例子是作者的一款即时通讯软件的一部分，并不是全部代码，有一些自定义的类，体会精神就好~', 'private': 1, 'name': '[转] C++ 实现 HTTP 服务器（二）——实现篇', 'content': '##HTTP 客户端实现\n如果您能掌握以上说的 HTTP 协议，你就可以自己通过代码组装 HTTP 协议发送请求了（也是各种开源 HTTP 库的做法）。我们先简单地介绍一下如何模拟发送 HTTP。\n\n\u3000\u3000举个例子，我们要请求 http://www.hootina.org/index_2013.php，那么我们可以先通过域名得到 IP 地址，即通过 socket API ```gethostbyname()``` 得到 www.hootina.org 的 IP 地址，由于 HTTP 服务器默认的端口号是 80，有了域名和 IP 地址之后，我们使用 socket API ```connect()``` 去连接服务器，然后根据上面介绍的格式组装成 HTTP 协议包，利用 socket API ```send()``` 函数发出去，如果服务器有应答，我们可以使用 socket API ```recv()``` 去接受数据，接下来就是解析数据（先解析包头和包体）。\n\n##HTTP 服务器实现\n我们这里简化一些问题，假设客户端发送的请求都是 GET 请求，当客户端发来 HTTP 请求之后，我们拿到 HTTP 包后就做相应的处理。我们以给 flamingo 服务器实现一个支持 HTTP 格式的注册请求为例。假设用户在浏览器里面输入以下网址，就可以实现一个注册功能：\n```\nhttp://120.55.94.78:12345/register.do?p={"username": "13917043329", "nickname": "balloon", "password": "123"}\n```\n\u3000\u3000这里我们的 HTTP 协议使用的是 12345 端口号而不是默认的 80 端口。当我们收到数据以后：\n```C++\nvoid HttpSession::OnRead(const std::shared_ptr<TcpConnection>& conn, Buffer* pBuffer, Timestamp receivTime) {\n    // LOG_INFO << "Recv a http request from " << conn->peerAddress().toIpPort();\n\n    string inbuf;\n    // 先把所有数据都取出来\n    inbuf.append(pBuffer->peek(), pBuffer->readableBytes());\n    // 因为一个http包头的数据至少\\r\\n\\r\\n，所以大于4个字符\n    // 小于等于4个字符，说明数据未收完，退出，等待网络底层接着收取\n    if(inbuf.length() <= 4)\n        return;\n\n    // 我们收到的GET请求数据包一般格式如下：\n    /*\n    GET /register.do?p={%22username%22:%20%2213917043329%22,%20%22nickname%22:%20%22balloon%22,%20%22password%22:%20%22123%22} HTTP/1.1\\r\\n\n    Host: 120.55.94.78:12345\\r\\n\n    Connection: keep-alive\\r\\n\n    Upgrade-Insecure-Requests: 1\\r\\n\n    User-Agent: Mozilla/5.0 (Windows NT 6.1; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/65.0.3325.146 Safari/537.36\\r\\n\n    Accept-Encoding: gzip, deflate\\r\\n\n    Accept-Language: zh-CN, zh; q=0.9, en; q=0.8\\r\\n\n    \\r\\n\n    */\n    // 检查是否以 \\r\\n\\r\\n 结束，如果不是说明包头不完整，退出\n    string end = inbuf.substr(inbuf.length() - 4);\n    if(end != "\\r\\n\\r\\n")\n        return;\n    // 超过 2048 个字符，我们认为是非法请求\n    else if(inbuf.length() >= MAX_URL_LENGTH) {\n        conn->forceClose();\n        return;\n    }\n\n    // 以 \\r\\n 分割每一行\n    std::vector<string> lines;\n    StringUtil::Split(inbuf, lines, "\\r\\n");\n    if(lines.size() < 1 || lines[0].empty()) {\n        conn->forceClose();\n        return;\n    }\n\n    std::vector<string> chunk;\n    StringUtil::Split(lines[0], chunk, " ");\n    // chunk 中至少有三个字符串：GET + url + HTTP 版本号\n    if(chunk.size() < 3) {\n        conn->forceClose();\n        return;\n    }\n\n    LOG_INFO << "url: " << chunk[1] << " from " << conn->peerAddress().toIpPort();\n    // inbuf = /register.do?p={%22username%22:%20%2213917043329%22,%20%22nickname%22:%20%22balloon%22,%20%22password%22:%20%22123%22}\n    std::vector<string> part;\n    // 通过 ? 分割成前后两端，前面是 url，后面是参数\n    StringUtil::Split(chunk[1], part, "?");\n    if(part.size() < 2) {\n        conn->forceClose();\n        return;\n    }\n\n    string url = part[0];\n    string param = part[1].substr(2);\n\n    if(!Process(conn, url, param)) {\n        LOG_ERROR << "handle http request error, from:" << conn->peerAddress().toIpPort() << ", request: " << pBuffer->retrieveAllAsString();\n    }\n\n    // 短连接，处理完关闭连接\n    conn->forceClose();\n}\n```\n\u3000\u3000我们首先利用 \\r\\n 分割得到了每一行，其中第一行的数据是：\n```\nGET /register.do?p={%22username%22:%20%2213917043329%22,%20%22nickname%22:%20%22balloon%22,%20%22password%22:%20%22123%22} HTTP/1.1\n```\n\u3000\u3000其中 %22 是双引号的 url 转码形式，%20 是空格的 url 转码形式，然后我们根据空格分成三段，其中第二段就是我们的网址和参数：\n```\n/register.do?p={%22username%22:%20%2213917043329%22,%20%22nickname%22:%20%22balloon%22,%20%22password%22:%20%22123%22}\n```\n\u3000\u3000然后我们根据网址与参数之间的问号将这个分成两段——第一段是网址，第二段是参数：\n```C++\nbool HttpSession::Process(const std::shared_ptr<TcpConnection>& conn, const std::string& url, const std::string& param) {\n    if(url.empty())\n        return false;\n\n    if(url == "/register.do") {\n        OnRegisterResponse(param, conn);\n    }\n    else if(url == "/login.do") {\n        OnLoginResponse(param, conn);\n    }\n    else if(url == "/getfriendlist.do") {}\n    else if(url == "/getgroupmembers.do") {}\n    else\n        return false;\n\n    return true;\n}\n```\n\u3000\u3000然后我们根据 url 匹配网址，如果是注册请求，会走注册处理逻辑：\n```C++\nvoid HttpSession::OnRegisterResponse(const std::string& data, const std::shared_ptr<TcpConnection>& conn) {\n    string retData;\n    string decodeData;\n    URLEncodeUtil::Decode(data, decodeData);\n    BussinessLogic::RegisterUser(decodeData, conn, false, retData);\n    if(!retData.empty()) {\n        std::string response;\n        URLEncodeUtil::Encode(retData, response);\n        MakeupResponse(retData, response);\n        conn->send(response);\n\n        LOG_INFO << "Response to client: cmd=msg_type_register" << ", data=" << retData << conn->peerAddress().toIpPort();;\n    }\n}\n```\n\u3000\u3000注册结果放在 retData 中，为了发给客户端，我们将结果中的特殊字符如双引号转码，如返回结果是 ```{"code":0, "msg":"ok"}```，会被转码成 ```{%22code%22:0,%20%22msg%22:%22ok%22}```。\n\n\u3000\u3000然后，将数据组装成 HTTP 协议发给客户端，给客户端的应答协议与 HTTP 请求协议有一点点差别，就是将请求的 url 路径换成所谓的 HTTP 响应码，如 200 应答正常返回、404 页面不存在。应答协议格式如下：\n```\nGET 或 POST 响应码 HTTP 协议版本号\\r\\n\n字段 1 名: 字段 1 值\\r\\n\n字段 2 名: 字段 2 值\\r\\n\n     …\n字段 n 名 : 字段 n 值\\r\\n\n\\r\\n\nHTTP 协议包体内容\n```\n\u3000\u3000举个例子如：\n```\nHTTP/1.1 200 OK\\r\\n\nContent-Type: text/html\\r\\n\nContent-Length:42\\r\\n\n\\r\\n\n{%22code%22:%200,%20%22msg%22:%20%22ok%22}\n```\n\u3000\u3000注意，包头中的 Content-Length 长度必须正好是包体 ```{%22code%22:%200,%20%22msg%22:%20%22ok%22}``` 的长度，这里是 42。这也符合我们浏览器的返回结果：\n\n![](https://github.com/LXiao2015/pictures/blob/master/%E6%90%9C%E7%8B%97%E6%88%AA%E5%9B%BE20180524150902.jpg?raw=true)\n\n\u3000\u3000我们一般说 HTTP 连接一般是短连接，这里我们也实现了这个功能，看上面的代码 ```conn->forceClose();```，不管一个 HTTP 请求是否成功，服务器处理后立马就关闭连接。'}
INFO:root:SQL: select `id`, `summary`, `created_at`, `user_name`, `private`, `user_id`, `content`, `name`, `user_image` from `blogs` where `id`=?
INFO:root:Rows returned: 1
INFO:root:SQL: update `blogs` set `summary`=?, `created_at`=?, `user_name`=?, `private`=?, `user_id`=?, `content`=?, `name`=?, `user_image`=? where `id`=?
INFO:aiohttp.access:106.120.206.159 [24/May/2018:07:10:44 +0000] "POST /api/blogs/0015271449383658f1cccdd67e540528799be7a2e93a20b000 HTTP/1.1" 200 8186 "http://lxiao.net/manage/blogs/edit?id=0015271449383658f1cccdd67e540528799be7a2e93a20b000" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/66.0.3359.181 Safari/537.36"
INFO:root:Request: GET /blog/0015271449383658f1cccdd67e540528799be7a2e93a20b000
INFO:root:Check user: GET /blog/0015271449383658f1cccdd67e540528799be7a2e93a20b000
INFO:root:SQL: select `id`, `email`, `created_at`, `image`, `name`, `admin`, `passwd` from `users` where `id`=?
INFO:root:Rows returned: 1
INFO:root:Set current user: m15801021028@163.com
INFO:root:Response handler...
INFO:root:Call with arg: {'id': '0015271449383658f1cccdd67e540528799be7a2e93a20b000'}
INFO:root:SQL: select `id`, `summary`, `created_at`, `user_name`, `private`, `user_id`, `content`, `name`, `user_image` from `blogs` where `id`=?
INFO:root:Rows returned: 1
INFO:root:SQL: select `id`, `content`, `user_name`, `blog_id`, `created_at`, `user_id`, `user_image` from `comments` where blog_id=? order by created_at desc
INFO:root:Rows returned: 0
INFO:aiohttp.access:106.120.206.159 [24/May/2018:07:10:44 +0000] "GET /blog/0015271449383658f1cccdd67e540528799be7a2e93a20b000 HTTP/1.1" 200 25707 "http://lxiao.net/manage/blogs/edit?id=0015271449383658f1cccdd67e540528799be7a2e93a20b000" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/66.0.3359.181 Safari/537.36"
INFO:root:Request: GET /
INFO:root:Check user: GET /
INFO:root:SQL: select `id`, `email`, `created_at`, `image`, `name`, `admin`, `passwd` from `users` where `id`=?
INFO:root:Rows returned: 1
INFO:root:Set current user: m15801021028@163.com
INFO:root:Response handler...
INFO:root:Call with arg: {'request': <Request GET / >}
INFO:aiohttp.access:106.120.206.159 [24/May/2018:07:11:03 +0000] "GET / HTTP/1.1" 200 5577 "http://lxiao.net/blog/0015271449383658f1cccdd67e540528799be7a2e93a20b000" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/66.0.3359.181 Safari/537.36"
INFO:root:Request: GET /api/blogs
INFO:root:Check user: GET /api/blogs
INFO:root:SQL: select `id`, `email`, `created_at`, `image`, `name`, `admin`, `passwd` from `users` where `id`=?
INFO:root:Rows returned: 1
INFO:root:Set current user: m15801021028@163.com
INFO:root:Response handler...
INFO:root:Call with arg: {'request': <Request GET /api/blogs >, 'page': '1'}
INFO:root:SQL: select count(id) _num_ from `blogs`
INFO:root:Rows returned: 1
INFO:root:SQL: select `id`, `summary`, `created_at`, `user_name`, `private`, `user_id`, `content`, `name`, `user_image` from `blogs` order by created_at desc limit ?, ?
INFO:root:Rows returned: 5
INFO:aiohttp.access:106.120.206.159 [24/May/2018:07:11:04 +0000] "GET /api/blogs?page=1 HTTP/1.1" 200 26475 "http://lxiao.net/" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/66.0.3359.181 Safari/537.36"
INFO:root:Request: GET /
INFO:root:Check user: GET /
INFO:root:Response handler...
INFO:root:Call with arg: {'request': <Request GET / >}
INFO:aiohttp.access:103.196.211.210 [24/May/2018:07:29:20 +0000] "GET / HTTP/1.1" 200 5383 "-" "Mozilla/5.0 (Windows NT 6.1; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/52.0.2743.116 Safari/537.36"
INFO:root:Request: GET /
INFO:root:Check user: GET /
INFO:root:Response handler...
INFO:root:Call with arg: {'request': <Request GET / >}
INFO:aiohttp.access:187.95.16.103 [24/May/2018:07:56:31 +0000] "GET / HTTP/1.1" 200 5383 "-" "Mozilla/5.0 (Windows NT 6.1; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/52.0.2743.116 Safari/537.36"
INFO:root:Request: GET /
INFO:root:Check user: GET /
INFO:root:Response handler...
INFO:root:Call with arg: {'request': <Request GET / >}
INFO:aiohttp.access:109.226.205.177 [24/May/2018:07:57:54 +0000] "GET / HTTP/1.1" 200 5383 "-" "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_11_6) AppleWebKit/601.7.7 (KHTML, like Gecko) Version/9.1.2 Safari/601.7.7"
INFO:root:Request: GET /
INFO:root:Check user: GET /
INFO:root:Response handler...
INFO:root:Call with arg: {'request': <Request GET / >}
INFO:aiohttp.access:180.92.227.195 [24/May/2018:08:00:46 +0000] "GET / HTTP/1.1" 200 5383 "-" "Mozilla/5.0 (Windows NT 10.0; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/52.0.2743.116 Safari/537.36"
INFO:root:Found model: User (table: users)
INFO:root:Found model: User (table: users)
INFO:root:  Found mapping: name ==> <StringField, varchar(100):None>
INFO:root:  Found mapping: id ==> <IntegerField, bigint:None>
INFO:root:  Found mapping: name ==> <StringField, varchar(100):None>
INFO:root:  Found mapping: id ==> <IntegerField, bigint:None>
INFO:root:Found model: User (table: users)
INFO:root:  Found mapping: created_at ==> <FloatField, real:None>
INFO:root:  Found mapping: passwd ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: admin ==> <BooleanField, boolean:None>
INFO:root:  Found mapping: email ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: image ==> <StringField, varchar(500):None>
INFO:root:  Found mapping: name ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: id ==> <StringField, varchar(50):None>
INFO:root:Found model: Blog (table: blogs)
INFO:root:  Found mapping: private ==> <BooleanField, boolean:None>
INFO:root:  Found mapping: user_name ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: content ==> <TextField, text:None>
INFO:root:  Found mapping: id ==> <StringField, varchat(50):None>
INFO:root:  Found mapping: summary ==> <StringField, varchar(200):None>
INFO:root:  Found mapping: user_id ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: created_at ==> <FloatField, real:None>
INFO:root:  Found mapping: name ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: user_image ==> <StringField, varchar(500):None>
INFO:root:Found model: Comment (table: comments)
INFO:root:  Found mapping: user_id ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: user_name ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: created_at ==> <FloatField, real:None>
INFO:root:  Found mapping: blog_id ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: content ==> <TextField, text:None>
INFO:root:  Found mapping: user_image ==> <StringField, varchar(500):None>
INFO:root:  Found mapping: id ==> <StringField, varchar(50):None>
INFO:root:Create database connection pool...
INFO:root:Init jinja2...
INFO:root:Set jinja2 template path: /home/admin/webapp/www/templates
INFO:root:add route GET /api/blogs => api_blogs(request, page)
INFO:root:add route GET /api/comments => api_comments(page)
INFO:root:add route POST /api/blogs => api_create_blog(request, name, summary, content, private)
INFO:root:add route POST /api/blogs/{id}/comments => api_create_comment(id, request, content)
INFO:root:add route POST /api/blogs/{id}/delete => api_delete_blog(id, request)
INFO:root:add route POST /api/comments/{id}/delete => api_delete_comment(id, request)
INFO:root:Found model: User (table: users)
INFO:root:  Found mapping: admin ==> <BooleanField, boolean:None>
INFO:root:  Found mapping: id ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: name ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: image ==> <StringField, varchar(500):None>
INFO:root:  Found mapping: created_at ==> <FloatField, real:None>
INFO:root:  Found mapping: email ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: passwd ==> <StringField, varchar(50):None>
INFO:root:Found model: Blog (table: blogs)
INFO:root:add route GET /api/blogs/{id} => api_get_blog(id)
INFO:root:add route GET /api/users => api_get_users(page)
INFO:root:add route POST /api/users => api_register_user(email, name, passwd)
INFO:root:add route POST /api/blogs/{id}/secret => api_set_private(id, request)
INFO:root:  Found mapping: user_name ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: content ==> <TextField, text:None>
INFO:root:  Found mapping: summary ==> <StringField, varchar(200):None>
INFO:root:  Found mapping: private ==> <BooleanField, boolean:None>
INFO:root:  Found mapping: user_image ==> <StringField, varchar(500):None>
INFO:root:  Found mapping: user_id ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: created_at ==> <FloatField, real:None>
INFO:root:  Found mapping: id ==> <StringField, varchat(50):None>
INFO:root:  Found mapping: name ==> <StringField, varchar(50):None>
INFO:root:Found model: Comment (table: comments)
INFO:root:  Found mapping: id ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: content ==> <TextField, text:None>
INFO:root:  Found mapping: user_id ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: blog_id ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: user_image ==> <StringField, varchar(500):None>
INFO:root:  Found mapping: user_name ==> <StringField, varchar(50):None>
INFO:root:  Found mapping: created_at ==> <FloatField, real:None>
INFO:root:add route POST /api/blogs/{id} => api_update_blog(id, request, name, summary, content, private)
INFO:root:add route POST /api/authenticate => authenticate(email, passwd)
INFO:root:add route GET /blog/{id} => get_blog(id)
INFO:root:add route GET / => index(request, page)
INFO:root:add route GET /manage/ => manage()
INFO:root:Create database connection pool...
INFO:root:add route GET /manage/blogs => manage_blogs(page)
INFO:root:add route GET /manage/comments => manage_comments(page)
INFO:root:add route GET /manage/blogs/create => manage_create_blogs()
INFO:root:add route GET /manage/blogs/edit => manage_edit_blog(id)
INFO:root:add route GET /manage/users => manage_users(page)
INFO:root:add route GET /register => register()
INFO:root:add route GET /signin => signin()
INFO:root:add route GET /signout => signout(request)
INFO:root:Init jinja2...
INFO:root:Set jinja2 template path: /home/admin/webapp/www/templates
INFO:root:add route GET /api/blogs => api_blogs(request, page)
INFO:root:add route GET /api/comments => api_comments(page)
INFO:root:add static /static/ => /home/admin/webapp/www/static
INFO:root:Server started at http://60.205.221.43:80...
INFO:root:add route POST /api/blogs => api_create_blog(request, name, summary, content, private)
INFO:root:add route POST /api/blogs/{id}/comments => api_create_comment(id, request, content)
INFO:root:add route POST /api/blogs/{id}/delete => api_delete_blog(id, request)
INFO:root:add route POST /api/comments/{id}/delete => api_delete_comment(id, request)
INFO:root:add route GET /api/blogs/{id} => api_get_blog(id)
INFO:root:add route GET /api/users => api_get_users(page)
INFO:root:add route POST /api/users => api_register_user(email, name, passwd)
INFO:root:add route POST /api/blogs/{id}/secret => api_set_private(id, request)
INFO:root:add route POST /api/blogs/{id} => api_update_blog(id, request, name, summary, content, private)
INFO:root:add route POST /api/authenticate => authenticate(email, passwd)
INFO:root:add route GET /blog/{id} => get_blog(id)
INFO:root:add route GET / => index(request, page)
INFO:root:add route GET /manage/ => manage()
INFO:root:add route GET /manage/blogs => manage_blogs(page)
INFO:root:add route GET /manage/comments => manage_comments(page)
INFO:root:add route GET /manage/blogs/create => manage_create_blogs()
INFO:root:add route GET /manage/blogs/edit => manage_edit_blog(id)
INFO:root:add route GET /manage/users => manage_users(page)
INFO:root:add route GET /register => register()
INFO:root:add route GET /signin => signin()
INFO:root:add route GET /signout => signout(request)
INFO:root:add static /static/ => /home/admin/webapp/www/static
INFO:root:Server started at http://60.205.221.43:80...
INFO:root:Request: GET /
INFO:root:Check user: GET /
INFO:root:Response handler...
INFO:root:Call with arg: {'request': <Request GET / >}
INFO:aiohttp.access:106.120.206.159 [24/May/2018:08:08:17 +0000] "GET / HTTP/1.1" 200 5383 "-" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/66.0.3359.181 Safari/537.36"
INFO:root:Request: GET /
INFO:root:Check user: GET /
INFO:root:SQL: select `id`, `created_at`, `passwd`, `admin`, `email`, `image`, `name` from `users` where `id`=?
INFO:root:Rows returned: 1
INFO:root:Set current user: m15801021028@163.com
INFO:root:Response handler...
INFO:root:Call with arg: {'request': <Request GET / >}
INFO:aiohttp.access:106.120.206.159 [24/May/2018:08:08:19 +0000] "GET / HTTP/1.1" 200 5577 "-" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/66.0.3359.181 Safari/537.36"
INFO:root:Request: GET /static/css/markdown.min.css
INFO:root:Check user: GET /static/css/markdown.min.css
INFO:root:SQL: select `id`, `created_at`, `passwd`, `admin`, `email`, `image`, `name` from `users` where `id`=?
INFO:root:Rows returned: 1
INFO:root:Set current user: m15801021028@163.com
INFO:root:Response handler...
INFO:aiohttp.access:106.120.206.159 [24/May/2018:08:08:19 +0000] "GET /static/css/markdown.min.css HTTP/1.1" 304 141 "http://lxiao.net/" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/66.0.3359.181 Safari/537.36"
INFO:root:Request: GET /static/css/markdown.css
INFO:root:Check user: GET /static/css/markdown.css
INFO:root:SQL: select `id`, `created_at`, `passwd`, `admin`, `email`, `image`, `name` from `users` where `id`=?
INFO:root:Rows returned: 1
INFO:root:Set current user: m15801021028@163.com
INFO:root:Response handler...
INFO:aiohttp.access:106.120.206.159 [24/May/2018:08:08:19 +0000] "GET /static/css/markdown.css HTTP/1.1" 304 141 "http://lxiao.net/" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/66.0.3359.181 Safari/537.36"
INFO:root:Request: GET /api/blogs
INFO:root:Check user: GET /api/blogs
INFO:root:SQL: select `id`, `created_at`, `passwd`, `admin`, `email`, `image`, `name` from `users` where `id`=?
INFO:root:Rows returned: 1
INFO:root:Set current user: m15801021028@163.com
INFO:root:Response handler...
INFO:root:Call with arg: {'page': '1', 'request': <Request GET /api/blogs >}
INFO:root:SQL: select count(id) _num_ from `blogs`
INFO:root:Rows returned: 1
INFO:root:SQL: select `id`, `private`, `user_name`, `content`, `summary`, `user_id`, `created_at`, `name`, `user_image` from `blogs` order by created_at desc limit ?, ?
INFO:root:Rows returned: 5
INFO:aiohttp.access:106.120.206.159 [24/May/2018:08:08:20 +0000] "GET /api/blogs?page=1 HTTP/1.1" 200 26475 "http://lxiao.net/" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/66.0.3359.181 Safari/537.36"
INFO:root:Request: GET /manage/
INFO:root:Check user: GET /manage/
INFO:root:SQL: select `id`, `created_at`, `passwd`, `admin`, `email`, `image`, `name` from `users` where `id`=?
INFO:root:Rows returned: 1
INFO:root:Set current user: m15801021028@163.com
INFO:root:Response handler...
INFO:root:Call with arg: {}
INFO:aiohttp.access:106.120.206.159 [24/May/2018:08:08:23 +0000] "GET /manage/ HTTP/1.1" 302 190 "http://lxiao.net/" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/66.0.3359.181 Safari/537.36"
INFO:root:Request: GET /manage/blogs
INFO:root:Check user: GET /manage/blogs
INFO:root:SQL: select `id`, `created_at`, `passwd`, `admin`, `email`, `image`, `name` from `users` where `id`=?
INFO:root:Rows returned: 1
INFO:root:Set current user: m15801021028@163.com
INFO:root:Response handler...
INFO:root:Call with arg: {}
INFO:aiohttp.access:106.120.206.159 [24/May/2018:08:08:23 +0000] "GET /manage/blogs HTTP/1.1" 200 7439 "http://lxiao.net/" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/66.0.3359.181 Safari/537.36"
INFO:root:Request: GET /api/blogs
INFO:root:Check user: GET /api/blogs
INFO:root:SQL: select `id`, `created_at`, `passwd`, `admin`, `email`, `image`, `name` from `users` where `id`=?
INFO:root:Rows returned: 1
INFO:root:Set current user: m15801021028@163.com
INFO:root:Response handler...
INFO:root:Call with arg: {'page': '1', 'request': <Request GET /api/blogs >}
INFO:root:SQL: select count(id) _num_ from `blogs`
INFO:root:Rows returned: 1
INFO:root:SQL: select `id`, `private`, `user_name`, `content`, `summary`, `user_id`, `created_at`, `name`, `user_image` from `blogs` order by created_at desc limit ?, ?
INFO:root:Rows returned: 5
INFO:aiohttp.access:106.120.206.159 [24/May/2018:08:08:23 +0000] "GET /api/blogs?page=1 HTTP/1.1" 200 26475 "http://lxiao.net/manage/blogs" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/66.0.3359.181 Safari/537.36"
INFO:root:Request: GET /manage/blogs/create
INFO:root:Check user: GET /manage/blogs/create
INFO:root:SQL: select `id`, `created_at`, `passwd`, `admin`, `email`, `image`, `name` from `users` where `id`=?
INFO:root:Rows returned: 1
INFO:root:Set current user: m15801021028@163.com
INFO:root:Response handler...
INFO:root:Call with arg: {}
INFO:aiohttp.access:106.120.206.159 [24/May/2018:08:08:24 +0000] "GET /manage/blogs/create HTTP/1.1" 200 6788 "http://lxiao.net/manage/blogs" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/66.0.3359.181 Safari/537.36"
INFO:root:Request: POST /api/blogs
INFO:root:Check user: POST /api/blogs
INFO:root:SQL: select `id`, `created_at`, `passwd`, `admin`, `email`, `image`, `name` from `users` where `id`=?
INFO:root:Rows returned: 1
INFO:root:Set current user: m15801021028@163.com
INFO:root:Response handler...
INFO:root:Call with arg: {'summary': 'public blog', 'name': 'test for public', 'request': <Request POST /api/blogs >, 'content': 'test'}
INFO:root:SQL: insert into `blogs` (`private`, `user_name`, `content`, `summary`, `user_id`, `created_at`, `name`, `user_image`, `id`) values (?, ?, ?, ?, ?, ?, ?, ?, ?)
INFO:aiohttp.access:106.120.206.159 [24/May/2018:08:08:50 +0000] "POST /api/blogs HTTP/1.1" 200 521 "http://lxiao.net/manage/blogs/create" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/66.0.3359.181 Safari/537.36"
INFO:root:Request: GET /blog/0015271493307140e7b6ae240c24d94a15993262daf36ee000
INFO:root:Check user: GET /blog/0015271493307140e7b6ae240c24d94a15993262daf36ee000
INFO:root:SQL: select `id`, `created_at`, `passwd`, `admin`, `email`, `image`, `name` from `users` where `id`=?
INFO:root:Rows returned: 1
INFO:root:Set current user: m15801021028@163.com
INFO:root:Response handler...
INFO:root:Call with arg: {'id': '0015271493307140e7b6ae240c24d94a15993262daf36ee000'}
INFO:root:SQL: select `id`, `private`, `user_name`, `content`, `summary`, `user_id`, `created_at`, `name`, `user_image` from `blogs` where `id`=?
INFO:root:Rows returned: 1
INFO:root:SQL: select `id`, `user_id`, `user_name`, `created_at`, `blog_id`, `content`, `user_image` from `comments` where blog_id=? order by created_at desc
INFO:root:Rows returned: 0
INFO:aiohttp.access:106.120.206.159 [24/May/2018:08:08:50 +0000] "GET /blog/0015271493307140e7b6ae240c24d94a15993262daf36ee000 HTTP/1.1" 200 6326 "http://lxiao.net/manage/blogs/create" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/66.0.3359.181 Safari/537.36"
INFO:root:Request: GET /
INFO:root:Check user: GET /
INFO:root:SQL: select `id`, `created_at`, `passwd`, `admin`, `email`, `image`, `name` from `users` where `id`=?
INFO:root:Rows returned: 1
INFO:root:Set current user: m15801021028@163.com
INFO:root:Response handler...
INFO:root:Call with arg: {'request': <Request GET / >}
INFO:aiohttp.access:106.120.206.159 [24/May/2018:08:08:56 +0000] "GET / HTTP/1.1" 200 5577 "http://lxiao.net/blog/0015271493307140e7b6ae240c24d94a15993262daf36ee000" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/66.0.3359.181 Safari/537.36"
INFO:root:Request: GET /api/blogs
INFO:root:Check user: GET /api/blogs
INFO:root:SQL: select `id`, `created_at`, `passwd`, `admin`, `email`, `image`, `name` from `users` where `id`=?
INFO:root:Rows returned: 1
INFO:root:Set current user: m15801021028@163.com
INFO:root:Response handler...
INFO:root:Call with arg: {'page': '1', 'request': <Request GET /api/blogs >}
INFO:root:SQL: select count(id) _num_ from `blogs`
INFO:root:Rows returned: 1
INFO:root:SQL: select `id`, `private`, `user_name`, `content`, `summary`, `user_id`, `created_at`, `name`, `user_image` from `blogs` order by created_at desc limit ?, ?
INFO:root:Rows returned: 5
INFO:aiohttp.access:106.120.206.159 [24/May/2018:08:08:56 +0000] "GET /api/blogs?page=1 HTTP/1.1" 200 19975 "http://lxiao.net/" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/66.0.3359.181 Safari/537.36"
INFO:root:Request: GET /manage/
INFO:root:Check user: GET /manage/
INFO:root:SQL: select `id`, `created_at`, `passwd`, `admin`, `email`, `image`, `name` from `users` where `id`=?
INFO:root:Rows returned: 1
INFO:root:Set current user: m15801021028@163.com
INFO:root:Response handler...
INFO:root:Call with arg: {}
INFO:aiohttp.access:106.120.206.159 [24/May/2018:08:08:59 +0000] "GET /manage/ HTTP/1.1" 302 190 "http://lxiao.net/" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/66.0.3359.181 Safari/537.36"
INFO:root:Request: GET /manage/blogs
INFO:root:Check user: GET /manage/blogs
INFO:root:SQL: select `id`, `created_at`, `passwd`, `admin`, `email`, `image`, `name` from `users` where `id`=?
INFO:root:Rows returned: 1
INFO:root:Set current user: m15801021028@163.com
INFO:root:Response handler...
INFO:root:Call with arg: {}
INFO:aiohttp.access:106.120.206.159 [24/May/2018:08:08:59 +0000] "GET /manage/blogs HTTP/1.1" 200 7439 "http://lxiao.net/" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/66.0.3359.181 Safari/537.36"
INFO:root:Request: GET /api/blogs
INFO:root:Check user: GET /api/blogs
INFO:root:SQL: select `id`, `created_at`, `passwd`, `admin`, `email`, `image`, `name` from `users` where `id`=?
INFO:root:Rows returned: 1
INFO:root:Set current user: m15801021028@163.com
INFO:root:Response handler...
INFO:root:Call with arg: {'page': '1', 'request': <Request GET /api/blogs >}
INFO:root:SQL: select count(id) _num_ from `blogs`
INFO:root:Rows returned: 1
INFO:root:SQL: select `id`, `private`, `user_name`, `content`, `summary`, `user_id`, `created_at`, `name`, `user_image` from `blogs` order by created_at desc limit ?, ?
INFO:root:Rows returned: 5
INFO:aiohttp.access:106.120.206.159 [24/May/2018:08:08:59 +0000] "GET /api/blogs?page=1 HTTP/1.1" 200 19975 "http://lxiao.net/manage/blogs" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/66.0.3359.181 Safari/537.36"
INFO:root:Request: POST /api/blogs/0015271493307140e7b6ae240c24d94a15993262daf36ee000/delete
INFO:root:Check user: POST /api/blogs/0015271493307140e7b6ae240c24d94a15993262daf36ee000/delete
INFO:root:SQL: select `id`, `created_at`, `passwd`, `admin`, `email`, `image`, `name` from `users` where `id`=?
INFO:root:Rows returned: 1
INFO:root:Set current user: m15801021028@163.com
INFO:root:Response handler...
INFO:root:Call with arg: {'request': <Request POST /api/blogs/0015271493307140e7b6ae240c24d94a15993262daf36ee000/delete >, 'id': '0015271493307140e7b6ae240c24d94a15993262daf36ee000'}
INFO:root:SQL: select `id`, `private`, `user_name`, `content`, `summary`, `user_id`, `created_at`, `name`, `user_image` from `blogs` where `id`=?
INFO:root:Rows returned: 1
INFO:root:SQL: delete from `blogs` where `id`=?
INFO:aiohttp.access:106.120.206.159 [24/May/2018:08:09:01 +0000] "POST /api/blogs/0015271493307140e7b6ae240c24d94a15993262daf36ee000/delete HTTP/1.1" 200 217 "http://lxiao.net/manage/blogs" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/66.0.3359.181 Safari/537.36"
INFO:root:Request: GET /manage/blogs
INFO:root:Check user: GET /manage/blogs
INFO:root:SQL: select `id`, `created_at`, `passwd`, `admin`, `email`, `image`, `name` from `users` where `id`=?
INFO:root:Rows returned: 1
INFO:root:Set current user: m15801021028@163.com
INFO:root:Response handler...
INFO:root:Call with arg: {}
INFO:aiohttp.access:106.120.206.159 [24/May/2018:08:09:01 +0000] "GET /manage/blogs?t=1527149345927 HTTP/1.1" 200 7439 "http://lxiao.net/manage/blogs" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/66.0.3359.181 Safari/537.36"
INFO:root:Request: GET /api/blogs
INFO:root:Check user: GET /api/blogs
INFO:root:SQL: select `id`, `created_at`, `passwd`, `admin`, `email`, `image`, `name` from `users` where `id`=?
INFO:root:Rows returned: 1
INFO:root:Set current user: m15801021028@163.com
INFO:root:Response handler...
INFO:root:Call with arg: {'page': '1', 'request': <Request GET /api/blogs >}
INFO:root:SQL: select count(id) _num_ from `blogs`
INFO:root:Rows returned: 1
INFO:root:SQL: select `id`, `private`, `user_name`, `content`, `summary`, `user_id`, `created_at`, `name`, `user_image` from `blogs` order by created_at desc limit ?, ?
INFO:root:Rows returned: 5
INFO:aiohttp.access:106.120.206.159 [24/May/2018:08:09:02 +0000] "GET /api/blogs?page=1 HTTP/1.1" 200 26475 "http://lxiao.net/manage/blogs?t=1527149345927" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/66.0.3359.181 Safari/537.36"
